////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; http://creativecommons.org/licenses/by-sa/3.0/de/
; http://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; http://creativecommons.org/licenses/by-sa/3.0/
; http://creativecommons.org/licenses/by-sa/3.0/legalcode
;
; credits: http://www.opsi.org/credits/
////

////
;***************************************************************************
; Subversion:
; $Revision:  $ $Author: oertel $
; $Date: $
;***************************************************************************
////

:Author:    uib gmbh
:Email:     info@uib.de
:Revision:  4.0.7
:doctype:   book

// Include common opsi terms
include::../common/opsi_terms.asciidoc[]

[[opsi-407-releasenotes]]
= opsi Version 4.0.7 Release Notes

// Include common opsi copyright
include::../common/opsi_manual_copyright.asciidoc[]


[[opsi-407-releasenotes-overview]]
== Overview of the new features

*The Highlights of this Release are:*

* Ubuntu 16.04 (Xenial) support
* New opsi bootimage
* Extended Linux support with new opsi-linux netboot products, a new client-agent with 15 free starts and even more features.
* Focusing opsi also as a tool for configuration management and for general automatisation in the context of 'continous integration' processes in heterogeneous environments (Windows / Linux)
* Product sorting during installation for (standard) algorithm 1 is fixed
* New opsi-client-agent

The opsi Service Release 4.0.7 comes with a lot of new features and improvements.

*Here is a summary:*

* New opsi-bootimage
** Uses Ubuntu Xenial 16.04 as base
** Kernel 4.4.11

* opsi-server packages now also for:
** Ubuntu 16.04
** sles11sp4
** sles12sp1
** See also special chapter: <<opsi-407-releasenotes-supportmatrix>>.


* opsi-configed:
** Scheduler for WakeOnLan integrated
** WakeOnLan dispatches calls to (clients of) depotservers
** Passwords in properties are now hidden
** Selection list for config server on logon
** New main menu entry "windows"
** Extended search function
** Expanded functions for groups in the tree view component
** Several bug fixes


* opsi-client-agent:
** New Client for the Kiosk mode
** Complete new build based on python 2.7 and NT6
** NT5: Support for NT5 is now frozen to opsiclientd version 4.0.83 (With OpenSSL 1.0.2f)
** Proxysupport for all HTTP(S)-Connections from opsiclientd
** New Feature to control over product groups and which products will be processed  (include and exclude of products per Event)
** Support for Windows 10 in WAN-Mode for the mshotfix-Abo
** Upgrade of SSL libraries to 1.0.2h
** See also special chapter: <<opsi-407-releasenotes-clientagent>>

* opsi-winst / opsi-script (4.11.6.1)
** Several new functions
** Upgrade of the SSL libraries to 1.0.2h
** See also special chapter: <<opsi-407-releasenotes-opsi-script>>


* Installation sequence (sort algorithm 1) fixed
The sort algorithm 1 should generate a product sequence from product dependencies and product priorities, based on the premise that dependencies
override priorities.. +
The sequence of products with action requests which the opsi-winst gets now keeps its order even if the scripts have partly been executed. +
See also special chapter: <<opsi-407-releasenotes-product-sorting>>


* opsi-clonezilla:
** new version
** property: 'runcommand' is working once again with value 'ocs-live'
** UEFI Support
** See special chapter: <<opsi-407-releasenotes-opsi-clonezilla>>

* opsi-linux-support:
** New opsi-linux-client-agent (with 15 free starts)
** debian8 product may use a local http repository
** ubunt16-04 product may use a local http repository
** Possibility to provide local http repositories for Linux OS installations
** Server package `opsi-linux-support` now provides the base infrastructure for these local http repositories
** Product l-opsi-server which installs a new opsi-server (for a new depot or test system)
** See special chapter: <<opsi-407-releasenotes-linux>>

* opsi-logviewer:
** The tool developed by uib opsi-logviewer now also opens compress Files.
** The product opsi-logviewer it is also compatible with Linux.
** The new dependency to Javavm (before start) makes sure that the Logviewer starts correctly.

* Miscellaneous
** There is a new configuration file for the Hardware inventory.
With the same it's possible, to request Data on the physical and
logical cores of a system.
** When using the option 'resolveHostAddress' at the backends HostControl and HostControlSafe +
 and a failed attempt to resolv the name resolution occurs, a previously stored IP address can be used eventually.
** Numerous improvements and features in the Python-opsi library

[[opsi-407-releasenotes-important]]
== Important Notice - Please pay attention


=== With the combination Ubuntu 16.04 and mysql it is mandatory to notice the following:

CAUTION: Ubuntu Xenial (16.04) uses MySQL 5.7. This version uses the 'strict mode' per default. Previously this was optional. This leads to an error on the command _opsi-setup_ _--configure-mysql_. Before you execute the command, the following should be edited:
[source,prompt]
----
/etc/mysql/mysql.conf.d/mysqld.cnf
----
In the [mysqld] Section you must add the following the line:
[source,prompt]
----
sql_mode=NO_ENGINE_SUBSTITUTION
----
Now the service `mysql` has to be restarted:
[source,prompt]
----
service mysql restart
----

It is now possible to continue working under Ubuntu Xenial.

=== Use current Netboot products with 4.0.7:

CAUTION: The Netboot products from 4.0.6 are unfortunately not compatible with the bootimage 4.0.7. Apply at the pre-Release version published on 24.6.2016  (https://forum.opsi.org/viewtopic.php?f=1&t=8480) or the one that comes with this Release version.

In case of error please update your Netboot products ! +
Just in case of emergency check the old bootimages under http://download.uib.de/opsi4.0/archiv/opsi-linux-bootimage/


=== The sorting algorythm1 was repaired:

CAUTION: Through the repairing of old bugs the installation sequence had changed in comparison to the defective sequence in 4.0.6

=== opsi-product-updater behavior

By default the windows netboot products are not updated when running the opsi-product-updater. The option -p installed a specific product. This behavior has changed. The windows netboot products are now updated when running the opsi-product-updater. Similar to an update of localboot products. A remark during the update of the opsi-utils package informs about this changed configuration. You have to edit the configuration if you have user access to products.

=== Configuarion of samba shares
On existing installations the configuration of the samba shares features the *oplock* parameter. This leads to a bug in combination with linux machines. It is recommendet to remove all *oplock* parameters from the samba configuration file and restart the daemon. New opsi installations do not feature the *oplock* parameter.


[[opsi-407-releasenotes-installation]]
== Installation notes

For safety reasons we recommend creating a backup of your backends with +
{opsi-backup} before updating:
[source,prompt]
----
opsi-backup create
----

The products contained in this release depend on each other in many cases. +
Do not try to install just parts of this update.

We recommend to first update the server, and then update the opsi products.

When upgrading an existing opsi server your package manager may ask you if you +
want to replace `/etc/opsi/opsi-product-updater.conf` with a newer version.
If this question appears and you did not change the mentioned file you can replace the file with the new one.
If you changed the file or are unsure please deny the replacement.

This update provides an updated configuration file for hardware inventory.
We recommend running ``opsi-setup --init-current-config`` to apply these changes.

To make sure that permissions are applied correctly +
we recommend to run ``opsi-setup --set-rights`` after the installation. +
Please be aware that the execution of latter can take several minutes.


[[opsi-407-releasenotes-installation-opsipackages]]
=== Notes for updating opsi-packages

////
Bitte nachstehenden Block bei release nicht löschen sondern auskommentieren
////

////
To install the testing server packages the opsi repository has to be changed from `opsi40` to `opsi40-testing`.

In case of Ubuntu 14.04: +
`deb http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40/xUbuntu_14.04 ./` +
replace with: +
`deb http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40-testing/xUbuntu_14.04 ./`

Then the packages can be updated. +


For example Ubuntu / Debian:
[source,prompt]
----
aptitude update
aptitude full-upgrade
----
For installing the opsi products: +

For installing the testing opsi products you should add to the file: +
`/etc/opsi/opsi-product-updater.conf` +
the following section

[source,prompt]
----
[repository_opsi_407_testing]
baseUrl = http://download.uib.de
dirs = opsi4.0/testing/opsi-v407/products/localboot, opsi4.0/testing/opsi-v407/products/netboot, opsi4.0/testing/opsi-v407/products/opsi-linux
active = true
username =
password =
autoInstall = false
autoUpdate = true
autoSetup = false
onlyDownload = false
----

You may append the `dirs` line by:

* `, opsi4.0/testing/opsi-v407/products/opsi-local-image`


Set in the section `[repository_uib]` the following line:
[source,prompt]
----
active = false
----
Then execute the opsi-product-updater.


To install all packages:
[source,prompt]
----
opsi-product-updater -i -vv
----

To install updates only:
[source,prompt]
----
opsi-product-updater -vv
----

First update your opsi server (according to the update command of your Linux distribution) before you update the clients. +
////
In case of a multi depot installation first upgrade the config-server before upgrading the depots.


////
Bitte vorstehenden Block bei release nicht löschen sondern auskommentieren
////

////
The installation does not require any special action. It is performed within the normal updates of your server and opsi products.

First update the server according to the update command of your Linux distribution. +

We recommend to set in `/etc/opsi/opsi-product-updater.conf`
in the section `[repository_uib]` the following to get all products even if they start with win* :
[source,prompt]
----
excludes =
----

If you need the opsi-linux products you should append the `dirs` entry: +

[source,prompt]
----
dirs = opsi4.0/products/localboot, opsi4.0/products/netboot
----
by the path `opsi4.0/products/opsi-linux`

If you need the opsi-local-image products you should append the `dirs` entry
by the path `opsi4.0/products/opsi-local-image`

Then execute the opsi-product-updater.

[source,prompt]
----
opsi-product-updater -i -vv
----

To install updates only:
[source,prompt]
----
opsi-product-updater -vv
----

In case of a multi depot installation first upgrade the config-server before upgrading the depots.


If you want to use product-ids with a length of more than 32 characters and are using the MySQL-backend please update the table definition on your configserver with the following command:

[source,prompt]
----
opsi-setup --update-mysql
----
////



////
For details please refer to the opsi-v405-releasenotes manual and the revised opsi manuals.
////

[[opsi-407-releasenotes-packages]]
== List of packages

.server packages:
* opsi-linux-support_4.0.7-5
* opsi-utils 4.0.7.5-1
* opsiconfd 4.0.7.4-1
* opsipxeconfd_4.0.7.1-1
* python-opsi 4.0.7.16-1
* opsi-linux-bootimage-20160706-1
* opsi-configed_4.0.7.1.3-1
* opsi-nagios-plugins 4.0.7.2-1
* opsi-atftp 0.7.dfsg-6

.opsi packages (localboot):
* opsi-client-agent_4.0.7.3-1
* opsi-configed_4.0.7.1.3-3
* opsi-winst 4.11.6.1-1
* opsi-winst-test_4.11.6.1-1
* jedit_5.3.0-1
* opsi-logviewer 2.2-2
* opsi-wim-capture_4.0.7.1-1
* opsi-wim-info_4.0.7.1-1

.opsi packages (netboot):
* win* (NT6) 4.0.7.1-1
* opsi-clonezilla_4.0.7.2-2

.opsi packaages (opsi-linux):
* Ubuntu16-04_4.0.7.1-1
* Ubuntu14-04_4.0.7.1-1
* debian8_4.0.7.1-1
* debian7_4.0.7.1-1
* centos70_4.0.7.1-1
* redhat70_4.0.7.1-3
* sles11sp4_4.0.7.1-1
* sles12sp1_4.0.7.1-2
* sles12_4.0.7.1-3
* opensuse41-1_4.0.7.1-1
* opensuse13-2_4.0.7.1-1
* ubuntu_4.0.7.1-1
* debian_4.0.7.1-1

* opsi-linux-client-agent_4.0.7.2-1
* l-system-update_4.0.7.1-1
* l-opsi-server_4.0.7.1-4
* l-jedit 5.3-6


.opsi-Packages (opsi-local-image):
* opsi-local-image-win* 4.0.7.1-1
* opsi-local-image-backup_4.0.7.2-2
* opsi-local-image-restore_4.0.7.1-2
* opsi-local-image-ubuntu_4.0.7.1-1
* opsi-local-image-delimage_4.0.7.1-1
* opsi-local-image-capture_4.0.7.1-1
* opsi-local-image-prepare_4.0.7.1-1
* opsi-local-image-opensuse13-2_4.0.7.1-1

[[opsi-407-releasenotes-missing]]
== What is still missing (and under progress)

* opsi-client-agent: +
To execute opsi-winst scripts as the current user during login 'User Profile Management'.

* opsi-linux-client-agent: +
** A real opsiclientd service for the following distributions: +
RedHat 7 +
CentOS 7

* opsi-linux 4.0.7 netboot products: uefi support

[[opsi-407-releasenotes-knownbugs]]
== Known Bugs / Known Problems

.KNOWN BUGS:

* opsi-winst 4.11.6.1: +
In interactive mode, the Logviewer is temporary not functional.


.KNOWN PROBLEMS:

* None

[[opsi-407-releasenotes-eol]]
== Discontinuation

[[opsi-407-releasenotes-eol_server]]
=== Discontinuation: Distributions for opsi-server

This chapter lists distributions that are not supported by opsi anymore for various reasons.

* sles11sp3

See also the support matrix: <<opsi-407-releasenotes-supportmatrix>>.

[[opsi-407-releasenotes-eol_winclient]]
=== Discontinuation clients: Windows versions

With opsi v4.0.7 the netboot packages for

* Windows 8

are not maintained anymore. +
Also in the near future the Update Abos will not support these Windows versions anymore. +
Please contact us in case of any questions or concerns.

See also the chapter: <<opsi-407-releasenotes-netboot-windows>>.

[[opsi-407-releasenotes-eol_linclient]]
=== Discontinuation clients: Linux versions

With opsi v4.0.7 the netboot packages for

* centos65
* redhat65
* opensuse13-1
* sles11sp3
* ubuntu14-10
* ubuntu15-04
* ubuntu15-10


will not be maintained anymore. Please contact us in case of any questions or concerns.

[[opsi-407-releasenotes-supportmatrix]]
== opsi Support Matrix

This is an overview on which distributions and releases the opsi-server will run:

////
include::../common/opsi_manual_supportmatrix.asciidoc[]
////

[[opsi-manual-supportmatrix-server]]
=== Supported distributions for server

Date: 17.07.2017

[cols="12,^3,5"]
|==========================
|  Distribution             | Opsi 4.0.7 | Remark
|Debian 9 _Stretch_         | image:develop.png[width=18] |
|Debian 8 _Jessie_          | image:supported.png[width=18] |
|Debian 7 _Wheezy_          | image:supported.png[width=18] |
|Ubuntu 16.04 LTS _Xenial Xerus_      | image:supported.png[width=18] |
|Ubuntu 14.04 LTS _Trusty Tahir_      | image:supported.png[width=18] |
|Ubuntu 12.04 LTS _Precise Pangolin_  | image:supported.png[width=18] |
|RHEL 7                     | image:supported.png[width=18] |
|RHEL 6                     | image:supported.png[width=18] |
|CentOS 7                   | image:supported.png[width=18] |
|CentOS 6                   | image:supported.png[width=18] |
|SLES 12SP2                 | image:supported.png[width=18] |
|SLES 12SP1                 | image:supported.png[width=18] |
|SLES 12                    | image:supported.png[width=18] |
|SLES 11SP4                 | image:supported.png[width=18] |
|SLES 11SP3                 | image:discontinued.png[width=18] |
|openSuse Leap42.1          | image:supported.png[width=18] |
|openSuse Leap42.2          | image:supported.png[width=18] |
|openSuse 13.2              | image:discontinued.png[width=18] |
|UCS 4.2                    | image:develop.png[width=18] | not on Role Member
|UCS 4.1                    | image:supported.png[width=18] |
|UCS 4.0                    | image:supported.png[width=18] | not on Role Member
|UCS 3.3                    | image:unsupported.png[width=18] |
|UCS 3.2                    | image:supported.png[width=18] | not on Role Member
|==========================

image:supported.png[width=15]: Supported
image:unsupported.png[width=15]: Unsupported
image:develop.png[width=15]: Under development
image:discontinued.png[width=15]: Discontinued


If you are using an OS version which is not contained in the section above,
we recommend updating the OS before installing opsi v4.0.7.


[[opsi-407-releasenotes-opsi-configed]]
== Improvements for '{opsi-configed}'

==== WakeOnLan Scheduler

Using the WakeOnLan command, you will send to the selected clients a WakeOnLan signal.

Since version 4.0.7 you can choose

* if the network signal is meant to be sent to the selected clients at once
* which delay there should be between the waking of two clients
* when the process shall start (via a scheduler).

If a client is assigned to a depot server which is not the config server then the Wake On Lan signal is not directly sent to the client,
but the '{opsi-configed}' tries to establish a HTTPS connection to the 'opsiconfd' of the depot server which in turn sends the Wake On Lan package to the client inside its network segment.

.'{opsi-configed}': Scheduler for Wake On Lan
image::opsi-configed-wake-on-lan-scheduler.png["{opsi-configed}: Scheduler for Wake On Lan", width="120mm"]


[[opsi-407-releasenotes-opsi-configed-passwordprop]]
=== Hiding of Password Property Values

A property value that is a password should not be directly displayed.

Until this feature is specially develop as a special value type in some coming release, a hack is introduced as a property value
that will only be displayed if the user explicitly request it:

* the property key text contains the string 'password'
* the property key text starts with the string 'secret'

E.g., the value of the property 'root_password' in the Linux netboot products is displayed as a sequence of stars  (until the user clicks on edit and then explicitly confirms that the password must be shown).


=== Selection list for config server on logon

In the local user profile, the '{opsi-configed}' saves some session infos in order to rebuild the essential working
context after restart. Since version 4.0.7 the session data is used to produce a selection list
of the opsi servers to which you were connected (e.g. a productive one and a second one for experimental purposes). The last server used
goes on top, so it can be directly use again without any further action.

.'{opsi-configed}': login mask
image::opsi-configed-login.png["opsi-configed: login mask", width="90mm"]

=== New main menu item "Windows"

The new main menu item produces menu based calls for opening the license management frame and the frames with
special functions for group and product operations.

Additionally, you will find a new item "Arrange dialog frames" by which configed dialogs which got "lost" behind other desktop frames can be
brought to the foreground again.

.'{opsi-configed}': main menu with windows sub-menu
image::opsi-configed-main-menu-windows.png["opsi-configed: main menu with windows sub-menus", width="90mm"]

=== Extended client search function inside the client table

The client search inside the client table is extended by a "Google like" search for partial words. The search options now are:

* Full-text: the search string is used like when googling in the standard manner; i. e., if the input contains several parts
(delimited by blanks) a table line will be a match if any of the input parts is fully contained in some column text.

* Full-text (complete string): the search string is used as if on googling the search string is embraced by citation marks;
i. e. a table line will a match if the complete input string is part of some column content.

* Start-text search: a table line will be a match if the column text starts with the search string.

* Regular expression: the search string is interpreted as so called regular expression; i.e., a table line will be a match


=== Extended options for working with groups in client tree view

The now more powerful context menu of a group item can be used

* to create a subgroup;
* to edit the group properties;
* to delete the group together with its subgroups and all client assignments of them;
* to remove all client assignments while keeping the group and its subgroups;
* to display the the contained clients and select them in one step.

[[opsi-407-releasenotes-linux]]
== Linux support

=== Support matrix

////
include::../common/opsi_manual_supportmatrix-linclient.asciidoc[]
////

[[opsi-manual-supportmatrix-clients-linux]]
==== Supported as opsi-client: Linux :

(as from 28.4.2017)
.Supported Linux OS as Client in opsi 4.0.7
[cols="11,3,7,3,3"]
|==========================
|  Distribution             | OS-Installation | netboot products | client-agent | opsiclientd 
|Debian 8  jessie              | image:supported.png[width=15] |  debian, debian8 |   image:supported.png[width=15]  | image:supported.png[width=15]
|Debian 7  wheezy              | image:supported.png[width=15] |  debian, debian7 |   image:supported.png[width=15]  | image:supported.png[width=15]   
|Debian 6  squeeze             | image:discontinued.png[width=15] |     |  |
|Ubuntu Xenial 16.04           | image:supported.png[width=15] |    ubuntu, ubuntu16-04 |    image:supported.png[width=15]  | image:supported.png[width=15]
|Ubuntu Wily 15.10             | image:discontinued.png[width=15] |    ubuntu,ubunt15-10 |    image:discontinued.png[width=15]  | image:unsupported.png[width=15] 
|Ubuntu Vivid 15.04            | image:discontinued.png[width=15] |    ubuntu, ubunt15-04 |    image:discontinued.png[width=15]  | image:unsupported.png[width=15] 
|Ubuntu Utopic 14.10           | image:discontinued.png[width=15] |    ubuntu |    image:discontinued.png[width=15]  | image:unsupported.png[width=15] 
|Ubuntu Trusty 14.04  LTS      | image:supported.png[width=15] |  ubuntu, ubunt14-04 |   image:supported.png[width=15]  | image:supported.png[width=15]
|Ubuntu Precise  12.04 LTS     | image:supported.png[width=15] |  ubuntu |   image:supported.png[width=15]  | image:supported.png[width=15]    
|Ubuntu Lucid 10.04  LTS       | image:discontinued.png[width=15] |     |  |
|RHEL 7                        | image:supported.png[width=15] |  rhel70 |    image:supported.png[width=15]  | image:develop.png[width=15] 
|RHEL 6                        | image:discontinued.png[width=15] |     |  |
|CentOS 7                      | image:supported.png[width=15] |  centos70 |    image:supported.png[width=15]  | image:develop.png[width=15] 
|CentOS 6                      | image:discontinued.png[width=15]       |  |  |
|SLES 12.2                     | image:supported.png[width=15] |  sles12sp1 |    image:supported.png[width=15]  | image:develop.png[width=15]
|SLES 12.1                     | image:supported.png[width=15] |  sles12sp1 |    image:supported.png[width=15]  | image:supported.png[width=15] 
|SLES 12                       | image:supported.png[width=15] |  sles12 |    image:supported.png[width=15]  | image:supported.png[width=15] 
|SLES 11SP4                    | image:supported.png[width=15] |  sles11sp4    |  image:supported.png[width=15]  | image:develop.png[width=15] 
|SLES 11SP3                    | image:discontinued.png[width=15] |  sles11sp3      | image:discontinued.png[width=15] | image:unsupported.png[width=15] 
|openSuse Leap 42.2            | image:supported.png[width=15] |   opensusel42-2 |   image:supported.png[width=15]  | image:develop.png[width=15]
|openSuse Leap 42.1            | image:supported.png[width=15] |   opensusel42-1 |   image:supported.png[width=15]  | image:supported.png[width=15] 
|openSuse 13.2                 | image:supported.png[width=15] |   opensuse13-2 |   image:supported.png[width=15]  | image:supported.png[width=15]
|openSuse 13.1 RC2             | image:discontinued.png[width=15] |        |  |
|openSUSE 12.3                 | image:discontinued.png[width=15] |     |  |
|openSuse Tumbleweed           | image:unsupported.png[width=15] |    |   image:unsupported.png[width=15]  | image:unsupported.png[width=15]
|UCS 4.2                       | image:develop.png[width=15] |   ucs42   |  image:develop.png[width=15]  | image:develop.png[width=15]
|UCS 4.1                       | image:supported.png[width=15] |   ucs41   |  image:supported.png[width=15]  | image:supported.png[width=15] 
|UCS 4.0                       | image:unsupported.png[width=15] |     |   image:supported.png[width=15]  | image:supported.png[width=15] 
|UCS 3.2                       | image:unsupported.png[width=15] |      | image:unsupported.png[width=15]  | image:unsupported.png[width=15] 
|UCS 3.0                       | image:unsupported.png[width=15] |      | image:unsupported.png[width=15]  | image:unsupported.png[width=15] 
|==========================

image:supported.png[width=15]: Supported
image:unsupported.png[width=15]: Unsupported
image:develop.png[width=15]: Under Development 
image:discontinued.png[width=15]: Discontinued

.Linux netboot products and the used installer type in opsi 4.0.7
[cols="4,4,3,5"]
|==========================
|  Netbootproduct      | Installer | State | Remark
|debian          | opsi         | image:supported.png[width=15] | squeeze - jessie
|debian8         | distribution | image:supported.png[width=15] | 
|debian7         | distribution | image:supported.png[width=15] | 
|ubuntu          | opsi         | image:supported.png[width=15] | precise - xenial
|ubuntu16-04     | distribution | image:supported.png[width=15] | 
|ubuntu15-10     | distribution | image:discontinued.png[width=15] | 
|ubuntu15-04     | distribution | image:discontinued.png[width=15] |
|ubuntu14-04     | distribution | image:supported.png[width=15] | 
|centos70        | distribution | image:supported.png[width=15] | 
|redhat70        | distribution | image:supported.png[width=15] | 
|sles12sp2       | distribution | image:supported.png[width=15] |
|sles12sp1       | distribution | image:supported.png[width=15] | 
|sles12          | distribution | image:supported.png[width=15] |
|sles11sp4       | distribution | image:supported.png[width=15] | 
|sles11sp3       | opsi         | image:supported.png[width=15] | 
|opensusel42-2   | distribution | image:supported.png[width=15] |
|opensusel42-1   | distribution | image:supported.png[width=15] | 
|opensuse13-2    | distribution | image:supported.png[width=15] |
|opensuse13-1    | opsi         | image:discontinued.png[width=15] |
|ucs42           | distribution | image:develop.png[width=15] | 
|ucs41           | distribution | image:supported.png[width=15] | 
|==========================

 


=== opsi-linux-client-agent: 15 Free starts

The opsi-linux-client-agent includes 15 Free starts by which the agent can be used without any activation

More precisely: After the initial Install from the opsi-linux-client-agent the opsi-script can be started 15 times in service context without the need of activation. +
This gives you the possibility to set a Linux computer with the corresponding opsi-products for the configuration needed.
For example, after the installation of the system you could use the product `l-opsi-server` to make an opsi-server of the newly installed Linux machine.

For a long lasting maintenance of the installed Linux computer you need to activate the module after using it for the first 15 times.

=== New boolean function waitForPackageLock

By the installation under Linux it could happen that after a restart,
an installation over the package distribution system fails,
since it's currently being used by another process.

For this issue there is now a new boolean function:
`waitForPackageLock(<seconds timeout string>,<bool should we kill>)` +
responds with 'true' when the Linux package system is not currently busy. +
If it's busy, then it will <seconds timeout string> wait the amount of seconds before release. +
If the timeout is achieved,
then the process that triggers the lock will be killed if <bool should we kill> equals 'true'. This procedure is not recommended.

Example:
[source,winst]
----
Message "Try to get Package Lock..."
if waitForPackageLock("60","false")
	comment "we got the package lock."
else
	LogError "could not get Package Lock"
	isFatalError "package lock failed"
endif
----

=== Extension of the function getLinuxVersionMap

The function `getLinuxVersionMap` supplies as Key 'SubRelease'.
The Key 'SubRelease' is assigned to SLES Systems as Patch level stand as value.
Also on SLES11SP4: 'SubRelease=4'.

=== The product l-opsi-server

The product 'l-opsi-server' serves to an opsi-server via opsi-linux-client-agent on a Linux machine
in an automated way. This can be useful to quickly install a new opsi-depot-server
or e.G. an opsi test system.

The product 'l-opsi-server' has the following Properties:

* `opsi_online_repository`: +
(Base-) Repository for opsi-server installation. (Default="http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40") +
see also 'repo_kind'

* `opsi_noproxy_online_repository`: +
(Base-) Repository for opsi-server installation (without any cache proxy). (Default="http://download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40") +
Should you require on `opsi_online_repository` to introduce a Proxy or deb-cacher
(e.G. 'http://mydeb-cacher:9999/download.opensuse.org/repositories/home:/uibmz:/opsi:/opsi40"),
then introduce the URL without Proxy. Otherwise introduce the same as `opsi_noproxy_online_repository`.

* `repo_kind`: +
Which kind of repository ["experimental", "stable", "testing"] should be installed ?. (Default='stable') +
With the Client OS, 'opsi_online_repository' and 'repo_kind' the URL will be built and the client
will be added to an opsi repository.

* `backend`: +
Which backend should be installed? (mysql needs a valid activation file). (Default='file') +
A modules file with the require Activations can be stored in the custom directory of the product.
If a modules file is found there, then will this one used.

* `opsi_admin_user_name`: +
The name of the opsi_admin_user to create (empty= nothing created). (Default='adminuser') +
If a user is introduced here, it will applied, also it will be added to the group 'opsiadmin', 'pcpatch'/'opsifileadmin'
and become as unix and samba password the value `opsi_admin_user_password`

* `opsi_admin_user_password`: +
What is the opsi_admin_user to create (empty= nothing created). (Default='linux123') +
see `opsi_admin_user_name`

* `setup_after_install`: +
Which opsi product(s) should we switch to setup after l-opsi-server installation is done ?. (Default="")

* `allow_reboot`: +
Should the server reboot if the script is finished?. (Default='true')

* `install_and_configure_dhcp`: +
Should we run the dhcp server on this machine ?. (Default='False') +
If this property is 'false' then the following properties: 'netmask', 'network',
'dnsdomain','nameserver' and 'gateway' are meaningless because they are only used for
dhcp configuration.

* `netmask`: +
Netmask  (for dhcp). (Default="255.255.0.0") +
Meaningless if 'install_and_configure_dhcp=false'

* `network`: +
network address (for dhcp). (Default="192.168.0.0") +
Meaningless if 'install_and_configure_dhcp=false'

* `dnsdomain`: +
DNS domain (for dhcp). (Default="uib.local") +
Meaningless if 'install_and_configure_dhcp=false'

* `nameserver`: +
Primary nameserver (for dhcp). (Default="192.168.1.245") +
Meaningless if 'install_and_configure_dhcp=false'

* `gateway`: +
gateway (option routers for dhcp). (Default="192.168.1.245") +
Meaningless if 'install_and_configure_dhcp=false'

* `update_test`: +
Do not use: Internal Debugging. (Default='False')

* `ucs_master_admin_password`: +
On a UCS machine  the roles Slave, Backup and Member have to be joined correctly with the Mas
ter. This property takes the password to perform the join.

The product has 'setup required before' dependency to the product 'l-system-update'.
That means when you set 'l-opsi-server' on 'setup' it will also automatically set 'l-system-update' also on setup
and this one, will be installed before.

In the directory `custom` of the product `l-opsi-server` the activated file (`modules`) is stored, which is used in the Installation of the product `l-opsi-server` and will be preserved in the case of a new version of the product.


CAUTION: Currently, a computer can't be at the same time opsi-server,
opsi-client and opsi-depot-server. +
Thus when 'l-opsi-server' must act as Depot server and also as Config-Server,
you must before delete it as Client in the configed.

=== Setting up a local deb http repository

With opsi 4.0.7 you can install debian8 and Ubuntu16-04 from a local apache repository. The opsi-linux-support package provides the apache2 system package
and also creates the necessary folders. You then have to fill these with our provided debian8 and ubuntu16-04 repository available at our download server.

The debian8 and ubuntu 16-04 package c an now be installed from a local Apache2 repository. +
To do that on Product as property '' you must introduce the Address based on this example `http://<opsi-server>/opsi/<productId>` e.G `http://opsiserver/opsi/debian8` +
Furthermore, the local repository must be of course created. +
To do this please make sure that the product `opsi-linux-support` is installed on your opsi-server. This package installs the required packages for each Distribution(apache2) and also creates the necessary folders. These must be then completed with the corresponding Distribution repository. +
To that end there are two possibilities:

. Simple: You download a built and tested Repository from us and unpack it
. Elaborate: You build it yourself


Simple: +
Execute the following command as 'root'. +
Note that the path to the Apache2 `DocumentRoot` has different defaults which are dependent to each distribution. +
Therefore, you may need to use the second line of the script !

==== debian8

[source,prompt]
----
#! /bin/bash
DOCUMENTROOT=/var/www/html
URL=http://download.uib.de/opsi4.0/products/opsi-linux
FILE=debian8.tgz
mkdir -p ${DOCUMENTROOT}/opsi
cd ${DOCUMENTROOT}/opsi
wget ${URL}/${FILE}
tar xzf ${FILE}
opsi-set-rights .
----


==== ubuntu16-04

[source,prompt]
----
#! /bin/bash
DOCUMENTROOT=/var/www/html
URL=http://download.uib.de/opsi4.0/products/opsi-linux
FILE=ubuntu16-04.tgz
mkdir -p ${DOCUMENTROOT}/opsi
cd ${DOCUMENTROOT}/opsi
wget ${URL}/${FILE}
tar xzf ${FILE}
opsi-set-rights .
----


[[opsi-407-releasenotes-clientagent]]
== New opsi-client-agent

* New opsiclientd
* New Client kiosk

CAUTION: The new mentioned features are only available for NT6. Under NT5 (e.G. Windows XP will be installed the 'old' 4.0.6 opsiclientd and Kiosk client.

The current opsi-client-agent has no 'UAC-Level' Property and after the Installation, the UAC-Level with no changes whatsoever. +
In the case that you want to change the UAC-Level per opsi, you can use the following product: +
http://download.uib.de/opsi4.0/products/localboot/opsi-set-win-uac_1.0-2.opsi


[[opsi-407-releasenotes-clientagent-configuration]]

In this chapter we will explain which new configuration options for the opsiclientd will be shipped with opsi 4.0.7.


[[opsi-407-releasenotes-clientagent-configuration-proxysupport]]
==== Proxysupport-Configuration

In the global section of opsiclientd.conf you have the option to define a proxyserver, which will be used by the opsi-client-agent.
If a proxyserver is defined in config, all HTTP- and HTTPS-Connections of the opsiclientd will be redirected to this proxyserver.

[source,ini]
----
# Use a proxy for connecting configservice
# proxy_mode:
#   'system' will try to check the system setting,
#   'static' to use proxyurl from configfile/hostparameter
# proxy_url usage: http://<user>:<password>@<proxy-url>:<proxy-port>
# Example: http://proxyuser:proxypass123@proxy.domain.local:8080
proxy_mode = static
proxy_url =
----

This proxysettings allows also to use a proxyserver, that require authentication.
In that case you must define the credentials how is shown in configuration snippet.

WARNING: The option proxy_mode is reserved for the value 'system' to use the system proxy settings. This feature is not implemented yet. Therefor the only option that works at the moment is the 'static' mode.


[[opsi-407-releasenotes-clientagent-configuration-eventcontrol_over_productgroups]]
==== Eventconfiguration to control which products will be processed

With this configuration-option it's possible to control the list of products, that will be processed in Events with productgroups:

Generally you have two ways to use this control:

Blacklisting (excluding):

The option `exclude_product_group_ids` allows to configure a comma separated list of product Groups. The members of thise groups will be excluded from the actual Event. Also if actionrequest is set for this products. These products will be ignored in this event, but the actionrequests will not be touched.

Whitlisting (including):

The option `include_product_group_ids` allows to also configure a comma separated list of products Groups. The members of this groups are the only products, that will be processed from the actual event if they have set action requests.

You can use these options globally from the default-Event. From that point this settings will be used in every event. You can also set this options in a special event. If you use the option on event_on_demand, you can control which products will not be installed in push installations although they have action requests. On normal restart of the client, this products will be installed from gui_startup (default event) at startup.

CAUTION: For Clients that work in WAN/VPN-mode you must set this options in sync-event and also in the cacheservice-section, because the cache service have no access to the configuration of main sync-event.

WARNING: Product dependencies will not be observed by this feature. That means that you have to observe the process in order to prevent dependency issues.


[[opsi-407-releasenotes-clientagent-kiosk]]
=== New opsi Client Kiosk application

With opsi 4.0.7 is the current Web-based solution of the client kiosk is replaced by an application.
Background for this change is:

* To solve the problem that means to have a self-signed certificate.
* Greater functionality of the new client.

CAUTION: The old (Web based) Kiosk client no longer works with the new opsi-client-agent/opsiclientd.



[[software-on-demand_usage]]
==== Client Kiosk application

If during the installation, the configuration: _software-on-demand.active_ is set to _true_, a Start menu item will be created during the installation on the Client, with it the Kiosk application can be run directly. It can be found under: _Start -> Programs -> opsi.org -> software-on-demand_.

After starting the application, the following main window will be shown:

.'opsi-client-kiosk': main window
image::opsi-client-kiosk_num.png["opsi-client-kiosk: Main Window", width=400]

Elements:

. Headerslist (Customizable to the specification of the Client)
. Info Button: Version and loaded language
. Data load display
. Button to display the set actions
. Button to save and display the set actions
. Button to end the program
. Display of the groups lists
. Reload from Data (e.G. after certain actions which are executed)
. Erase previously set filters and show all data
. Search mask (Filter input field)
. Activate Filter
. Filter through possible product upgrades
. Product display
. Column to set the required actions
. Tab: Product detail info: Description / Hint / Version
. Tab: Product detail info: Dependencies / Priorities
. Status bar with notifications



The main window displays on the left side a list of product groups (7) which are enabled via the Config `software-on-demand.product-group-ids` for this client. In the case that you find more than one group, an additional entry called 'All groups' will be displayed in the first place. This list can be also configured to display groups of products, or other products selections. By default, the first entry is selected, e.G. 'All groups' and in the case there is only one group, then it will be displayed the only available group. +
At the startup or when you changed the selection, the necessary data is read. This may take some time to load, and afterwards the location is displayed at the top of the window (3). +
The products are shown in the central table (13). Once a product is clicked, the detailed information about the product will be shown (15/16). In the right column `ActionRequest` (14), an action request is set. +
With the button 'Show actions' (4) the known application actions will be displayed but not saved. Only the button 'Actions Save' (5) actually sends the actions to the server. This will be checked in the case that there are product dependencies which need to be installed previously.
Finally, the total list of pending actions will be displayed on a separate window

.'opsi-client-kiosk': Confirm action
image::opsi-client-kiosk2.png["opsi-client-kiosk: Confirm action", width=200]

In this window and over the upper button 'Install now' an immediate installation can be triggered. In that case, it is advisable to close all applications (or at least to save your data) since the installation can interfere with the running applications. +
The button below `Install at next standard occasion` will end the actions at this point all the stored actions will be executed at a later point.


The config _Software-on-demand.show details_ have in the Kiosk application no influence prior to 4.0.7 and can be at this point deleted.




The module can also be accessed over the network in this case, however, authentication is required.


[[software-on-demand_notice]]
==== Characteristics

The following apply to the software-on-demand module:

* Dependencies are resolved automatically +
   - Software that depends on software from the Demand group, will automatically be set to setup (install), without interaction from the user..

* Software that is already set to setup +
   - In this case, the Checkbox: _install_, will be already activated.

[[software-on-demand_CI]]
===== Opsi Client Kiosk: Customizable to Corporate Identity

The Headers list from the Main window (1) is customizable to the desire of the client.
To that, there are two files which play a roll:

* `opsiclientkiosk.png`
* `opsiclientkiosk.ini`

The `opsiclientkiosk.png` holds the picture which will be loaded in this area. +

The `opsiclientkiosk.ini` defines the text and its representation which will be shown in this area.

Example:
----
[TitleLabel]
Text= opsi Client Kiosk
FontName = Arial
FontSize = 20
FontColor = $00000000
FontBold = true
FontItalic = false
FontUnderline = false
----

You will find templates for these files under `/var/lib/opsi/depot/opsi-client-agent /files/opsi/opsiclientkiosk/opsiclientkioskskin`
or `C:\Program Files(x86)\opsi.org\opsi-client-agent\opsiclientkiosk\opsiclientkioskskin`


In the case you want to protect the files above mentioned against changes, when you update to a new version of the opsi-client-agent, you can use the custom directory
(/Var/lib/opsi/depot/opsi-client-agent/files/opsi/custom). The entire custom directory is saved when installing a new version of the opsi-client-agent and restored afterwards, so the changes are not lost in the case of an update.

* custom/opsiclientkioskskin/*.*
All the files in these directory will be copied, by the installation of an opsi-client-agent to C:\Program Files(x86)\opsi.org\opsi-client-agent\custom\opsiclientkioskskin. If available, this directory (opsiclientkioskskin) will have the preference over others.


To avoid errors by the change of rights, the following helps:

[source, prompt]
----
opsi-setup --set-rights /var/lib/opsi/depot/opsi-client-agent
----

[[opsi-407-releasenotes-restore-poc]]
== Restore from opsi metadata from Images (opsi-wim-capture, opsi-local-image-capture)


*Restore from the opsi metadata from installed Products*

*The Problem:*

If you reinstall a Windows with opsi, e.g. `win7-x64`, then during the installation of the opsi-client-agent all the local Boot products, which in this computer were previously marked as` installed`, will automatically be set to setup and thus reinstalled later. +
This can not be completely carried out exactly in the rolling of a 'captured' Image. +
In the image is the backup from the opsi data that was stored during the capture process. This will be discovered when you install the opsi-client-agent and re-imported into the depot server. With it the products that were installed in the 'captured' Image, now are on the newly installed computer mark as `installed`.
Should now all the products that are mark as `installed` set to` setup`, this would imply that all products installed already in the image will be re-installed. This is not desirable.


By the restoration of the opsi metadata of installed products there are two alternatives available now with opsi 4.0.7: +

* Alternative 1: +
Restoring the metadata and retention of 'setup' -Action Requests. +
Products that are mark as 'installed' will *not* be set to 'setup'. +
This is the default, and the behavior before opsi 4.0.7


* Alternative 2: +
Restoring the metadata. Products that are mark as 'installed' will be set to 'setup' except those which were contained in the restore metadata. +
////
Zurückspielen der Metadaten. Produkte die auf 'installed' stehen werden auf 'setup' gestellt ausser denen welche in den restorten Metadaten enthalten waren. +
Was ist mit restorten???
////

*Alternative 1* +
By the deploy from a 'captured' image, after the install, only the products which were already from the beginning of the OS-install set to 'setup' will be automatically installed. These can be done through your intervention, or through the property 'setup_after_install'.
Therefore only the products which stood at `setup` before installing the operating system will be installed in this case. +
This is the default, and the behavior before opsi 4.0.7 +

*Alternative 2* +
Variant 2 behaves similar to what would be the case of an installation without a captured Image: +
* Restore of the metadata. +
* Products that are mark as 'installed' are then set to 'setup' except those which were contained in the restore metadata. +
////
Produkte die auf 'installed' stehen werden auf 'setup' gestellt ausser denen welche in den restorten Metadaten enthalten waren. +
Nochmal restorten?
////
This behavior is only available since opsi 4.0.7 and is not the default. Option 2 is made possible by enhancements to the opsi script and is part of the opsi-client-agent of 4.0.7. +
In order to be able to apply this behavior a 'config' must be set on ( 'Host parameters') : +
The Boolean configuration entry: `clientconfig.capture.switch_installed_products_to_setup`. If the entry for this client has the value 'true' then variant 2 is applied, otherwise variant 1 +

About this '{opsi-config-objects}' can then specific client events activated or deactivated.
The '{opsi-config-objects}' can be applied using the '{opsi-configed}' or '{opsi-admin}'.

To create the '{opsi-config-objects}' over the '{opsi-admin}' the following commands are to be executed on the'{opsi-configserver}':

[source,prompt]
----
opsi-admin -d method config_createBool clientconfig.capture.switch_installed_products_to_setup "capture.switch_installed_products_to_setup" true
----
With that you set for *all* computers 'Alternative 2'.

To create the '{opsi-config-objects}' over the '{opsi-server}' select there 'Server Configuration' / 'ClientConfig' / And on the right side with the right mouse button: `Add Boolean configuration entry`.


[[opsi-407-releasenotes-opsi-script]]
== opsi-script / opsi-winst 4.11.6

* Log files:
** are now always UTF-8 encoded.
** stored as opsi-script.log ; bakup copies are made as opsi-script_0.log to opsi-script_8.log

* Security Upgrade to Windows SSL libraries 1.0.2h (libeay32.dll, ssleay32.dll) +

* New manuals:

** opsi-winst-refrence-card with topic related function listing (by topic)

* New stringlist function:

`setStringInListAtIndex(`<newstring>,<list>,<indexstr>`) : stringlist`   //since 4.11.6 [W/L]

`removeFromListByMatch(`<searchstring>,<list>`) : stringlist`   //since 4.11.6 [W/L]

* Through a fix in the opsi script dealing with property-related service methods via opsiServiceCall is now possible:

Handling JSON objects from the web service requires a basic understanding of JSON, the opsi objects and JSON-based methods in opsi script.
See also:
opsi manual: chapter: "Web service / API Methods since opsi 4.0"
and the next chapter

According to the following code example, you can pick up objects from the Service.
In this example, all the productOnClient objects will be fetched, which belong to the current computer (`%opsiserviceUser%` is in the service context of the FGDN client), Local boot products is where the action requests are placed on 'setup'.
[source,winst]
----
DefStringlist $resultlist$
set $resultlist$ = getReturnListFromSection("opsiServiceCall_get_productOnClient_setup_objects")
[opsiServiceCall_get_productOnClient_setup_objects]
"method": "productOnClient_getObjects"
"params": [
          "[]",
          '{"clientId":"%opsiserviceUser%","productType":"LocalbootProduct","actionRequest":"setup"}',
          ]
----
The result is a JSON String Array which its on the first Line from `$resultlist$`.


You can also write back (modified) objects.
The following example illustrates the principle:
The string variable `$ArrayStr$` must include a valid JSON array.
[source,winst]
----
DefVar $ArrayStr$
(...)
[opsiServiceCall_updatePOC]
"method": "productOnClient_updateObjects"
"params": [
          '$ArrayStr$'
          ]
----



[[opsi-winst-rc-json]]
=== opsiservicecall and JSON related functions [W/L]

This functions serve to analyze and modify Strings or Stringlists from JSON expressions. It is necessary for this purpose, to know and understand the structure of the processed JSON expressions. This can be used to work with opsiservicall sections and the object-oriented opsi web service methods.

`jsonIsValid(`<jsonstr>`) : boolean`  //since 4.11.6: [W/L] +
Returns 'true' when, <jsonstr> holds a valid JSON expression.

`jsonIsArray(`<jsonstr>`) : boolean`  //since 4.11.6: [W/L] +
Returns 'true' when, <jsonstr> holds a valid JSON Array.

`jsonIsObject(`<jsonstr>`) : boolean`  //since 4.11.6: [W/L] +
Returns 'true' when, <jsonstr> holds a valid JSON Object.

`jsonAsObjectHasKey(`<jsonstr>,<keystr>`) : boolean`  //since 4.11.6: [W/L] +
Returns 'true' when, <jsonstr> holds a valid JSON Object which hold <keystr> as key. +
Following example will also return 'true': +
[source,winst]
----
jsonAsObjectHasKey('{"productVersion" : "4.4.1","packageVersion" : "2","productId" : "jedit"}','productId')
----

`jsonAsArrayCountElements(`<jsonstr>`) : intstr`  //since 4.11.6: [W/L] +
If <jsonstr> holds a valid JSON Array the returned value is a String with the number of elements in the Array. +
In case of Error = '"0"'

`jsonAsObjectCountElements(`<jsonstr>`) : intstr`  //since 4.11.6: [W/L] +
If <jsonstr> holds a valid JSON Object the returned value is a String with the number of the elements of the object. +
In case of Error = '"0"'


`jsonAsArrayGetElementByIndex(`<jsonstr>, <indexstr>`) : jsonstring`  //since 4.11.6: [W/L] +
Returns from JSON Array <jsonstr> the element with the Index <indexstr> +
The Index begins with 0. +
In case of error = '""'

`jsonAsObjectGetValueByKey(`<jsonstr>, <keystr>`) : valuestring`  //since 4.11.6: [W/L] +
Returns from JSON Object <jsonstr> the value of the Key <keystr> +
In case of error = '""'


`jsonAsObjectSetValueByKey(`<jsonstr>, <keystr>,<valuestring>`) : jsonstring`  //since 4.11.6: [W/L] +
Returns a String with the <jsonstr> the passed JSON Object by it for the Key <keystr>
the value <valuestring> which is applied. If the Key is not present, then it will be generated. +
If the <valuestring> must be generated as String value (also in double quotes),
then you should better use the following Function: `jsonAsObjectSetStringtypeValueByKey`. +
In case of error = '""'

`jsonAsObjectSetStringtypeValueByKey(`<jsonstr>, <keystr>,<valuestring>`) : jsonstring`  //since 4.11.6: [W/L] +
Returns a String at the <jsonstr> with the passed JSON Object for the Key <keystr>
set the value <valuestring> as String (also in double quotes).
If the Key is not present, it will be created. +
If a <valuestring> should not be created as a String value,
then it is recommended to use the previous function: `jsonAsObjectSetValueByKey`. +
In case of error = '""'

`jsonAsArrayPutObjectByIndex(`<jsonstr>, <indexstr>, <objectstr>`) : jsonstring`  //since 4.11.6: [W/L] +
Retuns a string with the <jsonstr> in the passed JSON Array in the <indexstr> set on Index
of the object <objectstr>. +
In case of error = '""'

`jsonAsArrayToStringList(`<jsonstr>`) : stringlist`  //since 4.11.6: [W/L] +
Returns a String with the <jsonstr> passed JSON Array as Stringlist with an Array element per Line.

`jsonStringListToJsonArray(`<strlist>`) : jsonstr`  //since 4.11.6: [W/L] +
Returns a String with a JSON Array that the line of the Stringlist <strlist> which holds
Elements.

`jsonAsObjectGetKeyList(`<jsonstr>`) : stringlist`  //since 4.11.6: [W/L] +
Returns a Stringlist with the Keys that the JSON Object <jsonstr> holds.

Example +
Read productOnClient objects from file, change the clientId to the actual machine
and store the data to the opsi-server.
[source,winst]
----
[Actions]
requiredWinstVersion >= "4.11.6"

DefVar $ProductId$
DefVar $poc_file$
DefVar $objectStr$
DefVar $ArrayStr$

DefStringlist $pocList$

set $poc_file$ = "c:\tmp\product_on_client.json"

Message "Restore productOnClient from file ..."
comment " get Restore data from file ..."
Set $ArrayStr$ = strLoadTextFile($poc_file$)
if not(jsonIsValid($ArrayStr$))
	LogError "got no valid json from file"
	isFatalError
endif
if not(jsonIsArray($ArrayStr$))
	LogError "got no json Array from file"
	isFatalError
endif

comment "get list from array"
set $pocList$ = jsonAsArrayToStringList($ArrayStr$)
comment "loop over list"
for %pocindex% = "0" to calculate(count($pocList$)+"-1") do sub_set_clientid_in_poclist
comment "convert modified list to json array"
set $ArrayStr$ = jsonStringListToJsonArray($pocList$)
comment "write back"
opsiServiceCall_updatePOC

[sub_set_clientid_in_poclist]
set $objectStr$ = takeString("%pocindex%", $poclist$)
set $objectStr$ = jsonAsObjectSetStringtypeValueByKey(($objectStr$, "clientId","%opsiserviceUser%")
set $poclist$ = setStringInListAtIndex($objectStr$,$poclist$,"%pocindex%")

[opsiServiceCall_updatePOC]
"method": "productOnClient_updateObjects"
"params": [
					'$ArrayStr$',
					]
----

[[opsi-winst-rc-process]]
=== Process and Script related functions [W/L]

`waitForPackageLock(`<seconds timeout string>,<bool should we kill>`) : bool` //since 4.11.6.1 [L] +
Returns `true` if the Linux package system is not locked by another process. +
If it is locked, it waits <seconds timeout string> to get the unlock. +
If the timeout is reached and <bool should we kill> is `true`
than the locking process is killed but using this feature is *not recommended*.

* `processIsRunning(`<process name>`) : boolean`  //since 4.11.6.1 [W/L] +
Returns `true` if <process name> is found in the process list

There are three variations of the `shellCall` command:


* `shellCall (`<command string>`) : stringlist (output)`
* `shellCall (`<command string>`) : noresult`
* `shellCall (`<command string>`) : string (exitcode)`

The three commands are executed <command string> in the standard shell (cmd.exe / bash).
The functions differ based on the return value

* `shellCall (`<command string>`) : stringlist (output)` //since 4.11.4.2 [W/L] +
Returns the output of <command string> as stringlist.
[source,winst]
----
set $list$= shellCall('net start')
----
Is a shortcut for this expression:
[source,winst]
----
set $list$ = getOutStreamFromSection ('DosInAnIcon_netstart winst /sysnative')

[DosInAnIcon_netstart]
net start
----

* `shellCall (`<command string>`) : noresult` //since 4.11.6.1 [W/L] +
Returns nothing.
[source,winst]
----
shellCall('net start')
----
Is a shortcut for this expression:
[source,winst]
----
DosInAnIcon_netstart winst /sysnative

[DosInAnIcon_netstart]
net start
----


* `shellCall (`<command string>`) : string (exitcode)` //since 4.11.6.1 [W/L] +
Returns the exit code of <command string> as string.
[source,winst]
----
set $exitcode$ = shellCall('net start')
----
Is a shortcut for this expression:
[source,winst]
----
DosInAnIcon_netstart winst /sysnative
set $exitcode$ = getLastExitcode

[DosInAnIcon_netstart]
net start
----

* `processCall(`<string>`) : string (exitcode)` //since 4.11.6.1 [W/L] +
Starts the command binary <string> as process and returns the exit code +
[source,winst]
----
set $exitcode$ = processCall('setup.exe /S')
----
Is a shortcut for this expression:
[source,winst]
----
Winbatch_setup
set $exitcode$ = getLastExitcode

[Winbatch_setup]
setup.exe /S
----
In fact `processCall` is internal a `winbatch` call, so all the `winbatch` modifiers are also allowed for `processCall`

* `/LetThemGo` +
This is the contrary to `/WaitOnClose`. It is used if '{opsi-winst}/opsi-script' shall proceed while the started processes run in their own threads.

* `/TimeOutSeconds` <seconds> +
A timeout setting. After waiting <seconds>, '{opsi-winst}/opsi-script' will end the process. +
Since version 4.11.3, /TimeOutSeconds may be used without a waiting condition (e.g. `/WaitForProcessEnding`) but not in combination with `/WaitSeconds`. +
Since version 4.11.4.6 the time progress from start until timeout is displayed by the progress bar. +

* `/WaitSeconds` [number of seconds] +
If a call includes the parameter /WaitSeconds [number of seconds], then '{opsi-winst}/opsi-script' is waiting for [number of seconds] before proceeding. In the default configuration, we also wait for any programs that are currently running to finish. If we combine the parameter /WaitSeconds with the option `/LetThemGo`, then '{opsi-winst}/opsi-script' continues processing after the waiting time is finished.

* `/WaitForProcessEnding` <program name> +
Waits for the process called <program name> to end. +
Should be combined with `/TimeOutSeconds`.

*  `/32Bit` //since 4.11.3.5  [W] +
This is the default. The paths within the section are assumed to be 32 bit path. +
Example: `c:\windows\system32\regedit.exe` calls (even when running on a 64 bit system) the 32 bit 'regedit.exe'.

*  `/64Bit` //since 4.11.3.5  [W] +
The paths within the section are assumed to be 64 bit paths. +
Example: `c:\windows\system32\regedit.exe` executes (running on a 64 bit system) the 64 bit 'regedit.exe'.

*  `/SysNative` //since 4.11.3.5  [W] +
The paths within the section are assigned according to the OS architecture. +
Example: `c:\windows\system32\regedit.exe` running on a 64bit system calls the 64 bit 'regedit.exe' and running on a 32 bit system the 32 bit 'regedit.exe'.




[[opsi-winst-rc-cryptfunc]]
=== Crypt / Hash related functions [W/L]

`encryptStringBlow(`<keystring>,<datastring>`) : string`  //since 4.11.6 [W/L] +
Encrypted <datastring> with the Key <keystring> under application of Blowfish and returns the encrypted value.

`decryptStringBlow(`<keystring>,<datastring>`) : string`  //since 4.11.6 [W/L] +
Decrypts <datastring> with the Key <keystring> under the application of Blowfish and returns the decrypted value.

`md5sumFromFile(`<path to file>`) : string`  //since 4.11.6 [W/L] +
Returns the md5sum that under <path to file> was found. +
In case of error returns an empty String.

[[opsi-winst-rc-timefunc]]
=== time / date related functions

`timeStampAsFloatStr : string` (Floating Number - format: 'days.decimal days') //since 4.11.6 [W/L] +
Returns an actual Timestamp as Floating point number String. The number is before the decimal point, since 30. Dezember 1899.
After the decimal point is the time in fractions of the day. +
Just for Fun: Why not 31. December 1899: ? +
check http://www.delphibasics.co.uk/RTL.asp?Name=TDateTime


[[opsi-winst-rc-misc]]
=== Misc news

* `getMSVersionMap` +
* Has now a new key entry: `ReleaseID` which gives you the sub release of 'Windows 10' like e.g. '1511'.
The Value comes from the Registry: "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion" "ReleaseID"
* Has now a new key entry: `prodInfoText` which gives you a string to the edition type like e.g. 'PRODUCT_PROFESSIONAL'.
* Has now a new key entry: `prodInfoNumber` which gives you a string with a decimal number of the edition type like e.g. '48'.

[cols="3,3,15"]
|==========================
| DecNum | HexNum | Text
|  00 | 00 | An unknown product
|  01 | 01 | Ultimate Edition"
|  02 | 02 | Home Basic Edition
|  03 | 03 | Home Premium Edition
|  04 | 04 | Enterprise Edition
|  05 | 05 | Home Basic Edition
|  06 | 06 | Business Edition
|  07 | 07 | Server Standard Edition (full installation)
|  08 | 08 | Server Datacenter Edition (full installation)
|  09 | 09 | Small Business Server
|  10 | 0A | Server Enterprise Edition (full installation)
|  11 | 0B | Starter Edition
|  12 | 0C | Server Datacenter Edition (core installation)
|  13 | 0D | Server Standard Edition (core installation)
|  14 | 0E | Server Enterprise Edition (core installation)
|  15 | 0F | Server Enterprise Edition for Itanium-based Systems
|  16 | 10 | Business Edition
|  17 | 11 | Web Server Edition (full installation)
|  18 | 12 | Cluster Server Edition
|  19 | 13 | Home Server Edition
|  20 | 14 | Storage Server Express Edition
|  21 | 15 | Storage Server Standard Edition
|  22 | 16 | Storage Server Workgroup Edition
|  23 | 17 | Storage Server Enterprise Edition
|  24 | 18 | Server for Small Business Edition
|  25 | 19 | Small Business Server Premium Edition
|  26 | 1A | PRODUCT_HOME_PREMIUM_N
|  27 | 1B | PRODUCT_ENTERPRISE_N
|  28 | 1C | PRODUCT_ULTIMATE_N
|  29 | 1D | PRODUCT_WEB_SERVER_CORE
|  30 | 1E | Windows Essential Business Server Management Server
|  31 | 1F | Windows Essential Business Server Security Server
|  32 | 20 | Windows Essential Business Server Messaging Server
|  33 | 21 | Server Foundation
|  34 | 22 | PRODUCT_HOME_PREMIUM_SERVER
|  35 | 23 | PRODUCT_SERVER_FOR_SMALLBUSINESS_V
|  36 | 24 | Server Standard Edition without Hyper-V (full installation)
|  37 | 25 | Server Datacenter Edition without Hyper-V (full installation)
|  38 | 26 | Server Enterprise Edition without Hyper-V (full installation)
|  39 | 27 | Server Datacenter Edition without Hyper-V (core installation)
|  40 | 28 | Server Standard Edition without Hyper-V (core installation)
|  41 | 29 | Server Enterprise Edition without Hyper-V (core installation)
|  48 | 30 | PRODUCT_PROFESSIONAL
|  49 | 31 | PRODUCT_PROFESSIONAL_N
|  50 | 32 | PRODUCT_SB_SOLUTION_SERVER
|  51 | 33 | PRODUCT_SERVER_FOR_SB_SOLUTIONS
|  52 | 34 | PRODUCT_STANDARD_SERVER_SOLUTIONS
|  53 | 35 | PRODUCT_STANDARD_SERVER_SOLUTIONS_CORE
|  54 | 36 | PRODUCT_SB_SOLUTION_SERVER_EM
|  55 | 37 | PRODUCT_SERVER_FOR_SB_SOLUTIONS_EM
|  56 | 38 | PRODUCT_SOLUTION_EMBEDDEDSERVER
|  57 | 39 | PRODUCT_SOLUTION_EMBEDDEDSERVER_CORE
|  59 | 3B | PRODUCT_ESSENTIALBUSINESS_SERVER_MGMT
|  60 | 3C | PRODUCT_ESSENTIALBUSINESS_SERVER_ADDL
|  61 | 3D | PRODUCT_ESSENTIALBUSINESS_SERVER_MGMTSVC
|  62 | 3E | PRODUCT_ESSENTIALBUSINESS_SERVER_ADDLSVC
|  63 | 3F | PRODUCT_SMALLBUSINESS_SERVER_PREMIUM_CORE
|  64 | 40 | PRODUCT_CLUSTER_SERVER_V
|  65 | 41 | PRODUCT_EMBEDDED
|  66 | 42 | PRODUCT_STARTER_E
|  67 | 43 | PRODUCT_HOME_BASIC_E
|  68 | 44 | PRODUCT_HOME_PREMIUM_E
|  69 | 45 | PRODUCT_PROFESSIONAL_E
|  70 | 46 | PRODUCT_ENTERPRISE_E
|  71 | 47 | PRODUCT_ULTIMATE_E
|  72 | 48 | PRODUCT_ENTERPRISE_EVALUATION
|  84 | 54 | PRODUCT_ENTERPRISE_N_EVALUATION
|  98 | 62 | PRODUCT_CORE_N
|  99 | 63 | PRODUCT_CORE_COUNTRYSPECIFIC
| 100 | 64 | PRODUCT_CORE_SINGLELANGUAGE
| 101 | 65 | PRODUCT_CORE
| 121 | 79 | PRODUCT_EDUCATION
| 122 | 7A | PRODUCT_EDUCATION_N
| 125 | 7D | Windows Enterprise 2015 LTSB
| 126 | 7E | Windows Enterprise 2015 LTSB N
| 129 | 81 | Windows Enterprise 2015 LTSB Evaluation
| 130 | 82 | Windows Enterprise 2015 LTSB N Evaluation
|==========================

* `getLinuxVersionMap` +
Has now a new key entry: `SubRelease` which gives you the sub release (patchlevel) of 'SLES 11' like e.g. '4'.

* `ShellBatch /showoutput` +
Shows the output of the called command in a separate window. +
Now also available at Linux. +
Now moves the main Window to top/right and the output window to left/down.

* `strLoadTextfile`  and `strLoadTextFileWithEncoding` +
Reads the firs line of the given file. Now without newline chars.

* repaired product ordering for `product_sort_algorithm 1`


[[opsi-407-releasenotes-product-sorting]]
==  Installation sequence / Sortieralgorithmus1

* The sort algorithm 1 should generate a product sequence from product dependencies and product priorities, based on the premise that dependencies
override priorities. By a combination of several mistakes, it was in 4.0.6 completely replaced by sort algorithm 2 which prefers priorities over dependencies. Now, everything is
working (again) as the manual tells: +
"*Algorithm1: product dependency above priority (default)* +
Using this algorithm, the product installation sequence at first will be calculated by the product priorities. In a second
step it will be rearrange to meet the product dependencies. This algorithm may push products with low priority before
products with higher priority to meet the needs of product dependencies. Therefore you will not see installation
problems as result of non resolved product dependencies.
The installation sequence of products with action requests is exactly the sequence you see in the configed if sort the
products by the products by the column position and its order even if the scripts have partly been executed. Especially,
if the execution of a script is stopped by an "ExitWindows /ImmediateReboot" command, then it is guaranteed that
the suspended product installation is directly continued after reboot."

* The resulting installation sequence is just what you see if you look at the configed 'product configuration' and sort there the products by the column 'position'.


CAUTION: This fix may changed your installation sequence comparing to the wrong sequence in 4.0.6. Because this bug was present for a longer time, this change may be unexpected.

[[opsi-407-releasenotes-opsi-logviewer]]
== opsi-Logviewer

* The tool developed by uib opsi-logviewer now opens also files, which (among others) were compress
in format zip or also gzip.
This way can the log files be sent as an archive file, to save space as an archive
and also be viewed directly. (Should an archive contain multiple files, then the contents will be concatenated.)

* The Setup.Skript was extended to support also Linux systems,
that way the opsi-Logviewer can be also automatically installed on a Linux-Client.

* The new before-start-dependency on Javavm ensures the function of the start command (because javavm copies the javaw.exe in the system directory).




[[opsi-407-releasenotes-netboot-windows]]
== opsi Support Matrix Windows Clients

In following schema you will find on which Windows platforms can opsi run as client.

////
include::../common/opsi_manual_supportmatrix-winclient.asciidoc[]
////



[[opsi-manual-supportmatrix-clients-windows]]
=== Supported as opsi-client: Windows :

(as from 10.3.2017)

[cols="12,3,5"]
|==========================
|  Distribution             | Opsi 4.0.7 | Remark 
|Windows 10      | image:supported.png[width=15]    |  
|Windows 2016    | image:supported.png[width=15]    |
|Windows 2012 R2 | image:supported.png[width=15]    |
|Windows 8.1     | image:supported.png[width=15]    | 
|Windows 2012    | image:supported.png[width=15]    | 
|Windows 8       | image:discontinued.png[width=15] | 
|Windows 2008 R2 | image:supported.png[width=15]    | 
|Windows 7       | image:supported.png[width=15]    | 
|Windows 2008    | image:discontinued.png[width=15] |
|Windows Vista   | image:discontinued.png[width=15] |
|Windows 2003    | image:supported.png[width=15]    | 
|Windows XP      | image:supported.png[width=15]    | 
|Windows 2000    | image:discontinued.png[width=15] |
|==========================

image:supported.png[width=15]: Supported
image:unsupported.png[width=15]: Unsupported
image:develop.png[width=15]: Under development
image:discontinued.png[width=15]: Discontinued



[[opsi-407-releasenotes-opsi-clonezilla]]
== opsi clonezilla

The product is with the updated libraries (`clonezilla` and `drbl`) provided. +
This may result in changes of the used `runcommand` as a result. +
So now by default 'clonezilla'  will check whether the Image is 'restorable'. This process can take a long time. +
To perform this test after a backup is certainly useful. Should such test not be carried out on each restore, then we recommend the additional parameter: `--skip-check-restorable-r` in Restore 'runcommand'.

Furthermore, 'opsi-clonezilla' has two new properties:

* `disk_number` +
** editable: True
** description: Number (first = 1) of the disk; if string 'diskdevice' in the runcommand it will be replaced by valid device path (eg sda)
** values: [ '1', '2']
** default: [ "1"]

* `part_number` +
** editable: True
** description: Number (first = 1) of the partition of 'disk_number'; if string 'part device' in the runcommand it will be replaced by valid device path (eg sda1)
** values: [ "1", "2", "3", "4", "5"]
** default: [ "1"]

These properties are used to deal with disks easier, which are not named `sda` but  other (for example,`nvme0n1` at M2 SSD). If in the property 'runcommand' the placeholder 'diskdevice' is used, it will be replace by the correct Device name of the disk with the number'disk_num' ( 'disk_num' = 1 corresponds to 'sda'). +
If in the property 'runcommand' placeholder 'partdevice' is used, this one will be replaced by the correct Device name in the partition which has 'part_num' and corresponds to this disk. The 'disk_num' corresponds to ('disk_num'=1/'part_num'=2 corresponds to, for example 'sda2'). +

[[opsi-407-releasenotes-misc]]
== Miscellaneous

[[opsi-407-releasenotes-misc-changelogs-opsi-configed]]
==== Changelog opsi-configed

opsi-configed (4.0.7.1.3-3) STABLE; urgency=medium

  * fix linux java installation: try java 8 first

-- d.oertel <d.oertel@uib.de> Wed, 27 Jul 2016 15:00:00 + 0100

opsi-configed (4.0.7.1.3-2) STABLE; urgency=medium

  * Check for presence of Java 32-bit Installation

--roeder <roeder@uib.local>  Thu, 30 Jun 2016 17:15:52 +0200


opsi-configed (4.0.7.1.3-1) STABLE; urgency=medium

  * fix: a unified interpretation of the expected waiting time for a progress bar

--roeder <roeder@uib.local>  Fri, 24 Jun 2016 14:52:52 +0200

opsi-configed (4.0.7.1.2-1) STABLE; urgency=medium

  * more details in connection window

--Rupert Roeder <roeder@uib.local>  Thu, 23 Jun 2016 15:08:20 +0200

opsi-configed (4.0.7.1.1-1) STABLE; urgency=medium

  * bugfix reload of licence statistics

--Rupert Roeder <roeder@uib.local>  Thu, 23 Jun 2016 11:48:03 +0200

opsi-configed (4.0.6.7.6-1.12) TESTTING; urgency=medium

  * some more start rearrangements of threads
  * fixed "remove all licences from selected clients"

--roeder <roeder@uib.local>  Fri, 20 May 2016 15:58:42 +0200

opsi-configed (4.0.6.7.5-1.11) STABLE; urgency=medium

  * some rearrangements of start threads

--Rupert Roeder <roeder@uib.local>  Thu, 28 Apr 2016 15:42:30 +0200

opsi-configed (4.0.6.7.5-1.6) STABLE; urgency=medium

  * more logging

--Rupert Roeder <roeder@uib.local>  Thu, 28 Apr 2016 12:16:43 +0200

opsi-configed (4.0.6.7.5-1.5) STABLE; urgency=medium

  * new compile script

--Rupert Roeder <roeder@uib.local>  Fri, 22 Apr 2016 12:28:00 +0200

opsi-configed (4.0.6.7.5-1.1) STABLE; urgency=medium

  * eliminating waiting window on start

--roeder <roeder@uib.local>  Thu, 21 Apr 2016 15:03:44 +0200

opsi-configed (4.0.6.7.5-1) STABLE; urgency=medium

  * fixed display of problems with restricted countage of modules usage

--roeder <roeder@uib.de>  Fri, 08 Apr 2016 13:16:18 +0200

opsi-configed (4.0.7.2.1-1) EXPERIMENTAL; urgency=medium

  * activated multiselection for depotproperties page

--roeder <roeder@edge530-2>  Wed, 29 Jun 2016 14:20:18 +0200

opsi-configed (4.0.7.1.3-1) STABLE; urgency=medium

  * fix: a unified interpretation of the expected waiting time for a progressbar

--roeder <roeder@uib.local>  Fri, 24 Jun 2016 14:52:52 +0200

opsi-configed (4.0.7.1.2-1) STABLE; urgency=medium

  * more details in connection window

--Rupert Roeder <roeder@uib.local>  Thu, 23 Jun 2016 15:08:20 +0200

opsi-configed (4.0.7.1.1-1) STABLE; urgency=medium

  * bugfix reload of licence statistics

--Rupert Roeder <roeder@uib.local>  Thu, 23 Jun 2016 11:48:03 +0200

opsi-configed (4.0.6.7.6-1.12) TESTTING; urgency=medium

  * some more start rearrangements of threads
  * fixed "remove all licences from selected clients"

--roeder <roeder@uib.local>  Fri, 20 May 2016 15:58:42 +0200

opsi-configed (4.0.6.7.5-1.11) STABLE; urgency=medium

  * some rearrangements of start threads

--Rupert Roeder <roeder@uib.local>  Thu, 28 Apr 2016 15:42:30 +0200

opsi-configed (4.0.6.7.5-1.6) STABLE; urgency=medium

  * more logging

--Rupert Roeder <roeder@uib.local>  Thu, 28 Apr 2016 12:16:43 +0200

opsi-configed (4.0.6.7.5-1.5) STABLE; urgency=medium

  * new compile script

--Rupert Roeder <roeder@uib.local>  Fri, 22 Apr 2016 12:28:00 +0200

opsi-configed (4.0.6.7.5-1.1) STABLE; urgency=medium

  * eliminating waiting window on start

--roeder <roeder@uib.local>  Thu, 21 Apr 2016 15:03:44 +0200

opsi-configed (4.0.6.7.5-1) STABLE; urgency=medium

  * fixed display of problems with restricted countage of modules usage

--roeder <roeder@uib.de>  Fri, 08 Apr 2016 13:16:18 +0200

opsi-configed (4.0.6.7.4-1) EXPERIMENTAL; urgency=medium

  * multiselection switched on in swaudit page
  * labelling of pdf open or save dialog

--roeder <roeder@uib.de>  Thu, 17 Mar 2016 13:46:02 +0100

opsi-configed (4.0.6.7.3-1) EXPERIMENTAL; urgency=medium

  * fixed lost view of filtered clients

--roeder <roeder@uib.de>  Wed, 16 Mar 2016 16:23:32 +0100

opsi-configed (4.0.6.7.2-1) EXPERIMENTAL; urgency=medium

  * treeview groups can now be moved, the clients can be removed (without deleting the group)

--roeder <roeder@uib.de>  Tue, 15 Mar 2016 15:12:07 +0100

opsi-configed (4.0.6.7.1-1) EXPERIMENTAL; urgency=medium

  * password property hiding

--roeder <roeder@uib.de>  Wed, 09 Mar 2016 12:56:07 +0100

opsi-configed (4.0.6.7.0-1) EXPERIMENTAL; urgency=medium

  * fixed re-selection of clients after reload

--roeder <roeder@uib.de>  Mon, 07 Mar 2016 12:30:43 +0100

opsi-configed (4.0.6.6.2-1) TESTING; urgency=medium

  * fixed two problems in licence management

--roeder <roeder@uib.de>  Thu, 03 Mar 2016 16:23:06 +0100

opsi-configed (4.0.6.6.1-1) TESTING; urgency=medium

  * (delayed) wake on lan on several depots
  * multi-word search implemented for client page
  * Windows menu introduced
  * option to arrange all running dialogs in the foreground
  * context menu option for saving log files
  * several bug fixes

--roeder <roeder@uib.de>  Mon, 22 Feb 2016 14:38:12 +0200

opsi-configed (4.0.6.3.8-1) UNRELEASED; urgency=medium

  * fixed bug that the clients base data for the search function did not change on depot change


[[opsi-407-releasenotes-misc-changelogs-opsi-client-agent]]
==== Changelog opsi-client-agent

opsi-client-agent (4.0.7.3-1) stable; urgency=low

  * opsiclientd 4.0.87
  * OpsiLoginBlocker version 1.2.1.0 fixes for early unblock

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon,  22 Aug 2016:22:50:00 +0200


opsi-client-agent (4.0.7.2-1) stable; urgency=low

  * opsiclientkiosk.exe 4.0.7.2: --lang Option

-- Detlef Oertel <d.oertel@uib.de>  Mon,  08 Aug 2016:15:00:00 +0200

opsi-client-agent (4.0.7.1-1) stable; urgency=low

  * Version freeze for windows NT5 on opsiclientd version 4.0.83
  * Integrated opsiclientkiosk.exe 4.0.6.1 ((De-)Installation via subconfig.opsiscript) (do 6.6.)
  * Integrated possible custom opsiclientkioskskin to Files_copy_custom (do 8.6.)
  * Integrated fix for new opsiclientd and win >= 8.1 copy (opsiclientd.exe as zip) (do 6.6.)
  * Backports from 4.0.6.3:
      * in sub_restore_productOnClient opsi-script 4.11.6 branch (do 5.7.)
      * in sub_restore_productOnClient opsi-script 4.11.5 branch for rename or del poc-file (do 5.7.)
  * Integrated opsiclientkiosk.exe 4.0.7.1 ((De-)Installation via subconfig.opsiscript) (do 11.7.)
  * Updated opsi-deploy-client-agent to 4.0.7.1
  * Updated opsiclientd to 4.0.86
    * based on python-opsi 4.0.7.8-1
  * old kioskmode for NT5
  * use config clientconfig.capture.switch_installed_products_to_setup to control restore mode of productOnClients.json file
  * removed set_UAC Property and code
  * opsi-winst 4.11.6.1

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 19 May 2016 17:10:09 +0100

opsi-client-agent (4.0.6.4-1) stable; urgency=low

  * opsiclientd 4.0.86
    * bases on python 2.7
    * bases on python-opsi 4.0.6.50-1

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 17 May 2016 17:10:09 +0100


[[opsi-407-releasenotes-misc-changelogs-opsiclientkiosk]]
==== Changelog opsiclientkiosk

opsiclientkiosk 4.0.7.1

  * new icons for exit,filter,reload,showall
  * new reloadbutton
  * use opsiclientd event: fireEvent_software_on_demand
  * FilterOptions:=[foCaseInsensitive]; (do 11.7.)
  * makebakfile: change from old style (name.ext.num) to new style (name_num.ext)

-- detlef oertel <d.oertel@uib.de>  Fri, 22 July 2016 15:00:00 +0000


opsiclientkiosk 4.0.6.2

  * connect to local opsiclientd via readconf2
  * connect to opsiserver via readconf
  * screencenter
  * translations from transifex 8.6.2016
  * fix upgrade filter
  * fix: store actionrequests on DBComboBox1Exit: ZMQueryDataSet1.Post;
  * customize Header section by opsiclientkioskskin\ png and ini
  * customize Header section by ..\custom\opsiclientkioskskin\ png and ini

-- detlef oertel <d.oertel@uib.de>  Mon, 06 June 2016 15:00:00 +0000


opsiclientkiosk 4.0.6.1

  * set dbmemo for description  and advice   fixes  #2187
  * new buton 'All' : fixes #2189
  * Actionrequest combobox in DBGrid (with setup, none and unsinstall (if availiable) fixes #2190
  * added Hints
  * german translation
  * correct logging in c:\opsi.org\opsiclientkiosk.log
  * no all groups on only one group
  * no crash at no group

-- detlef oertel <d.oertel@uib.de>  Mon, 23 May 2016 15:00:00 +0000

opsiclientkiosk 4.0.6.0

  * inital proof of concept an design

-- d.oertel

[[opsi-407-releasenotes-misc-changelogs-opsiclientd]]
==== Changelog opsiclientd

opsiclientd (4.0.87) stable; urgency=medium

  * verifyServerCert and verifyServerCertbyCA fix
  * fixes for proxySupport

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 22 Aug 2016 22:10:51 +0200


opsiclientd (4.0.86) stable; urgency=medium

  * opsiclientd_shutdown_starter logs the event it should fire
  * type checking now with isinstance instead of type.
  * Improved logmessages if shutdown / reboot request is detected.
  * new opsiclientdkiosk interface implemented
  * based on python-opsi 4.0.7.8-1
  * Fixed problem with WAN Installation without networkconnection

--Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 11 Jun 2016 14:10:51 +0200

opsiclientd (4.0.85) testing; urgency=medium

  * Refactored opsiclientd_shutdown_starter.
  * Opsiclient Shutdown Starter now logs to
    C:\opsi.org\log\opsiclientd_shutdown_starter.log

--Niko Wenselowski <n.wenselowski@uib.de>  Tue, 08 Sep 2015 15:03:09 +0200

opsiclientd (4.0.84) testing; urgency=medium

  [ Erol Ueluekmen ]
  * exclude_product_group_ids and include_product_group_ids added.
  * Putting quotation marks around the action_processor_starter.exe to
    avoid unwanted behaviour.

  [ Niko Wenselowski ]
  * Windows 8.1: Sleeping a short time before triggering the reboot.

--Niko Wenselowski <n.wenselowski@uib.de>  Tue, 08 Sep 2015 15:02:20 +0200



[[opsi-407-releasenotes-misc-changelogs-opsi-script]]
==== Changelog opsi-script / opsi-winst
opsi-winst/opsi-script (4.11.6.1) stable; urgency=low

  * Merge from (4.11.5.14):
    * oswebservice: assume opsiservice version=4 in retrieveJSON*
      to avoid access to opsidata which fails if we use local_opsidata
      fixes Access Violations in initial opsi-client-agent installation
    * osfunc: FuncSaveToFile / SaveToFile: logging content on Loglevel 9 ; references #1679
    * osfuncwin: fix broken Shellbatch /showoutput
  * Merge from opsi-winst/opsi-script (4.11.5.13) stable; urgency=low
    * do not try to run non existing external sub sections
  * Merge from  (4.11.5.12) stable; urgency=low
    * Bugfix: osparser: doAktionen: fullfilename not initialized:
      causes causes double load of include or sub if searched file is not existing ; fixes #1656
    * Bugfix: osparser: Filexists*: do not check for existing file with dir/ls if trim(filename)=''
      fixes: https://forum.opsi.org/viewtopic.php?f=6&t=7697
      (FileExists on empty Variable returns TRUE)
  * osfunc: rewrite of FindLocalIPData for linux
  * osfunclin: new: getMyIpByTarget(target): implemented as: ip route get <target>
  * osfunclin: new: getMyIpByDefaultRoute: implemented as: ip route get 255.255.255.255
  * osparser:  getMyIpByTarget now also for linux
  * osfunclin: getCommandResult: Exitcode on higher (+2) loglevel
  * osfuncwin2: getPid4user: fix logging on not found
  * osfuncwin2: getPid4user: add logging on process found with wrong user
  * osfuncwin2: Impersonate2User: 5 retrys of getPid4user and explorer.exe
  * osconf,osmain: change depotdrive for linux from /mnt to /media/opsi_depot
  * osmain: new command line parameter: 'credentialfile' for username, password and sessionid in format:
     username=<username>
     password=<password>
     sessionid=<sessionid>
    If the parameter 'credentialfile' is used all thre parameter will be used from the file and
    the parameters : username, password and sessionid will be ignored
  * osmain: BuildPC: create flag files in /var/run/opsiclientd for shutdown or reboot
    execute reboot only if no opsiclientd in processlist
  * osparser: savetextfile: call FuncSaveToFile  (merge from 4.11.5.17)
  * opsiscript.lpr / winst.lpr replace defaulttranslator by lcltranslator
  * osmain: (GUI) GetParameter: new parameter: lang <2 letter lang code>
    is set to lcltranslator.SetDefaultLang
  * osmain: BuildPC: termonate after exception in BuildPC: final ; references #1820
  * oswebservice: finishOpsiConf: catch exception at backend_exit ; fixes #1820
  * changes for lazarus 1.6 / FPC 3.0
  * new unit osjson
  * new json functions:
    * jsonIsValid(<jsonstr>) : boolean
    * jsonIsArray(<jsonstr>) : boolean
    * jsonIsObject(<jsonstr>) : boolean
    * jsonAsObjectHasKey(<jsonstr>,<keystr>) : boolean
    * jsonAsArrayCountElements(<jsonstr>) : intstr
    * jsonAsObjectCountElements(<jsonstr>) : intstr
    * jsonAsArrayGetElementByIndex(<jsonstr>, <indexstr>) : jsonstring
    * jsonAsObjectGetValueByKey(<jsonstr>, <keystr>) : valuestring
    * jsonAsObjectSetValueByKey(<jsonstr>, <keystr>,<valuestring>) : jsonstring
    * jsonAsObjectSetStringtypeValueByKey(<jsonstr>, <keystr>,<valuestring>) : jsonstring
    * jsonAsArrayPutObjectByIndex(<jsonstr>, <indexstr>, <objectstr>) : jsonstring
    * jsonAsArrayToStringList(<jsonstr>) : stringlist
    * jsonAsObjectGetKeyList(<jsonstr>) : stringlist
    * jsonStringListToJsonArray(<strlist>) : jsonstr
  * new function: setStringInListAtIndex(<newstring>,<list>,<indexstr>) : list
  * Port from opsi-script 4.11.5.20:
    * More logging to find bug: loginscrpits do not always can Impersonate (uib#2015121410000075):
      * osfuncwin2: Impersonate2User: change parameter / add usercontextsid
      * osfuncwin2: Impersonate2User: more logging if usercontext not found
      * osparser: doLinkFolderActions: if runLoginScripts: call Impersonate2User with usercontextsid
  * osparser: at getMSVersionMap list.add ('ReleaseID=' + GetRegistrystringvalue("HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion" "ReleaseID",true));
  * DosBatch /showoutput:
    * osfuncwin: switch main window to left/top corner and output window to right/down corner
    * osfunclin: the same and fixes #1936
  * fix: strip newline from strLoadTextfile  and strLoadTextFileWithEncoding
  * new string function md5sumFromFile(<path to file>)
  * new string function timeStampAsFloatStr (floattostrF(now,ffFixed,15,3))
  * new bool function processIsRunning(<process string>)
  * new variant of shellcall as procedure (no result)
  * new variant of shellcall with result string which have the exitcode
  * new string function encryptStringBlow(<keystring>,<datastring>)
  * new string function decryptStringBlow(<keystring>,<datastring>)
  * new String function processCall(<string>) returns exitcode from sysnative started process
  * osparser: at getLinuxVersionMap list.add ('SubRelease=' (patchlevel from SLES)
  * osfunclin: function getPackageLock(timeoutsec : integer; kill : boolean) : Boolean;
  * new bool function waitForPackageLock(<seconds timeout string>,<bool should we kill>) (Linux only)
  * Linux: check for free start count
  * osparser:doAktionen:getWord use WorddelimiterSet4 before FindKindOfStatement (needed for 'shellCall(' statement)
  * osconf: Linux: reading winstversion via fileinfo.TFileVersionInfo
  * use LazFileUtils in different units (may replace fileutil ?)
  * osfunclin/osfunc: use FPCProcess.ExitCode instead of ExitStatus to get the final exitcode
  * oswebservice: productonClients_getObjects__actionrequests: use getProductOrdering
  * oswebservice: productOnClient_getobject_actualclient: use getProductOrdering
  * new unit osfuncwin3 with fuctions to windows version
  * osparser: at getMSVersionMap new key prodInfoNumber from win32 GetProductInfo
  * osparser: at getMSVersionMap new key prodInfoText from getProductInfoStrByNum from win32 GetProductInfo
  * osfuncwin3: fix GetWinSystemDirectory
  * osmain: initialization:  GetDefaultLang;
  * do not delete temporary cmd files on Loglevel LLconfidential
  * Logging of productordering to LLDebug2 (8)
  * Windows: writing ReleaseId and ProductId to log file header
  * osparser: md5sumFromFile: use ExpandFileName
  * osparser: getValueFromFile / getValueFromFileBySeparator : empty string on failure
  * osencoding: internal Defaultencoding=utf8
  * oslog: Logfile now utf-8 encoded
  * oswebservice: productonClients_getObjects__actionrequests: fallback to old sorting method
      if exception in new method (eg. getProductOrdering not reachable)
  * new stringlist function removeFromListByMatch(<searchstring>,<list>)
  * osparser: getJsonUrlString: fix for json array as parameter
  * wispecfolder, osfunc: replace SHGetPathFromIDList by SHGetPathFromIDListW
  * osfunc: MakeShellLink: for LinkFile.Save filename in system encoding
  * osparser: takestring: to large index Message is changed from Errorr to Warning
  * new unit: osregistry: All Tuibregistry stuff moved here from osfunc.
  * utf8 - system encoding fixes in GetRegistryString  , Patches,...
  * osfunc: more logging in LoadNTUserDat
  * makebakfile: change from old style (name.ext.num) to new style (name_num.ext)
  * osfunc: encoding of cmd in StartProcess_cp
  * osfuncwin: encoding of cmd and output in RunCommandAndCaptureOut


-- Detlef Oertel <d.oertel@uib.de>  Tue, 22 Sep 2015:15:00:00 +0200


[[opsi-407-releasenotes-misc-changelogs-windows-netboot]]
==== Changelog windows netboot products


windows (4.0.7.1-1) stable; urgency=low

  * sku fallback will be displayed now correctly from show_drivers.py

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue,  19 Jul 2016 15:00:00 +0200


[[opsi-407-releasenotes-misc-changelogs-linux-netboot]]
==== Changelog linux netboot products


===== centos70 +


centos70_4.0.7.1-1 stable; urgency=low

  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200

===== debian


debian_4.0.7.1-1 stable; urgency=low

  * removing unneeded opsiclientds (different Architecture)
  * preseed: added umount/media as early command

-- Mathias Radtke <m.radtke@uib.de>  Tue,  05 Jul 2016 15:30:00 +0200



===== debian7


debian7_4.0.7.1-1 stable; urgency=low

  * upgraded initrd and kernel of installer to properly work on cachers
  * added openssl to preseed package install
  * removing unneeded opsiclientds (different Architecture)
  * preseed: added umount/media as early command
  * removed property opsi_online_repository

-- Mathias Radtke <m.radtke@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200



===== debian8


debian8_4.0.7.1-1 stable; urgency=low

  * removing unneeded opsiclientds (different Architecture)
  * preseed: added umount/media as early command
  * preseed: removing broken and not available repositories when using local apche repo provided by uib
  * added local repository example
  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Mathias Radtke <m.radtke@uib.de>  Fri, 1 Jul 2016 10:25:00 +0200



===== opensuse13-2


opensuse13-2_4.0.7.1-1 stable; urgency=low

  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200

===== opensusel42-


opensusel42_4.0.7.1-1 stable; urgency=low

  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200

===== sles11sp4


sles11sp4_4.0.7.1-1 stable; urgency=low

  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200


===== sles12

sles12_4.0.7.1-2 stable; urgency=low

  * removed hard coded kexec depot copy

-- Mathias Radtke <m.radtke@uib.de> Mon, 8 Aug 2016 13:20:00 +0200

sles12_4.0.7.1-1 stable; urgency=low

  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200

===== sles12sp1

sles12sp1_4.0.7.1-2 stable; urgency=low

  * removed hard coded kexec depot copy

-- Mathias Radtke <m.radtke@uib.de> 8 Aug 2016 13:20:00  +0200

sles12sp1_4.0.7.1-1 stable; urgency=low

  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200

===== redhat70

redhat70_4.0.7.1-3 stable; urgency=low

  * redhat70.cfg: removing rhel-7-server-rt-beta-rpms repository as it is (currently) broken

-- Mathias Radtke <m.radtke@uib.de> Mon, 22 Aug 2016 12:00:00 +0200

redhat70_4.0.7.1-2 stable; urgency=low

  * removed hard coded kexec from depot, replaced with bootimage kexec

-- Mathias Radtke <m.radtke@uib.de> Mon, 8 Aug 2016 13:20:00 +0200

redhat70_4.0.7.1-1 stable; urgency=low

  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Detlef Oertel <d.oertel@uib.de>  Wed,  08 Jun 2016:15:00:00 +0200


===== Ubuntu14-04


ubuntu14-04_4.0.7.1-1 stable; urgency=low

  * removing unneeded opsiclientds (different Architecture)
  * preseed: added umount/media as early command
  * updated initrd/linux
  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Mathias Radtke <m.radtke@uib.de>  Tue,  05 Jul 2016 15:30:00 +0200


===== Ubuntu16-04


ubuntu16-04_4.0.7.1-1 stable; urgency=low

  * removing unneeded opsiclientds (different Architecture)
  * preseed: added umount/media as early command
  * properties: added example for local apache repo
  * preseed: removing broken and not available repositories when using local apche repo provided by uib
  * setup.py: added install of pkg-config after addition of official repositories
  * install removes unneded and broken local repositories(only when installing from local repository)
  * added local repository example
  * removed property opsi_online_repository
  * Property: install_opsi-client-agent default changed to true

-- Mathias Radtke <m.radtke@uib.de>  Tue,  05 Jul 2016 15:30:00 +0200

ubuntu16-04_4.0.6-6 experimenal; urgency=low

  * opsisetuplib.py: Bypassing error when removing empty directories in /dev

-- Mathias Radtke <m.radtke@uib.de>  Fri,  13 Apr 2016 14:00:00 +0200

ubuntu16_04_4.0.6-5 experimental; urgency=low

  * initial derivated from Ubuntu15-04_4.0.6-4

-- Mathias Radtke <m.radtke@uib.de>  Wed, 04 May 2016 10:21:00 +0200

[[opsi-407-releasenotes-misc-changelogs-linux-client-agent]]
==== Changelog opsi-linux-client-agent


opsi-linux-client-agent (4.0.7.2-1) stable; urgency=medium

  * 4.0.7 stable

-- d.oertel <d.oertel@uib.de> Tue, 26 Jul 2016 15:00:00 + 0100


opsi-linux-client-agent (4.0.7.1-20160704) testing; urgency=medium

  * opsiscript:  * osparser: getValueFromFile / getValueFromFileBySeparator : empty string on failure
  * opsiclientd: Experimental support for Ubuntu 16.04. (nw)
  * replaced all shellBatch calls by shellInAnIcon (do)
  * added openssl to ShellInAnIcon_install_deps_debian_old
  * Updated opsi-deploy-client-agent to 4.0.7.1. (nw)

-- d.oertel <d.oertel@uib.de> Tue, 07 June 2016 15:00:00 + 0100


opsi-linux-client-agent (4.0.6.3-20160502) testing; urgency=medium

  * Updated opsi-deploy-client-agent to 4.0.6.15. (nw 2.5.)
  * create encrypted startcounter (on install and opsi-script 4.11.6 and no entry) (do 10.5) fixes #1508
  * update to opsi-script 4.11.6.1 (do 11.5.)
  * Updated opsiclientd. (nw 12.5)
  * using waitForPackageLock if >= 4.11.6 (do 12.5.)
  * update opsiscriptstarter (4.0.6.3) (do 19.5)
  * retry after failed ShellInAnIcon_upgrade_debian (do 19.5)
  * in sub_opsiclientd_install: debian: no package installation while bootimage mode (do 1.6.2016)
  * PatchHosts_standard: force localhost to 127.0.0.1 (and nothing else)

-- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 02 May 2016 15:41:36 +0200

opsi-linux-client-agent (4.0.6.3-20160408) testing; urgency=low

  * Default opsiclientd.conf: super of event_timer is now 'default'.
  * Updated opsi-deploy-client-agent to 4.0.6.14.
  * Updated opsi-script to 4.11.5.19 (do)
  * Real opsiclientd Ubuntu 16.04.(disabled)
  * Debian Jessie: do not stop winbind but configure smb.conf ; fixes #2106
  * Fix copying *.po files

-- Niko Wenselowski <n.wenselowski@uib.de> Wed, 24 Feb 2016 11:08:35 +0200


[[opsi-407-releasenotes-misc-changelogs-l-opsi-server]]
==== Changelog l-opsi-server

l-opsi-server 4.0.7.1-4; stable; urgency=low

  * redhat/centos 6 compatability (downloadonly plugin seems broken)
  * added ucs memberserver workaround

-- M.Radtke <m.radtke@uib.de> Tue, 23 Jun 2016 14:00:00 +0200


l-opsi-server 4.0.7.1-3; testing; urgency=low

  * fix: dhcp stop start instead of restart, restart doesnt work sometimes
  * fix: wrong sequence of arguments at getValueFromFile
  * sles11sp4: noerror on p7zip
  * sles11sp4: noerror on failed first xinetd restart
  * sles11sp4: use ShellInAnIcon_add_adminuser_pwdutils
  * ucs41: corrected handling when not running on domaincontroller_master

-- d.oertel <d.oertel@uib.de> Thu, 23 Jun 2016 15:00:00 + 0100


l-opsi-server 4.0.7.1-2 ; testing ; urgency=low

  * fix: ShellInAnIcon_install_dhcp_suse / ShellInAnIcon_install_opsi_suse

-- d.oertel <d.oertel@uib.de> Wed, 22 Jun 2016 15:00:00 + 0100


l-opsi-server 4.0.7.1-1 ; testing ; urgency=low

  * new property install_and_configure_dhcp (default=false)
  * new property: gateway (for dhcp)
  * property backend now with default=file
  * property product_depot_base_url removed

-- d.oertel <d.oertel@uib.de> Wed, 08 Jun 2016 15:00:00 + 0100

[[opsi-407-releasenotes-misc-changelogs-l-system-update]]
==== Changelog l-system-update


l-system-update 4.0.7.1-1 stable urgency=low

  * waitForPackageLock
  * new property apt_get_autoremove to remove old auto installed kernels from debian familiy systems (default=false)

-- d.oertel <d.oertel@uib.de> Wed, 11 May 2016 15:00:00 + 0100



[[opsi-407-releasenotes-misc-changelogs-l-jedit]]
==== Changelog l-jedit

l-jedit (5.3-6) stable; urgency=low

 * setup.opsiscript: add DefVar $javaVersion$

 -- k. koepke <k.koepke@uib.de> Wed, 03 Aug 2016 10:58:45 + 0100

l-jedit (5.3-5) STABLE; urgency=medium

  * fix linux java installation: try java 8 first
  * use waitForPackageLock if possible

-- d.oertel <d.oertel@uib.de> Wed, 27 Jul 2016 15:00:00 + 0100

l-jedit (5.3-4) stable; urgency=low

 * fix update-alternatives for java8 in case debian

-- k. koepke <k.koepke@uib.de> Fri, 08 July 2016 11:24:27 + 0100

l-jedit 5.3-3 ; stable,  ; urgency=low

  * opsi-script.xml for opsi-script 4.11.6.1

-- d.oertel <d.oertel@uib.de> Fri, 24 Jun 2016 15:00:00 + 0100


[[opsi-407-releasenotes-misc-changelogs-opsi-local-image]]
==== Changelog opsi-local-image

===== Windows NT6

windows (4.0.7.1-1) stable; urgency=low

  * sku fallback will be displayed now correctly from show_drivers.py

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue,  19 Jul 2016 15:00:00 +0200

===== backup

opsi-local-image-backup (4.0.7.2-2) stable; urgency=low

  * new opsisetuplib.py
  * use getPartitionDevicePath(disk.device, PartitionNumber) where needed

-- detlef oertel <d.oertel@uib.de>  Wed, 10 Aug 2016 15:00:00 +0200


opsi-local-image-backup (4.0.7.2-1) stable; urgency=low

	* for ext4: clonemethod = u'--dev-to-dev --restore_raw_file'

-- detlef oertel <d.oertel@uib.de>  Mo, 08 Aug 2016 15:00:00 +0200

opsi-local-image-backup (4.0.7.1-1) stable; urgency=low

	* link opsisetuplib.py from os-products
	* update opsisetuplib.py
	* do not load own partclone package (0.2.58) for bootimage >= 20160517

-- detlef oertel <d.oertel@uib.de>  Wed, 18 May 2016 15:00:00 +0200

===== restore

opsi-local-image-restore (4.0.7.1-1) stable; urgency=low

	* do not load own partclone package (0.2.58) for bootimage >= 20160517
	* update opsisetuplib.py

-- detlef oertel <d.oertel@uib.de>  Wed, 18 May 2016 15:00:00 +0200

===== delimage

opsi-local-image-delimage (4.0.7.1-1) stable; urgency=low

  * new opsisetuplib.py
  * use getPartitionDevicePath(disk.device, PartitionNumber) where needed

-- detlef oertel <d.oertel@uib.de>  Wed, 10 Aug 2016 15:00:00 +0200

===== capture

opsi-local-image-capture (4.0.7.1-1) stable; urgency=low

  * new opsisetuplib.py
  * use getPartitionDevicePath(disk.device, PartitionNumber) where needed

-- detlef oertel <d.oertel@uib.de>  Wed, 10 Aug 2016 15:00:00 +0200

===== prepare

opsi-local-image-prepare (4.0.7.1-1) stable; urgency=low

  * new opsisetuplib.py
  * use getPartitionDevicePath(disk.device, PartitionNumber) where needed

-- detlef oertel <d.oertel@uib.de>  Wed, 10 Aug 2016 15:00:00 +0200

===== ubuntu

ubuntu_4.0.7.1-1 stable; urgency=low

  * update predictable network interface names
  * multiple ports from ubuntu (4.0.7.1-1)

-- Detlef Oertel <d.oertel@uib.de>  Wed,  03 Aug 2016:15:00:00 +0200

===== opensuse13-2

opsi-local-image-opensuse13-2 (4.0.7.1-1) stable; urgency=low

  * new opsisetuplib.py
  * use getPartitionDevicePath(disk.device, PartitionNumber) where needed

—detlef oertel <d.oertel@uib.de> Fri, 12 Aug 2016 15:00:00 +0200


[[opsi-407-releasenotes-misc-changelogs-clonezilla]]
==== Changelog opsi-clonezilla

opsi-clonezilla (4.0.7.2-2) stable; urgency=low

  * more logging (free -m / ls -l on mountpoint)

-- detlef oertel <d.oertel@uib.de>  Mo, 22 Aug 2016 15:00:00 +0200


opsi-clonezilla (4.0.7.2-1) stable; urgency=low

  * adding drbl-2.20.11.tar.bz2 (xenial / opsi 4.0.7)
  * update to clonezilla 3.21.13
  * update perl
  * new properties: disk_number, part_number to better support non standard disks
  * mount image share before the libs are extracted

-- detlef oertel <d.oertel@uib.de>  Thu, 18 Aug 2016 15:00:00 +0200


opsi-clonezilla (4.0.7.1-1) stable; urgency=low

  * adding clonezilla 3.21.10 for bootimage >= 20160517 (xenial / opsi 4.0.7)

-- detlef oertel <d.oertel@uib.de>  Fri, 20 May 2016 15:00:00 +0200

[[opsi-407-releasenotes-misc-changelogs-python-opsi]]
==== Changelog python-opsi

python-opsi (4.0.7.17-1) stable; urgency=medium

  * OPSI.Util: Refactored encryptWithPublicKeyFromX509CertificatePEMFile
    and decryptWithPrivateKeyFromPEMFile.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 18 Aug 2016 10:10:53 +0200

python-opsi (4.0.7.16-1) testing; urgency=medium

  * OPSI.System.Posix: new function isOpenSUSELeap.
  * OPSI.Util.Task.Rights: Improved support for openSUSE Leap.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 15 Aug 2016 16:53:24 +0200

python-opsi (4.0.7.15-1) stable; urgency=medium

  * corrected opsi-set-rights for openSUSE

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 10 Aug 2016 13:44:48 +0200

python-opsi (4.0.7.14-1) stable; urgency=medium

  * OPSI.Util.Task.Rights: Corrected path for UCS.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 05 Aug 2016 15:56:55 +0200

python-opsi (4.0.7.13-1) testing; urgency=medium

  * OPSI.Util.Task.Rights: Corrected path for SLES 11.

-- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 27 Jul 2016 17:11:57 +0200

python-opsi (4.0.7.12-1) stable; urgency=medium

  * Correct indentation in some places.
  * Use future-proof octal values.
  * Correct version in OPSI.Util.Task.Rights and OPSI.Backend.JSONRPC.

-- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 25 Jul 2016 14:39:25 +0200

python-opsi (4.0.7.11-1) testing; urgency=medium

  * OPSI.Util.Task.Rights: Better support for different SLES versions.

-- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 25 Jul 2016 13:13:55 +0200

python-opsi (4.0.7.10-1) testing; urgency=medium

  * OPSI.Util.Task.Rights: Do not fail if MySQL backend is configured but
    not yet set up.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 22 Jul 2016 11:17:24 +0200

python-opsi (4.0.7.9-1) testing; urgency=medium

  * OPSI.System.Posix: new functions: isDebian, isOpenSuse, isUbuntu, isUCS.
  * OPSI.Util.Task.Rights: Refactored module.
  * OPSI.Util.Task.Rights: setRights will try to set rights on the webserver
    directory as installed by the package opsi-linux-support.
  * 40_admin_tasks.conf: Bugfix for setupWhereNotInstalled

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 21 Jul 2016 16:22:58 +0200

python-opsi (4.0.7.8-1) stable; urgency=low

  * OPSI.System.Windows:
    - getOpsiHotfixName supports now Windows 10
    - fixed Syncing Time function with service
  * Proxysupport for HTTP-Connections
  * Fix for setActionRequestWithDependencies
  * do not add obsolete config software-on-demand.show-details
  * ConfigDataBackend: internal refactoring in log_read and log_write

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 19 Jul 2016 15:36:42 +0200

python-opsi (4.0.7.7-1) stable; urgency=low

  * WindowsDrivers byAudit sku fallback fixed.

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 05 Jul 2016 15:29:36 +0200

python-opsi (4.0.7.6-1) stable; urgency=medium

  * Changed formatting in Logger to not expose parts of confidential strings
    under special circumstances.
  * OPSI.Util.Task.ConfigureBackend.MySQL: fixed error on hostname with dash

-- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Jul 2016 17:49:17 +0200

python-opsi (4.0.7.5-1) testing; urgency=medium

  * JSONRPC backend has received small refactorings.
  * 10_opsi.conf: Refactored setProductActionRequestWithDependencies.
    With this change the 'force' parameter is deprecated and does not have
    any effect. It may be removed in future releases.

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 30 Jun 2016 15:39:29 +0200

python-opsi (4.0.7.4-1) testing; urgency=medium

  * OPSI.Util.Task.UpdateBackend.MySQL: Also correct license key column in
    table SOFTWARE_CONFIG.
  * ACL: Pre-compiling patterns
  * ACL: Changed log output for easier debugging.
  * Various small improvements in OPSI.Backend.BackendManager.
  * OPSI.Util.Task.Samba: Removed oplocks from share definition.
    This will only affect new share configurations.
  * OPSI.System.Posix: Improved detection for predictable network interfaces.
  * Configuration of MySQL backends warns if strict mode seems to be
    enabled.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 24 Jun 2016 14:28:26 +0200

python-opsi (4.0.7.3-1) testing; urgency=medium

  * Repaired sort algorithm 1.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 10 Jun 2016 13:36:41 +0200

python-opsi (4.0.7.2-1) testing; urgency=medium

  * OPSI.Util.Task.UpdateBackend.MySQL: making sure that columns for license
    keys are 1024 characters long.
  * HostControl: If resolveHostAddress is set to True we fall back to
    using the specified in case of a lookup failure.
  * Various small changes.

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 09 Jun 2016 15:34:59 +0200

python-opsi (4.0.7.1-1) testing; urgency=medium

  * forceObjectClass got a faster check to see if we are processing JSON.
  * OPSI.System.Posix: fixed typo: init -6 -> init 6.
  * OPSI.Backend.Backend: _testFilterAndAttributes is faster if attributes
    and filter are missing.
  * OPSI.Backend.Backend: _objectHashMatches now avoids temporary variable.
  * Improved iteration in many parts to be more efficient.
  * OPSI.Logger: Faster lookup for output color / level name.
  * Changed some log outputs to make use of the formatting during logging.
  * Updated hwaudit.conf: Now showing the number of physical and logical
    cores.
  * OPSI.Util.Task.ConfigureBackend.DHCP: only retrieve and show system
    information once.
  * 20_legacy.conf: Refactored setGeneralConfig.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 20 May 2016 15:44:59 +0200

python-opsi (4.0.6.50-1) experimental; urgency=medium

  * OPSI.Logger.Logger now is able to do formatting in the style of
    str.format. To format a message use the appropriate placeholders and
    then supply args / kwargs as needed.
    Formatting will only be applied if the message will actually be logged.
  * Improved logging during HTTP Connection.

-- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 07 Jun 2016 10:47:44 +0200

python-opsi (4.0.6.49-1) stable; urgency=medium

  * OPSI.Util.Task.Samba: removed oplocks from opsi_depot share
  * OPSI.Util.Product: Added debug output to show when tasks end.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 6 May 2016 07:32:28 +0200

python-opsi (4.0.6.48-1) stable; urgency=medium

  * OPSI.Types.forceOct avoids using a temporary variable.
  * OPSI.Util.Task.Rights.setRights: avoid processing the same path
    twice.
  * OPSI.Logger and OPSI.Service.JsonRpc now use the 'traceback' module
    to get the tracebacks.
  * OPSI.Backend.Replicator: Show the renaming of the server as a single
    step for better user feedback.

-- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 27 Apr 2016 12:35:39 +0200

python-opsi (4.0.6.47-1) stable; urgency=medium

  * Not using bare "except:" - at least catching Exception.
  * OPSI.Util.Task.Samba: notify the user that he may need to restart the Samba
    daemon.
  * Fix typo in error message if the filter was referencing an attribute not
    present at the used object type.
  * OPSI.Backend.Replicator: Check if the used backend can rename the server
    before trying to do so. If the check fails fall back to using an
    ExtendedBackend.
  * OPSI.Backend.SQL: Limit the length of inserted changelogs to be lower than
    65535 to avoid problems with the limited size of columns of type TEXT.

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 21 Apr 2016 13:18:16 +0200


[[opsi-407-releasenotes-misc-changelogs-opsiconfd]]
==== Changelog opsiconfd

opsiconfd (4.0.7.4-1) stable; urgency=medium

  * Parameter passing now also works in OpenJDK / IcedTea.
    Refer to bug OpenJDK bug #1760 for more information.

-- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 06 Jun 2016 14:55:34 +0200

opsiconfd (4.0.7.3-1) testing; urgency=medium

  * Reverted the changes to serve JNLP at /configed/.
    The change will be done from within Configed.
  * Statistics logged during shutdown / reload will now be sorted by the name
    of the called method.
  * Avoid that logging statistics during reload fails the service because of
    missing start time.
  * Overhauled the passing of parameters for JNLP to work as expected.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 03 Jun 2016 15:07:01 +0200

opsiconfd (4.0.7.2-1) testing; urgency=medium

  * The path "/configed/" is now also accessible.
    It serves the Java Web Start version of Configed.

-- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 01 Jun 2016 10:09:02 +0200

opsiconfd (4.0.7.1-1) testing; urgency=medium

  * The path "/configed" now servers the Java Web Start version.
    Java applet is deprecated as more and more browsers disable
    applets by default.

-- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 31 May 2016 13:52:57 +0200

opsiconfd (4.0.6.14-1) experimental; urgency=medium

  * Small improvements during statistics collections and display.
  * opsiconfd will log statistics at shutdown with level notice.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 01 Apr 2016 11:00:03 +0200


[[opsi-407-releasenotes-misc-changelogs-opsipxeconfd]]
==== Changelog opsipxeconfd

opsipxeconfd (4.0.7.1-1) stable; urgency=medium

  * Refactored internal code for locking.

--Niko Wenselowski <n.wenselowski@uib.de>  Thu, 19 May 2016 12:39:40 +0200


[[opsi-407-releasenotes-misc-changelogs-opsi-utils]]
==== Changelog opsi-utils

opsi-utils (4.0.7.5-1) stable; urgency=medium

  * commended exclude on standard uib repository. Windows products will be updated as default

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 02 Aug 2016 12:34:49 +0200

opsi-utils (4.0.7.4-1) stable; urgency=medium

  * opsi-product-updater.conf: Added additional repositories for Linux
    and opsi-local-image products.
  * opsi-admin: When run without loglevel set do not hide the error message
    if something fails.

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 28 Jul 2016 16:26:30 +0200

opsi-utils (4.0.7.3-1) stable; urgency=medium

  * opsi-product-updater: Various small refactorings.

-- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 11 Jul 2016 12:46:24 +0200

opsi-utils (4.0.7.2-1) testing; urgency=medium

  * opsi-newprod: Delete directory if things fail during the creation.
  * opsi-newprod: Improved texts for depedency creation. Not suggesting
    currently not handled cases anymore.
  * opsi-newprod: Various internal refactorings.

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 24 Jun 2016 15:05:09 +0200

opsi-utils (4.0.7.1-1) testing; urgency=medium

  * opsi-convert: If you are logging into a file the loglevel will be DEBUG.
  * opsi-product-updater: The notification mail will now have the DATE field
    in the header. The field is formatted as specified in RFC 5322.
  * opsi-package-manager: Setting -v now sets an implicit -q to show the
    output. If using '-p ask' no -q will be set to be able to still
    select the wanted properties.

--Niko Wenselowski <n.wenselowski@uib.de>  Mon, 23 May 2016 14:31:10 +0200

opsi-utils (4.0.6.14-1) testing; urgency=medium

  * opsi-makeproductfile: Avoid reference to undefined 'incremental'.

--Niko Wenselowski <n.wenselowski@uib.de>  Fri, 29 Apr 2016 12:21:49 +0200

opsi-utils (4.0.6.13-1) testing; urgency=medium

  * opsi-makeproductfile: now using argparse internally
  * opsi-admin got received a welcome message.
  * Fixed typo in German translation.
  * opsi-convert: show custom application name if used against webinterface
    of another server to be able to easily spot the corresponding requests.
  * opsi-product-updater: Attempts to close open connections now more reliable.
  * opsi-makeproductfile: use argparse instead of getopt.
  * opsi-product-updater: running with -p <productId> now implies -i.

--Niko Wenselowski <n.wenselowski@uib.de>  Thu, 28 Apr 2016 12:29:16 +0200

opsi-utils (4.0.6.12-1) experimental; urgency=medium

  * opsi-package-manager: return error when trying to remove non installed
    package
  * opsi-package-manager: logs into package.log with LogLevel 4
  * Added logrotate config for /var/log/opsi/opsi-package-manager.log

--Mathias Radtke <m.radtke@uib.de>  Tue, 12 Apr 2016 15:56:31 +0200

opsi-utils (4.0.6.11-1) experimental; urgency=medium

  * opsi-backup: Warn during restore if no backends are given.
  * Various small changes for easier maintenance.
  * opsi-package-manager: only query for depot information if required.

--Niko Wenselowski <n.wenselowski@uib.de>  Mon, 04 Apr 2016 17:00:33 +0200

[[opsi-407-releasenotes-misc-changelogs-opsi-linux-bootimage]]
==== Changelog opsi-linux-bootimage

opsi-linux-bootimage (20160706-1) stable; urgency=medium

  * updated python-opsi to 4.0.7.3-1 to provide proper sku fallback

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 02 Aug 2016 14:50:54 +0200

opsi-linux-bootimage (20160623-1) experimental; urgency=medium

  * updated python opsi to 4.0.7.1-3
  * getEthenetDevices() searches for eno pattern

-- Mathias Radtke <m.radtke@uib.de>  Thu, 23 Jun 2016 15:37:26 +0200

opsi-linux-bootimage (20160608-1) experimental; urgency=medium

  * added mei kernel driver
  * added hd audio kernel driver

-- Mathias Radtke <m.radtke@uib.de>  Wed, 08 Jun 2016 08:15:35 +0200

opsi-linux-bootimage (20160524-1) UNRELEASED; urgency=medium

  * Kernel 4.4.11
  * included package fatresize

-- Mathias Radtke <m.radtke@uib.de>  Tue, 24 May 2016 09:45:10 +0200

opsi-linux-bootimage (20160517-1) UNRELEASED; urgency=medium

  * fixed prediction of network interfaces in init script

-- Mathias Radtke <m.radtke@uib.de>  Tue, 17 May 2016 09:45:10 +0200

opsi-linux-bootimage (20160513-1) experimental; urgency=medium

  * initial xenial based release
  * derived from opsi-linux-bootimage_20160322-1

-- Mathias Radtke <m.radtke@uib.de>  Fri, 13 May 2016 15:31:34 +0200


[[opsi-407-releasenotes-misc-changelogs-opsi-atftp]]
==== Changelog opsi-atftp

opsi-atftp (0.7.dfsg-6) testing; ency=medium

  * included -std=gnu89 in CFLAGS for GCC5 compatability on Ubuntu 15.10 and 16.04

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 22 Apr 2016 03:53:56 +0200


[[opsi-407-releasenotes-misc-changelogs-opsi-linux-support]]
==== Changelog opsi-linux-support

opsi-linux-support (4.0.7-5) stable; urgency=medium

  * Better out-of-the-box experience for UCS.
  * SUSE: do not alter default options.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 05 Aug 2016 15:46:46 +0200

opsi-linux-support (4.0.7-4) testing; urgency=medium

  * Refactored RPM postinst.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 28 Jul 2016 17:13:41 +0200

opsi-linux-support (4.0.7-3) testing; urgency=medium

  * SLES11 should now run out of the box.
  * Repaired support for CentOS / RHEL 7.
  * Fixed accidently broken support for CentOS / RHEL 6.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 27 Jul 2016 16:56:50 +0200

opsi-linux-support (4.0.7-2) testing; urgency=medium

  * Better support for CentOS / RHEL 6.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 25 Jul 2016 16:26:05 +0200

opsi-linux-support (4.0.7-1) experimental; urgency=medium

  * Better support for SLES 11.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 25 Jul 2016 12:07:11 +0200

opsi-linux-support (1.0-10) testing; urgency=medium

  * Re-release for rebuild.

 -- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 21 Jul 2016 17:41:40 +0200

opsi-linux-support (1.0-9) experimental; urgency=medium

  [ Niko Wenselowski ]
  * RPM: Summary does not end with a dot anymore.

  [ Mathias Radtke ]
  * Added new build dependency: apache2/hhtpd
  * creating local apache repo opsi dir /var/www/html/opsi/ for debian8
and ubuntu16-04 local repository

-- Mathias Radtke <m.radtke@uib.de>  Thu, 30 Jun 2016 11:50:15 +0200

[[opsi-407-releasenotes-misc-changelogs-jedit]]
==== Changelog jedit

jedit_5.3.0-1 stable; urgency=low

   * update to 5.3
   * opsi-script.xml for opsi-script 4.11.6.1

-- d.oertel <d.oertel@uib.de> Fri, 24 Jun 2016 15:00:00 + 0100


[[opsi-407-releasenotes-misc-changelogs-opsi-logviewer]]
==== Changelog opsi-logviewer

opsi-logviewer (2.2-2) STABLE; urgency=medium

  * fix linux java installation: try java 8 first
  * use waitForPackageLock if possible

-- d.oertel <d.oertel@uib.de> Wed, 27 Jul 2016 15:00:00 + 0100


opsi-logviewer (2.2-1) testing; urgency=low

  * fallback for opening file with unknown extension if it is not recognized as an archive

--r.roeder <r.roeder@uib.de> Thu, 21 Jul 12:00:00 + 0100

opsi-logviewer (2.1-1) testing; urgency=low

  * added Linux support

--d.oertel <d.oertel@uib.de> Wed, 23 Dec 2015 15:00:00 + 0100

opsi-logviewer (2.0-1) testing; urgency=lo

* added support for archive formats

[[opsi-407-releasenotes-misc-changelogs-opsi-wim-capture]]
==== Changelog opsi-wim-capture


opsi-wim-capture (4.0.7.1-1) stable; urgency=low

  * opsi-script 4.11.6 integrated
  * upgrade to wimlib 1.9.1
  * requiredWinstVersion >= "4.11.3.7"
  * chkdsk call with /v ; exit code description as comment

-- detlef oertel <d.oertel@uib.de>  Wed, 18 May 2016 15:00:00 +0000

[[opsi-407-releasenotes-misc-changelogs-opsi-wim-info]]
==== Changelog opsi-wim-info

opsi-wim-info (4.0.7.1-1) stable; urgency=low

  * derivated from opsi-wim-capture (4.0.7.1-1)

-- detlef oertel <d.oertel@uib.de>  Thu, 30 May 2016 15:00:00 +0000

[[opsi-407-releasenotes-misc-changelogs-opsi-nagios-plugins]]
==== Changelog opsi-nagios-plugins

opsi-nagios-plugins (4.0.7.2-1) testing; urgency=medium

  * Using the new-style base64 Python interface to avoid breaking with
    combinations of username and password that exceed 72 characters and
    lead to newlines in the base64-encoded authentication header.
    This is in response to CVE-2016-5699 / Python bug 22928 as these
    patched Python versions may lead to breaks on some systems.

-- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 26 Jul 2016 15:40:04 +0200

opsi-nagios-plugins (4.0.7.1-1) testing; urgency=medium

  * Internal refactoring.
  * Accepting self-signed certificates without showing a warning.

-- Niko Wenselowski <n.wenselowski@uib.de>  Tue, 26 Jul 2016 14:27:37 +0200
