////
; Copyright (c) uib GmbH (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; https://creativecommons.org/licenses/by-sa/3.0/de/
; https://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; https://creativecommons.org/licenses/by-sa/3.0/
; https://creativecommons.org/licenses/by-sa/3.0/legalcode
;
; credits: https://www.opsi.org/credits/
////

:Author:    uib GmbH
:Email:     info@uib.de
:Date:      07.11.2023
:Revision:  4.3
:toclevels: 6
:doctype:   book
:icons:     font
:xrefstyle: full

include::common:partial$opsi_terms.adoc[]


[[server-components-mysql]]
= MySQL-Server

The opsi config server requires access to a MySQL server.
If the MySQL server is running on the same computer,
then the configuration is usually carried out automatically via xref:server:components/opsiconfd.adoc#server-components-opsiconfd-setup[opsiconfd setup]. `opsiconfd setup` also takes care of database migrations and the cleanup.

If the automatic configuration does not work, or if an external MySQL server is to be used,
then you can carry out the configuration manually. To do this, use the following command:

[source,console]
----
opsiconfd setup --configure-mysql
----

An interactive query is made for the details of the MySQL connection.
The tool then creates the opsi database on the MySQL server and a user account for access.

== Configuration file
 
Alternatively, edit the MySQL configuration in the file `/etc/opsi/backends/mysql.conf` with a text editor. After saving your changes, execute the command `sudo opsiconfd setup` to create or update the opsi database on the MySQL server.

You can also edit the MySQL configuration with a text editor.
image::opsi-backends-mysql.png["You can also edit the MySQL configuration with a text editor.", pdfwidth=80%, width=600]
