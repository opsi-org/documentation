////
; Copyright (c) uib GmbH (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; https://creativecommons.org/licenses/by-sa/3.0/de/
; https://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; https://creativecommons.org/licenses/by-sa/3.0/
; https://creativecommons.org/licenses/by-sa/3.0/legalcode
;
; credits: https://www.opsi.org/credits/
////

:Author:    uib GmbH
:Email:     info@uib.de
:Date:      06.05.2024
:Revision:  4.3
:toclevels: 6
:doctype:   book
:icons:     font
:xrefstyle: full



[[opsi-manual-configed-clients]]
= Clients

This chapter introduces client management with `opsi-configed` and the features available after clicking the _Client Configuration_ button in the top right overview. You will learn, among other things, how to search for specific clients and retrieve additional information like session data, how to create and manage clients and client groups, execute remote control commands, send pop-up messages, and more.

[[opsi-manual-configed-client-selection]]
== Searching Clients

After you have successfully logged in, the _Clients_ tab in the center of the main window is activated. Here you see a list of clients that belong to the currently selected depot or the selection in the left sidebar (see section <<opsi-manual-configed-treeview>>). Right-clicking on the selected clients opens a context menu through which you can perform various actions, such as triggering events, sending messages, shutting down, and restarting, etc.

.*opsi-configed*: Context Menu after right-clicking a Client
image::opsi-configed-clientselection.png["*opsi-configed*: Context Menu after Right-clicking a Client", width=800, pdfwidth=80%]

At the top, there's a search box where you can enter a string. Right next to it, you decide through a drop-down menu where `opsi-configed` should search: in all columns (meaning all columns that are displayed in the current configuration), by client name, description, status (on/off), date (last seen), and by IP address. The _Mode_ drop-down menu further refines the search:

* _Full-text search_: Use the search just as you would on search engines, entering one or more search words separated by spaces. For a successful search result, at least one of your keywords must appear in one of the columns.

* _Start-text search_: Begin your search with the string that you want to find at the start of an entry in a column.

* _Regular expression_: Enter the search term as a regular expression to find rows where the text in a column matches patterns as defined in the rules of regular expressions. For details on these patterns, please see the Java documentation for `java.util.regex.Pattern`.

When you press the [Enter] key after entering your search expression, `opsi-configed` jumps to the next match (or to the next line if there is no match). Right-click in the search box to display additional options.

.*opsi-configed*: Client Search
image::opsi-configed-clientselection-search.png["*opsi-configed*: Client Search", width=800, pdfwidth=80%]

=== Examples of Search Patterns

TIP: Below are a few examples of simple and complex search patterns.

If you want to search for the string "Meyer" in the names or descriptions of PCs, you can use the pattern `.*eyer.*`. Here, the dot (`.`) represents any character, and the asterisk (`*`) represents any number of occurrences (of the preceding element). `.*eyer.*` means the search pattern matches as long as there is something before `eyer` and something follows it. As any number of occurrences also includes no occurrence, the string "PC Meyer" would match, for example.

NOTE: To ensure that strings like "Beyer" aren't also found, the search pattern should be better specified as `.*[Mm]eyer.*`. The square brackets mean that exactly one of the listed characters (either an `M` or an `m`) must be present.

The second example demonstrates search patterns for products. `0.-opsi.*standard` looks for all product names starting with `0`, followed by any character, followed by `-opsi`, followed by any characters (in any number); ending with `standard`. If you want to ensure that the second character is a digit between `0` and `9`, then use this expression: `0[0123456789]-opsi.*standard`. As a shortcut for `[0123456789]`, you can also write `[0-9]`, as it represents a continuous subsequence of the sequence of all digits. This search pattern would match products such as `03-opsi-abo-standard` and `05_opsi-linux_standard`, for example.

[[opsi-manual-configed-client-selection-table]]
== Listing Clients

The table on the _Clients_ tab shows the following columns by default:

* _Client name_: Displays the FQDN, i.e. the client's hostname and the domain name.

* _Description_: This column may contain an optional description.

* _On_: The column shows which clients are currently connected. To do this, click on the second icon from the right at the top left of the icon group. You can activate this feature on the login screen or via a command line parameter. By default, the test interval is set to 0 minutes, which means that this function is deactivated.

.*opsi-configed*: Client can be reached.
image::opsi-configed-client-erreichbar.png["Client can be reached.", width=20]

.*opsi-configed*: Client cannot be reached.
image::opsi-configed-client-nicht-erreichbar.png["Client cannot be reached.", width=20]

.*opsi-configed*: Use this Icon to check which Clients are connected.
image::configed_toolbar_icons_connected.png["*opsi-configed*: Use this icon to check which clients are connected.", pdfwidth=80%]

* _Last seen_: Here you can see the date and time at which the client last reported to the software distribution via the `opsiconfd` service.

* _IP address_: Displays the client's IP address.

Click on a column title to reverse the order. Optionally, you can show additional columns by right-clicking on the table and opening the _Visible columns_ entry in the context menu. Now select the columns that you would also like to show: _WAN Configuration_, _System UUID_, _MAC address_, _Session information_, _Inventory number_, _Creation date_, _Install on shutdown_ and _depot_.

TIP: To permanently display the additional columns in `opsi-configed`, use the top right icon to change to the server configuration (see the chapter xref:gui:configed/userguide-server.adoc[Server]) and open the _Host parameters_ tab. Edit the _configed_ / _configed.host_displayfields_ option accordingly.

.*opsi-configed*: Configure the visible Columns in the Client List.
image::opsi-configed-config-host-displayfields.png["*opsi-configed*: Configure the visible Columns in the Client List.", width=800, pdfwidth=80%]

If you add the column _Session information_, the button _Request session information from all clients_ in the icon group at the top left is activated.

.*opsi-configed*: Use this Icon to request Session Information from all Clients.
image::configed_toolbar_icons_sessioninfo.png["*opsi-configed*: Use this Icon to request Session Information from all Clients.", pdfwidth=80%]

When you press the button, the `opsiconfd` attempts to establish a connection with all clients and gather information about currently active user sessions. In the _Session information_ column, you will then see the account name of each active session. You can also activate this function specifically for selected clients via the context menu or the _Client_ menu. This helps to avoid unnecessary waiting for network timeouts if it tries to connect to computers that are turned off.

TIP: Since the search function for the client list includes all columns, you can also use it to search for clients where a specific user is logged in.

[[opsi-manual-configed-client-selection-selecting]]
== Selecting Clients

You can select one or several clients in the client list to edit them together. Use the funnel icon or go through the menu _Selection_ / _Show only selected clients_ to limit the list to your selected clients.

.*opsi-configed*: Use this Icon to only show selected Clients.
image::configed_toolbar_icons_filter.png["*opsi-configed*: Use this Icon to only show selected Clients.", pdfwidth=80%]

TIP: You can add the selected clients to an existing group by dragging and dropping them onto a group name in the left sidebar.

Using the third icon from the left or through the _Selection_ menu, you can start the free client search dialog, where you can search based on client and/or product properties.

.*opsi-configed*: Use the Free Client Search to create your own Search Criteria.
image::configed_clientselection.png["*opsi-configed*: Use the Free Client Search to create your own Search Criteria.", pdfwidth=80%]

You can conduct your search for clients not only based on general host properties but also using hardware and software components as search criteria, regardless of whether they were installed via opsi or another method. Use the asterisk (`*`) as a wildcard for any text input. Link your search criteria with logical `AND` or `OR`. Exclude certain results by prefixing a criterion with `NOT`.

To add more criteria to your search, use the _Add criterion_ dropdown menu. Remove an unwanted criterion by clicking the trash bin icon on the right edge. To reset the search form to its initial state, simply click _New search_.

You can save your queries under any name and later retrieve them via _Selection_ / _Saved search queries_. Adding a description when saving will display it as a tooltip in the dropdown list, helping you recall the contents of the saved search.

.*opsi-configed*: Saved Search Queries
image::configed_clientselection2.png["*opsi-configed*: Saved Search Queries", pdfwidth=80%]

NOTE: If new clients have been added to the environment between searches that match the saved search criteria, `opsi-configed` will also find them.

TIP: You can pass a saved search to `opsi-configed` at startup using the command line option `-qs` (see section xref:gui:configed/userguide.adoc#opsi-configed-start-parameters[Start Parameters]). If you omit the name, the command will output a list of the saved queries.

Through the _Selection_ menu, you can also specifically search for clients with failed actions, either related to a product or within a specific timeframe.

.*opsi-configed*: Search for Failed Actions.
image::opsi-configed-failedactions-today.png["*opsi-configed*: Search for Failed Actions.", width=800, pdfwidth=80%]

[[opsi-manual-configed-treeview]]
== Grouping Clients

Using the tree view on the left panel, you can manage your clients in groups. The view is divided into three categories: _GROUPS_, _DIRECTORY_, and _CLIENT LIST_. The latter automatically displays all clients from the selected depots. The first two sections differ in how often a client can appear in them. A group is uniquely defined by its name and cannot be duplicated, whereas a client can be assigned to multiple groups. In the _DIRECTORY_ branch, each client has a unique place: unless explicitly assigned to a subgroup, the client is automatically listed in the _UNASSIGNED_ group.

NOTE: When a client is selected, all groups to which it belongs are highlighted with a colored background.

.*opsi-configed*: Tree View
image::opsi-configed-treeview.png["*opsi-configed*: Tree View", pdfwidth=80%]

The tree view offers the following features:

* Click on a tree node, such as a group, to display all clients under this node in the middle on the _Clients_ tab. No client is selected for editing.

* If you want to mark individual clients for editing, click them directly in the tree view or select them with the mouse ([Ctrl]{plus}Click or [Shift]{plus}Click).

* Double-clicking on a group not only displays the associated clients in the table but also selects them for editing at the same time.

TIP: This is especially useful when you are working on various tabs, for instance, if you have the _Log files_ tab open and want to view logs for specific clients only.

=== Creating New Groups

You can easily create additional groups. Simply right-click on the parent group or node, such as _GROUPS_, and select _Create subgroup_.

.*opsi-configed*: Create a new Group.
image::opsi-configed-treeview-generate-group.png["*opsi-configed*: Create a new Group.", pdfwidth=80%]

A dialog box then opens where you can enter a name and description for the new group.

.*opsi-configed*: Enter Group Name and Description.
image::opsi-configed-treeview-groupname.png["*opsi-configed*: Enter Group Name and Description.", pdfwidth=80%]

=== Adding Clients to Groups

There are several ways to add or move clients to groups via drag and drop (see the section <<opsi-manual-configed-client-selection-selecting>>):

* Drag clients directly from the client list (tab _Clients_) to a group to add them.

* If you want to copy clients, drag them from a "normal" group, e.g., from the _CLIENT LIST_ node, to another group.

* To move a client, drag them from one _DIRECTORY_ group to another _DIRECTORY_ group.

=== Editing Groups

Right-click on a group to open a context menu. This menu offers options to edit or delete the group, select all clients contained within, and recursively remove all clients from the group and any subgroups.

[[opsi-manual-configed-client-editing]]
== Editing Clients

Right-click on the client list (tab _Clients_) or open the _Client_ menu to display possible operations for opsi clients. In the main window, you also see a dialog on the right where you can configure a few properties and extensions for the client.

.*opsi-configed*: The *Client* Menu
image::opsi-configed-client-contextmenu.png["*opsi-configed*: The *Client* Menu", pdfwidth=80%]

[[opsi-manual-configed-module-uefi-wan-installbyShutdown]]
=== Install on Shutdown, UEFI, and WAN

You can make some settings in the field next to the client list. These include options like _Install on shutdown (Windows)_, _UEFI Boot_, and _WAN configuration_.

The Linux client agent is a xref:opsi-modules:linux.adoc[paid extension]. This means that you need an activation file to unlock it. You will receive this file after you have purchased the extension. For evaluation purposes, we're happy to provide you with a temporary license free of charge. Please contact us via mailto:info@uib.de[email].


NOTE: The WAN/VPN extension is a xref:opsi-modules:wan-support.adoc[paid extension]. This means that you need an activation file to unlock it. You will receive this file after you have purchased the extension. For evaluation purposes, we're happy to provide you with a temporary license free of charge. Please contact us via mailto:info@uib.de[email].

* _Install on shutdown (Windows)_: There's a well-established process to configure installations upon the shutdown of a client (see the chapter xref:opsi-modules:on-shutdown.adoc[opsi Installation on Shutdown (free)]).

* _UEFI Boot_: Configures a client for UEFI boot (see the chapter xref:opsi-modules:uefi.adoc[opsi with UEFI/GPT])

* _WAN configuration_: Enables the xref:opsi-modules:wan-support.adoc[WAN/VPN extension]; if the module is not available, the checkbox appears grayed out.

The WAN configuration is read from the server host parameters `configed.meta_config.wan_mode_off.*`. If you have adopted the default settings of the parameters, the recommended configuration described in the chapter xref:opsi-modules:wan-support.adoc[WAN/VPN Extension] applies.

TIP: You can display information about the options _Install on shutdown (Windows)_ and _WAN configuration_ as a column in the client list, either via the right-click context menu or through the _Client_ / _Visible columns_ menu. This way, you can directly see in the overview which clients have these properties set, and you can filter and sort accordingly.

.*opsi-configed*: Extended Column View for opsi Clients
image::opsi-configed-clientinfos.png["*opsi-configed*: Extended Column View for opsi Clients", width=800, pdfwidth=80%]

[[opsi-manual-configed-host-actions-wakeonlan]]
=== Wake on LAN (WoL)

`opsi-configed` includes a scheduler for Wake-On-LAN events (WOL), which you can set up via the menu _Client_ / _"Wake up" client(s)_ / _New scheduler_. From version 4.0.7, the WOL feature offers the following configuration options:

* Direct sending of the network signal to all selected clients.
* Delayed transmission of the signal with an adjustable interval between two clients.
* Setting a start time for the process via a scheduler.

If a client is assigned to a depot server other than the opsi config server, the transmission of the Wake-on-LAN signal does not occur directly. In this case, an HTTPS connection to the `opsiconfd` on the depot server is established. The depot server is then responsible for sending the network packet within its network.

.*opsi-configed*: Scheduler for Wake on LAN (WoL)
image::opsi-configed-wake-on-lan-scheduler.png["opsi-configed: Scheduler for Wake on LAN (WoL)", pdfwidth=80%]

NOTE: Please be aware that `opsi-configed` triggers the Wake-On-LAN actions. Therefore, it is crucial that the program remains active throughout the process and is not terminated.

[[opsi-manual-configed-host-actions-opsiclientd-event]]
=== Triggering Events (Push Installation)

Under _Client_ / _Trigger opsiclientd event_ / _on_demand_, you can send a call to the client agent of all selected clients to trigger an event. If a client is unreachable or is currently processing another non-interruptible event, `opsi-configed` will display an error message.

The default event is `on_demand`. This ensures that action requests for the client are executed immediately.

WARNING: If a product script includes a reboot request, the client will be restarted without warning.

Since version 4.0.4, it is also possible to trigger other events configured in the `opsiclientd.conf` file. The available options are determined by the server host parameter `configed.opsiclientd_events`.

[[opsi-configed-host-actions-delete-package-caches]]
=== WAN Clients: Deleting Package Cache

For clients connected over a Wide Area Network (WAN), issues with the package cache can occasionally arise. To address these difficulties, a special function is available for these clients: Menu _Client_ / _For WAN clients: clear package caches_ completely resets the cache.

=== Sending Messages

You can send messages to one or several clients. Select them and then open _Client_ from the menu and choose _Send pop-up message_. In the dialog box that opens, type your message. In the top right field, you can enter the desired display duration; leave the field empty to display the message indefinitely.

.*opsi-configed*: Send a message to Client(s).
image::opsi-configed-client-message-editing.png["*opsi-configed*: Send a message to Client(s).", pdfwidth=80%]

Click on the red checkmark to send the message.

.*opsi-configed*: Client message window
image::opsi-configed-client-message-reading.png["*opsi-configed*: Client message window", pdfwidth=80%, width=800]

[[opsi-manual-configed-client-editing-sessioninfo]]
=== Requesting Session Information

Through the _Client_ menu, you can send a signal to selected clients prompting them to submit their session information to `opsi-configed`. This information will be displayed in the designated column on the _Clients_ tab, provided that this column is enabled and visible.

[[opsi-manual-configed-client-editing-shutdown]]
=== Shutdown/Reboot

You have the option to send a signal to selected clients instructing them to shut down or reboot.

WARNING: Please be aware that clients may shut down without further inquiry, which can lead to data loss if there are unsaved data or active processes on the client.

[[opsi-manual-configed-client-remotecontrol]]
=== Starting Remote Control Software

Using the _Client_ menu / _Launch Remote Control Software_ (key [F7]) or the right-click context menu, you can execute any operating system commands on the selected clients. By default, there are four entries that serve as templates for your own commands: sending a `ping` command to Linux and Windows clients, as well as displaying the info page on Windows and Linux (see the section xref:clients:windows-client/windows-client-agent.adoc#opsi-manual-clientagent-infopage[*opsiclientd* Info Page]).

.*opsi-configed*: Starting Remote Control Software
image::opsi-configed-client-remotecontrol-choice.png["*opsi-configed*: Starting Remote Control Software", pdfwidth=80%]

NOTE: Please note that `opsi-configed` executes these commands from its own system environment. This means that the type of command required depends on whether you are running `opsi-configed` on Windows or Linux.

The dialog is divided into three areas:

1. In the top area, you will find a list of the names of the available commands.
2. Below that is a line showing the selected command. Here, you can edit the command if allowed. This line also includes buttons to start and abort the action.
3. In the third text area of the window, any system feedback from the command execution is displayed.

The applications of this feature are extremely diverse. For example, you can configure a command to establish a remote desktop connection to the selected client, provided that the client supports it. On Windows, you could use the following command for this purpose:

[source,console]
----
cmd.exe /c start mstsc /v:%host%
----

A corresponding Linux command is like this:

[source,console]
----
rdesktop  -a 16 %host%
----

`opsi-configed` automatically replaces `%host%` with the corresponding value for the host name. In addition to `%host%`, there are other variables available that you can use in the commands:

* `%ipaddress%`: IP address
* `%hardwareaddress%`: MAC address
* `%opsihostkey%`: opsi host key
* `%inventorynumber%`: Inventory number
* `%depotid%`: Depot ID
* `%configserverid%`: Config server ID

You can edit the commands in the server configuration on the _Host parameters_ tab, _configed_ / _remote_control_:

.*opsi-configed*: Configure the Remote Control Commands.
image::opsi-configed-properties-remotecontrol.png["*opsi-configed*: Configure the Remote Control Commands.", width=800, pdfwidth=80%]

TIP: If a command has the `.editable` attribute set to `true`, you can enter variations of the command in the displayed command line, including options or passwords.

WARNING: This gives the `opsi-configed` user the ability to freely extend a command and execute all possible commands on the client.

==== Defining your own Remote Control Command

To define your own command, go to the server configuration under the _Host parameters_ tab, section _configed_ / _remote_control_. As an example, we will set up a command named `example`. You will need at least the entry `configed.remote_control.example` (or alternatively `configed.remote_control.example.command`). In this entry, you define the command to be executed using the variables shown in the last section, such as `%host%`, `%ipaddress%`, etc.

Additionally, you can create an entry `configed.remote_control.example.description` to explain the new command. The value of this entry will then be displayed as a tooltip to provide users with more information about the command.

Furthermore, you can determine whether the command should be editable or not with a boolean entry `configed.remote_control.example.editable`. Setting this value to `false` specifies that users cannot modify the command when invoking it.

[[opsi-manual-configed-client-add]]
=== Adding Clients

Navigate to _Client_ / _Create new opsi client_ to open a dialog window where you can enter all the information required to create a new client.

.*opsi-configed*: Adding a new Client
image::opsi-configed-client-new.png["*opsi-configed*: Adding a new Client", pdfwidth=80%]

The dialog also provides fields for entering the IP address and the hardware address (MAC address). If the backend is enabled to configure a local DHCP server (which is not the default setting), this information is used to register the new client with the DHCP server. Otherwise, the MAC address is stored in the backend and the IP address is discarded.

When creating new clients, from `opsi-configed` version 4.0.5.8.1 onward, you can also directly specify these options:

* Assignment of the new client to a specific group
* Specification of a netboot product that may be directly set to `setup`
* Activation of Install on Shutdown and WAN configuration

These settings can also be conveniently made in the hosts list.

==== Creating multiple Clients

Click the _Template_ button at the top of the client creation dialog to generate a CSV template. Select the desired data you want to include by clicking the checkboxes. You can also define the escape and delimiter characters in this dialog window. Finally, click _OK_ to generate the CSV file.

You can then edit this file with a text editor or spreadsheet to create a list of clients with their respective properties. You can import the list via the _File_ button next to _Import CSV File_ in the client creation dialog.

.*opsi-configed*: Creating multiple Clients
image::opsi-configed-csv.png["*opsi-configed*: Creating multiple Clients", pdfwidth=80%]

==== Deactivate Creation/Deletion

Since version 4.0.4, it is also possible to disable the options for creating and deleting clients. This is useful when a service, such as a UCS service, is responsible for creating clients. To set up this feature, edit the server configuration's host parameter `configed.host_actions_disabled`. Click in the column; the next dialog offers these three options:

* `add client`
* `free licenses for client`
* `remove client`

Multiple selections are possible.

TIP: You can change the settings not only in `opsi-configed` but also on the command line. Enter the following command to disable the creation and deletion of clients via `opsi-configed`:

[source,console]
----
opsi-admin -d method config_updateObjects '{"defaultValues": ["add client", "remove client"], "editable": false, "multiValue": true, "possibleValues": ["add client", "remove client"], "type": "UnicodeConfig", "id": "configed.host_actions_disabled"}'
----

=== Renaming and moving Clients

You can also access entries for renaming and moving to another depot via the _Client_ menu. The latter allows multiple selection of clients. In the following dialogue window, select the desired depot from the drop-down menu and then confirm your choices by clicking _OK_.

.*opsi-configed*: Move Clients to another Depot
image::opsi-configed-client-change-depot.png["*opsi-configed*: Move Clients to another Depot", pdfwidth=80%]

=== Deleting Clients

Select one or more clients and then navigate to _Client_ / _Remove client(s)_ in the menu. A dialog with a security prompt will appear, and you must explicitly confirm your intention to remove the client from the opsi database.

[[opsi-manual-configed-client-editing-productreset]]
=== Resetting Products

This function allows you to delete all product-related information from the selected clients. This is especially useful if you need to reset a test client to a certain state.

[[opsi-manual-configed-productconfiguration]]
== Localboot Products

When you switch to the _Localboot products_ tab, you'll see a detailed list of products available for software distribution along with their installation and action status relative to the selected clients.

In the right sidebar, additional useful information about the selected product is displayed, including the product name and version. The fields for product information and description support Markdown, which is particularly beneficial if you have used the `control.toml` file when creating the product (see the section xref:clients:windows-client/softwareintegration.adoc#opsi-softwintegration-example-control[Example: *control* Fatei])

Additionally, a table lists potential product dependencies, displaying detailed properties and a tree structure that visualizes the dependencies recursively. This helps you not only identify which other products are required by the selected product but also which products depend on it. This feature is particularly useful if you want to check whether a product is still needed by other products before removing it.

.*opsi-configed*: List of Localboot Products with detailed View on the right
image::opsi-configed-localbootproducts.png["*opsi-configed*: List of Localboot Products with detailed View on the right", width=800, pdfwidth=80%]

TIP: Just like in the client list, you can use the search field above the table to search for names and other values in the table. To the right of the search field, you'll find filters. For more information, refer to section <<opsi-manual-configed-client-selection>>.

=== Sorting the List

Like in the client list, you can adjust the view by clicking on the column title. The following columns are available:

* _Product ID_: Displays the name of the product.
* _Status_: Shows the last reported status of this product to the software distribution (_installed_, _not_installed_, or _undefined_). For clarity, _not_installed_ is not displayed. _undefined_ is typically the status during an installation or uninstallation, or if the last script failed.
* _Report_: Here you see a summary of the values of the internal status information `actionProgress` (installation progress), `actionResult` (result of the last action), and `lastAction` (last requested action). During an installation, for example, it may display `installing`. After an action is completed, the field shows the outcome, such as `success (setup)` or `failed (setup)`.
* _Requested action_: Displays the action that is supposed to be executed. Possible values are `none` (visually the field is empty), `setup`, `uninstall`, `update`, `once`, `always`, and `custom`.
* _Version_: The version number is a combination of the product version and the package version of the opsi software product installed on the client.

Use the right-click context menu and _Visible columns_ to display additional columns for localboot products:

* _Product name_: Displays the name of the application.
* _Target configuration_: The desired state, possible values: `undefined`, `installed`, `always`, and `forbidden`.
* _Priority_: Indicates the priority assigned to the product; possible values range from `100` to `-100`.
* _Position_: Displays the order in which the products are to be installed.
* _Last status update_: The time of the last update.

[[opsi-manual-configed-property-details]]
=== Displaying Detailed Information

When you select a product, additional information appears on the right side of the window:

* _Software/package version_: Displays a combination of product and package version as specified by the packager.

* _Product description_: Free text about the software included in the package.

* _Notes_: Free text with details on how to handle this package.

* _Product dependencies_: A list of products that the selected product depends on, including the type of dependency: `required` (the selected product needs the displayed product, installation order does not matter), `pre-required` (the displayed product must be installed *before* the selected one), and `post-required` (the displayed product must be installed *after* the selected one).

* _Property configuration_: For client-specific customization of the installation, additional properties may be defined for a product; the next section describes these property tables.

[[opsi-manual-configed-property-editing]]
=== Property Configuration

A property table consists of two columns. The left column lists the names of the properties, and the right column shows the associated value.

NOTE: Rows that deviate from the standard values (server defaults) are highlighted in bold. This allows you to see at a glance where settings have been adjusted.

Above the table on the right, there are two buttons:

* _Set client values to server defaults_ (left): This button copies the server defaults as client-specific settings. These settings remain with the client even if the default values are changed later.

* _Remove client-specific values_ (right): This button deletes all settings on the client; thereafter, the server defaults apply again. Any changes to these default values will directly affect the client.

If you hover over a row with your mouse pointer, a tooltip appears (if configured), showing useful information about the meaning of the value as well as the server default.

.*opsi-configed*: Property Table
image::opsi-configed-editlist1.png["*opsi-configed*: Property Table", pdfwidth=80%]

Click on a value in the right-hand column to open a dialogue for editing. Here you can, for example, select from a list of preconfigured values.

.*opsi-configed*: List Editor, Selection List
image::opsi-configed-editlist2.png["*opsi-configed*: List Editor, Selection List", pdfwidth=80%]

Click on a (different) value in the dialog to change the setting.

In addition to these dialogs, there are also windows that display an editing field. You can enter new values here:

.*opsi-configed*: List Editor, Field for Custom Values
image::opsi-configed-editlist3.png["*opsi-configed*: List Editor, Field for Custom Values", pdfwidth=80%]

To modify an existing value, double-click it in the list. To add new values, click the plus sign to include them in the list. Some properties allow the entry of multiple values. In such cases, the list editor also permits multiple selections. You can easily select multiple entries by holding down the [Ctrl] key while clicking.

Once you have made changes to the values in the list, the green checkmark will change color. Click on the now red checkmark to apply your changes. Otherwise, click on the blue cancel button to reset the changes.

[[opsi-manual-configed-property-editing-secrects]]
== Secret Property Values

For cases where passwords or other "secrets" are included as property values,
the following provision is in place (as a "hack" since version 4.0.7, until a specific data type is established):

* If 'password' appears anywhere in the name of the property,
* or if the property name starts with 'secret',

the property value is replaced with five _*_ in the display. It is only made visible (after a warning) when clicked for editing.

Editing is done as usual in the standard case.

[[opsi-manual-configed-netbootproducts]]
== Netboot Products

Products on the _Netboot products_ tab are displayed and configured similarly to the _Localboot products_ tab.

The listed products attempt to set boot images to start on the selected clients upon their next reboot when set to _setup_. This is typically used for OS installation.

.*opsi-configed*: List of Netboot Products with detailed View on the right
image::opsi-configed-netbootproducts.png["*opsi-configed*: List of Netboot Products with detailed View on the right", width=800, pdfwidth=80%]

[[opsi-manual-configed-hardwareinformation]]
== Hardware Informationen

This tab shows information about the client's hardware, either detected by the boot image or by the localboot product `hwaudit`.

.*opsi-configed*: Hardware Information Tab
image::opsi-configed-hardwareinformation.png["*opsi-configed*: Hardware Information Tab", width=800, pdfwidth=80%]

[[opsi-manual-configed-automat-treiberintegration]]
=== Integrating Drivers Automatically

Since version 4.0.5, opsi has offered the option to automatically upload client drivers to the opsi depot server from selected paths derived from hardware information. These paths, known as _ByAudit_ paths, include the manufacturer's name and the product or model name extracted directly from the motherboard. Click on _Upload drivers_ and configure further settings in the dialog that opens.

.*opsi-configed*: Hardware Information, Driver Upload
image::opsi-configed-hardwareinfo-treiberintegration.png["*opsi-configed*: Hardware Information, Driver Upload", width=800, pdfwidth=80%]

NOTE: On Linux systems, direct driver upload is initially not possible due to the connection via a share and must be performed manually. However, on a Windows system, driver upload works seamlessly once the connection to the share is active.

In the dialog window, specify details including the Windows product for which the driver is intended, the driver to be uploaded, the method, and the target directory for driver integration. Choosing a different method changes the target directory accordingly. Here is a list of methods and directory structures for driver integration:

1. **Standard**:
   - Directory: `./drivers/drivers`
   - Function: Drivers in this directory are identified by their PCI, USB, or HD_Audio identifiers and integrated into the Windows setup.
   - Disadvantage: May contain drivers that are not compatible with the available hardware. Nonetheless, you can store drivers here as a fallback for all clients.

2. **Preferred**:
   - Directory: `./drivers/drivers/preferred`
   - Function: Drivers in this directory are given priority. The mapping is also based on identifiers in the description file. Direct assignment is required for multiple drivers for one PCI-ID.
   - Caution: If different drivers for one PCI-ID exist under `preferred`, it can lead to problems with driver assignment; assign the drivers directly to the devices.

3. **Excluded**:
   - Directory: `drivers/exclude`
   - Function: Contains drivers that should be excluded, e.g., due to operating system incompatibilities or incorrect configurations. If you suspect that a linked driver is incorrect, move it to `drivers/exclude` and run `create_driver_links.py` again.

4. **Additional**:
   - Directory: `./drivers/drivers/additional`
   - Function: Contains additional drivers that should be installed regardless of hardware identifiers. Paths to these directories are assigned to a client through the product property `additional_drivers`. Specified directories are recursively searched; symbolic links are considered, and all contained drivers are included.

5. **byAudit**:
   - Directory: `./drivers/drivers/additional/byAudit/<Vendor>/<Model>`
   - Function: Drivers are categorized by specific hardware vendor and model designations and considered during the Windows installation if they match. Such directories are treated as if they were manually assigned through the `additional_drivers` property.

NOTE: Some manufacturers use names with special characters, such as `5000/6000/7000`. Since opsi version 4.0.3, the following special characters are internally replaced by an underscore (`_`): `< > ? " : | \ / *`

IMPORTANT: After uploading drivers to `./drivers/drivers` or `./drivers/drivers/preferred`, make sure to run the script `create_driver_links.py` on the depot server!

[[opsi-manual-configed-softwareinventory]]
== Software Informationen

This tab contains the latest information retrieved with `swaudit` about installed software on the client.

.*opsi-configed*: Software Informationen
image::opsi-configed-softwareinventory.png["*opsi-configed*: Software Informationen", width=800, pdfwidth=80%]

[[opsi-manual-configed-logfiles]]
== Log Files

You can view the clients' log files on the _Log files_ tab. Use the slider at the bottom right to change the loglevel (see section xref:gui:configed/userguide.adoc#opsi-manual-configed-logging[Setting the Loglevel]). You can also use the mouse wheel to operate the slider. The different loglevels are displayed in different colours.

You can search in the log files using the search field at the bottom (continue the search with [F3] or [Ctrl]{plus}[L]).

.*opsi-configed*: Viewing the Log Files
image::opsi-configed-logfiles.png["*opsi-configed*: Viewing the Log Files", width=800, pdfwidth=80%]

[[opsi-manual-configed-hostproperties]]
== Host Parameters: Client and Server Configuration

You can make a variety of configuration settings via the _Host parameters_ tab. When you are in the _Client Configuration_ mode, this tab displays client-specific settings. When the _Server Configuration_ is active, you see the corresponding server defaults.

Configuration entries (`config` objects of the opsi server) are essentially lists of values. The list editor is used to edit these values (see section <<opsi-manual-configed-property-editing>>).

Depending on the type of the configuration object:

- The elements of the list can be either Unicode text values or boolean values (`true`/`false`).

- The set of allowable list elements can be fixed or expandable.

- The _DefaultValues_ entry of the object includes exactly one list element in the case of _singleValue_, and a random selection from the allowable list elements for _multiValue_ objects.

You can create new configuration entries via the right-click context menu on the server's _Host parameter_ page. Likewise, you can delete existing objects there.

.*opsi-configed*: Host Parameters (Context Menu of a Client Entry)
image::opsi-configed-hostparameter_setting.png["*opsi-configed*: Host Parameters (Context Menu of a Client Entry)", width=800, pdfwidth=80%]

The relationship between server and client host parameters is complex:

- Server entries provide the default values for the client entries.

- To create a client entry, you must first create a server configuration object.

- If you delete a server entry (the `config` object), the associated client entries, which are based on `ConfigState` objects, also disappear.

- There can be a distinct entry for the client in the database if the client value differs from the server default, but also when they are identical. If this distinct entry exists, it remains even if the server default changes.

- Starting with `opsi-configed` version 4.0.7.6.5, there is a context menu for client properties with options to _Remove the specific value_ (client value is always the current server default) and _Set the current default as specific value_.

- If the client value differs from the current server default, it is displayed in bold.

- There are configuration objects for which client values can theoretically be created and edited, but which have no meaning because they only store server-related information. These properties are usually hidden in current versions of `opsi-configed`.

The host parameters are organized into functional groups for clarity. These groups are displayed on the left in a tree-like structure, while the corresponding parameters and their values are shown on the right.

.*opsi-configed*: Host Parameters in the Client Configuration
image::opsi-configed-hostparameters.png["*opsi-configed*: Host Parameters in the Client Configuration", width=800, pdfwidth=80%]

