////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; https://creativecommons.org/licenses/by-sa/3.0/de/
; https://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; https://creativecommons.org/licenses/by-sa/3.0/
; https://creativecommons.org/licenses/by-sa/3.0/legalcode
; 
; credits: http://www.opsi.org/credits/
////

:Author:    uib gmbh
:Email:     info@uib.de
:Revision:  4.1
:Date:      12.01.2023
:toclevels: 6
:doctype:   book

include::common:partial$opsi_terms.adoc[]

[[opsi-manual-extensions]]

[[opsi-manual-modules]]
= opsi Extensions

Even though opsi is open source software, there are some additional components which we have created and maintain as part of a co-funding project. These are not (yet) available for free. The opsi extensions extend the functionality -- especially and also with regard to special application scenarios.

Currently (January 2023) there are the following opsi extensions:

* user roles: xref:configed#opsi-manual-configed-hostproperties-userroles[Management of User Roles]
* opsi-directory-connector: xref:modules/directory-connector#opsi-manual-dircon[Directory Connector]
* opsi-wim-capture: xref:modules/wim-capture#opsi-manual-wimcap[Windows Imaging Format]
* opsi-linux-client-agent: xref:modules/linux#opsi-manual-linux[Linux Support]
* opsi-mac-client-agent: xref:mac-client-manual/mac-client-manual[macOS Support]
* UEFI Support: xref:modules/uefi#opsi-manual-uefi[opsi with UEFI/GPT]
* Secureboot Support: xref:modules/secureboot#opsi-manual-secureboot[opsi with Secureboot]
* opsi-local-image/opsi-vhd-reset: xref:modules/local-image#opsi-manual-localimage[Local Images] and xref:modules/vhd#opsi-manual-vhd[Virtual Hard Disk]
* License Management: xref:modules/licensemanagement#opsi-manual-licensemanagement[Management of Software Licences]
* WAN/VPN Extension: xref:modules/wan-support#opsi-manual-wansupport[Managing Clients behind slow/unstable Connections]
* opsi Nagios Connector: xref:modules/nagios-connector#opsi-Nagios-Connector[Interface for Nagios/Icinga]
* MySQL Backend: xref:server/opsi-backends#opsi-manual-backends-mysql-configdata-overview[Database Backend for Configuration Data]
* Scalability: xref:modules/scalability/opsi-manual-scalability[Multiple Worker Processes]


NOTE: For the paid extensions you need an activation file to unlock them. You will receive this file after you have purchased the extension. For evaluation purposes, we're happy to provide you with a temporary license free of charge. Please contact us via mailto:info@uib.de[email].

The activation file `/etc/opsi/modules` on the opsi server defines which extensions may be used. It is a simple text file describing which extensions are enabled (for how many clients). A digital signature protects the file from changes. If there are no specifications in the file, the default values are used. If the activation file is missing, only the free opsi components are available. If you're using an extension with a temporary license, the file also includes the expiration date.

After you have received the file `modules` from us, copy it into the directory `/etc/opsi`.
Then run the following command to set the correct access rights:

[source, prompt]
----
opsi-setup --set-rights /etc/opsi
----

After that, restart the `opsiconfd`.

[[opsi-manual-modules-check]]
== Check Activation for opsi Extensions

You can verify the activation by using one of the following methods:

* In the management interface (`opsi-configed`) open the entry _Installed opsi modules_ from the _Help_ menu.
+
.Displaying the activation status in the management interface
image::modules-status.png["Displaying the activation status in the management interface",width=200]

* Use the `opsi-admin` tool and call the `backend_info` method to check which modules are enabled.

[source, prompt]
----
$ opsi-admin -d method backend_info
{
	"opsiVersion" : "4.0.1",
	"modules": {
		"customer" : "uib GmbH",
		"vista" : true,
		"vpn" : true,
		"license_management" : true,
		"expires" : "never",
		"valid" : true,
		"multiplex" : true,
		"signature" : "THIS-IS-NO-VALID-SIGNATURE",
		"treeview" : true,
		"mysql_backend" : true
	}
}
----

NOTE: Do not share the unlock file or the output of this command with others -- at least not without deleting the signature.

More information on this topic can be found at link:https://www.uib.de/en/opsi-extensions/extensions[opsi Extensions].
