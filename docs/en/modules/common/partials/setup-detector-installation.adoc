////
; Copyright (c) uib GmbH (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; https://creativecommons.org/licenses/by-sa/3.0/de/
; https://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; https://creativecommons.org/licenses/by-sa/3.0/
; https://creativecommons.org/licenses/by-sa/3.0/legalcode
;
; credits: http://www.opsi.org/credits/
////

:Author:    uib GmbH
:Email:     info@uib.de
:Date:      10.01.2024
:Revision:  4.3
:toclevels: 6
:doctype:   book
:icons:     font
:xrefstyle: full

include::common:partial$opsi_terms.adoc[]

=== Preparation

In order to create opsi packages you will need the following tools:

* <<opsi-setup-detector-installation_osd,opsi-setup-detector>>
* <<opsi-setup-detector-installation_opb,opsi PackageBuilder>>
* <<opsi-logviewer-installation,opsi-logviewer>>

[[opsi-setup-detector-installation_osd]]
==== Installation of the opsi-setup-detector

The _opsi-setup-detector_ is currently available for Windows and Linux and MacOS.

You can install the opsi-setup-detector via opsi:

The package `opsi-setup-detector` belongs to the opsi standard products and should be installed on your opsi-server. If not, use:

[source,shell]
----
opsi-package-updater install opsi-setup-detector
----

to install it on the opsi-server.

NOTE: The localboot product `opsi-setup-detector` requires the installation of the product `opsipackagebuilder_wlm`, which will be used by the `opsi-setup-detector` if available.

So you should also install the package `opsipackagebuilder_wlm` on your server:

[source,console]
----
opsi-package-updater install opsipackagebuilder_wlm
----

If both packages installed on the opsi server, you may use the `opsi-configed` to install the localboot product `opsi-setup-detector` on your client.


A Windows setup program to install the opsi-setup-detector without opsi can be found at : +
https://tools.43.opsi.org/stable/

===== Differences running on Windows, Linux, Mac

The base functionality of the _opsi-setup-detector_ is the same on all supported platforms. While analyzing a installer file some helper programs will be called, that may not availiable or runable.

* Inno-Setups will be analyzed with innounpack.exe at Windows.

* wix-setups will be analyzed with dark.exe at Windows.

* `.deb` or. `.rpm` files will be analyzed with the Linux command line tools.

[[opsi-setup-detector-installation_opb]]
==== Installation of the opsi-package-builder

The _opsi PackageBuilder_ is currently available for Windows and Linux and MacOS.

You can install the _opsi PackageBuilder_ via opsi:

The package _opsipackagebuilder_wlm_ belongs to the opsi standard products and should be installed on your opsi-server. If not, use:

[source,shell]
----
opsi-package-updater install opsipackagebuilder_wlm
----

to install it on the opsi-server.

If it is installed on the opsi server, you may use the `opsi-configed` to install the localboot product `opsipackagebuilder_wlm` on your client.

.The opsi PackageBuilder (oPB) may be installed as localboot product `opsipackagebuilder_wlm` on your client.
image::opsi-packagebuilder-install.png["The opsi PackageBuilder (oPB) may be installed as localboot product `opsipackagebuilder_wlm` on your client.",width=800, pdfwidth=80%]


Alternative way:

The installation files / packages of the _opsi PackageBuilder_ can be found here: +
link:https://forum.opsi.org/viewtopic.php?p=32473#p32473[forum.opsi.org - opsi PackageBuilder] +
There you will find in the first lines of the post links to the installation files for Windows and Linux and MacOS. 

NOTE: The _opsi PackageBuilder_  is not made by 'uib' but by Holger Pandel from the opsi-community (thank you!).. +

The _opsi PackageBuilder_ sources and open source license you will find here: +
link:https://github.com/pandel/opsiPackageBuilder[GitHub: opsi PackageBuilder (oPB)] 




