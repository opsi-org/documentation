////
; Copyright (c) uib gmbh (www.uib.de)
; This documentation is owned by uib
; and published under the german creative commons by-sa license
; see:
; https://creativecommons.org/licenses/by-sa/3.0/de/
; https://creativecommons.org/licenses/by-sa/3.0/de/legalcode
; english:
; https://creativecommons.org/licenses/by-sa/3.0/
; https://creativecommons.org/licenses/by-sa/3.0/legalcode
; 
; credits: http://www.opsi.org/credits/
////

:Author:    uib gmbh
:Email:     info@uib.de
:Date:      21.04.2023
:Revision:  4.2
:toclevels: 6
:icons: font
:xrefstyle: full
:doctype:   book


include::common:partial$opsi_terms.adoc[]

[[opsi-4.2-releasenotes-misc-changelogs]]
== Changelogs


[[opsi-4.2-releasenotes-misc-changelogs-l-opsi-server]]
=== Changelog `l-opsi-server`

[source,changelog]
----
l-opsi-server (4.2.0.3-4); testing; urgency=low

  * corrected grafana server handling

 -- Mathias Radtke <m.radtke@uib.de> Tue, 18 May 2021 12:32:00 +0200

l-opsi-server (4.2.0.3-3); tetsing; urgency=low

  * opsi 4.1: removed check for pcpatch group

-- Mathias Radtke <m.radtke@uib.de> Tue, 11 May 2021 09:20:00 +0200

l-opsi-server (4.2.0.3-2); testing; urgency=low

  * opsi 4.2: Aborting if group pcpatch or opsifileadmins already exists
  * opsi 4.1: aborting if group pcpatch already exists

-- Mathias Radtke <m.radtke@uib.de> Mon, 10 May 2021 14:20:00 +0200

l-opsi-server (4.2.0.3-1); testing; urgency=low

  * opsi 4.2: UCS: installing univention-samba if not running on memberserver
  * opsi 4.2: ubuntu/debian/ucs: grafana repo added in grafana.list
  * opsi 4.2: sles15-1: installing opsi-server-full twice because of
  unpredictable errno -8
  * opsi 4.2: installing opsi-server-full on UCS 4.4
  * opsi 4.1: splitting UCS distRelease string to prevent error when comparing

-- Mathias Radtke <m.radtke@uib.de> Fri, 05 Mar 2021 16:08:00 +0100

l-opsi-server (4.2.0.2-4); testing; urgency=low

  * SLES specific changes

-- Mathias Radtke <m.radtke@uib.de> Tue, 02 Feb 2021 11:20:00 +0100

l-opsi-server (4.2.0.2-3); testing; urgency=low

  * opsi 4.2: installing opsi-server-full

-- Mathias Radtke <m.radtke@uib.de> Mon, 01 Feb 2021 14:16:00 +0100

l-opsi-server (4.2.0.2-2); testing; urgency=low

  * opsi 4.1: adds mariadb repository on RHEL7 and CentOS 7

-- Mathias Radtke <m.radtke@uib.de> Tue, 26 Jan 2021 08:45:00 +0100

l-opsi-server (4.2.0.2-1); testing; urgency=low

  * now detects SLES 15 SP3
  * now detects openSUSE Leap 15-3

-- Mathias Radtke <m.radtke@uib.de> Fri, 08 Jan 2021 08:45:00 +0100
l-opsi-server (4.2.0.1-4); testing; urgency=low

  * enabling and starting grafana
  * running opsiconfd setup to enable opsiadmin page

-- Mathias Radtke <m.radtke@uib.de> Thu, 07 Jan 2021 15:23:00 +0100

l-opsi-server (4.2.0.1-3); testing; urgency=low

  * corrected RHEL 7 installation in opsi 4.1
  * removed opsi_noproxy_online_repository
  * corrected opsi 4.1 script flow

-- Mathias Radtke <m.radtke@uib.de> Thu, 26 Nov 2020 11:20:00 +0100

l-opsi-server (4.2.0.1-2); testing; urgency=low

  * installing Grafana on opsi 4.2

 -- Mathias Radtke <m.radtke@uib.de> Mon, 16 Nov 2020 14:57:00 +0100

l-opsi-server (4.2.0.1-1); testung; urgency=low

  * checking if myIPName is empty and correcting

 -- Mathias Radtke <m.radtke@uib.de> Fri, 06 Nov 2020 16:25:00 +0100

l-opsi-server (4.1.2.2-1); testing; urgency=low

  * added initial SLES15 support

 -- Mathias Radtke <m.radtke@uib.de> Mon, 05 Oct 2020 11:49:00 +0200

l-opsi-server (4.1.2.1-16); testing urgency=low

  * checking of adminuser name is empty

 -- Mathias Radtke <m.radtke@uib.de> Tue, 19 Sep 2020 12:08:00 +0200

l-opsi-server (4.1.2.1-15); testing urgency=low

  * CentOS8: installing order of redis packages

 -- Mathias Radtke <m.radtke@uib.de> Thu, 24 Sep 2020 17:09:00 +0200

l-opsi-server (4.1.2.1-14); testing urgency=low

  * Leap15.2: installing redis-server and redis-timeseries before opsi-server

 -- Mathias Radtke <m.radtke@uib.de> Tue, 22 Sep 2020 12:00:00 +0200


l-opsi-server (4.1.2.1-13); testing urgency=low

  * improved Leap15.2

 -- Mathias Radtke <m.radtke@uib.de> Wed, 09 Sep 2020 12:00:00 +0200

l-opsi-server (4.1.2.1-12); testing urgency=low

  * improved CentOS 8 support

 -- Mathias Radtke <m.radtke@uib.de> Wed, 07 Sep 2020 12:00:00 +0200

l-opsi-server (4.1.2.1-11); testing urgency=low

  * CentOS8 support started

 -- Mathias Radtke <m.radtke@uib.de> Wed, 19 Aug 2020 17:30:00 +0200

l-opsi-server (4.1.2.1-10); testing urgency=low

  * check for "%scriptpath%/property.conf" to get
    property values from opsi-quickinstall
  * in case of opsi-quickinstall write file "%scriptpath%/result.conf"
  * opsi 4.1: replace every occurence of compare versions like
    ($distRelease$ < "4.5")
    with something like:
    comparedotseparatedNumbers($distRelease$, "<", "4.5")

 -- detlef oertel <d.oertel@uib.de> Mon, 17 Aug 2020 20:00:00 +0100

l-opsi-server (4.1.2.1-9); testing urgency=low

  * opsi 4.2: replace every occurence of compare versions like
    ($distRelease$ < "4.5")
    with something like:
    comparedotseparatedNumbers($distRelease$, "<", "4.5")

 -- detlef oertel <d.oertel@uib.de> Fri, 07 Aug 2020 20:00:00 +0100

l-opsi-server (4.1.2.1-8); testing urgency=low

  * added new property: opsiconfd_log_level

 -- Mathias Radtke <m.radtke@uib.de> Tue, 09 Jun 2020 11:15:00 +0200

l-opsi-server (4.1.2.1-7); testing urgency=low

  * redis installs correctly

 -- Mathias Radtke <m.radtke@uib.de> Fri, 05 Jun 2020 08:30:00 +0200

l-opsi-server (4.1.2.1-6); testing urgency=low

  * installing redis as dependency

 -- Mathias Radtke <m.radtke@uib.de> Thu, 04 Jun 2020 18:30:00 +0200

l-opsi-server (4.1.2.1-4); testing urgency=low

  * changed mysql password setting on Ubuntu

 -- Mathias Radtke <m.radtke@uib.de> Thu, 28 May 2020 18:30:00 +0200

l-opsi-server (4.1.2.1-3); testing urgenc=low

  * added deps installation on ubuntu
  * added support for Leap 15.2

 -- Mathias Radtke <m.radtke@uib.de> Mon, 25 May 2020 13:55:00 +0200

l-opsi-server (4.1.2.1-2); testing urgency=low

  * improved installation debian 10 with opsi 4.2

 -- Mathias Radtke <m.radtke@uib.de> Tue, 19 Apr 2020 17:55:00 +0200

l-opsi-server (4.1.2.1-1); testing urgency=low

  * imporved opsi 4.2 support

 -- Mathias Radtke <m.radtke@uib.de> Tue, 12 Apr 2020 17:55:00 +0200

l-opsi-server (4.1.1.15-1); testing; urgency=low

  * added support for Ubuntu 20.04

 -- Mathias Radtke <m.radtke@uib.de> Mon, 27 Apr 2020 16:50:00 +0200

l-opsi-server (4.1.1.14-3); experimental; urgency=low

  * added isFatalError if no valid IP can be found
  * code cleanup
  * added 4.2 repo in control file

 -- matthias knauer <m.knauer@uib.de> Wed, 20 Nov 2019 09:18:00 +0100

l-opsi-server (4.1.1.14-2); experimental; urgency=low

  * fixed handling of myIPName and myIPNumber for 4.1 and 4.2

 -- detlef oertel <d.oertel@uib.de> Fri, 18 Oct 2019 20:00:00 +0100

l-opsi-server (4.1.1.14-1); experimental; urgency=low

  * Working on support for opsi 4.2 installation.
  * Dropped support for opsi 4.0 installation.

 -- Niko Wenselowski <n.wenselowski@uib.de> Tue, 13 Aug 2019 17:05:56 +0200

l-opsi-server (4.1.1.13-1); stable; urgency=low

  * removed opsi-configed package

 -- Mathias Radtke <m.radtke@uib.de> Wed, 24 Jul 2019 12:15:00 +0200

l-opsi-server (4.1.1.12-2); stable; urgency=low

  * corrected typo on Debian

 -- Mathias Radtke <m.radtke@uib.de> Mon, 22 Jul 2019 09:15:00 +0200

l-opsi-server (4.1.1.12-1); stable; urgency=low

  * opsi 4.1: support for debian 10 added
  * added new properties:
        download_patched_elilo_efi
        patch_default_link_for_bootimage

 -- Mathias Radtke <m.radtke@uib.de> Tue, 09 Jul 2019 08:20:00 +0200

l-opsi-server (4.1.1.11-1); stable; urgency=low

  *  opsi 4.1: support for opensuse Leap 15.1 added

 -- Mathias Radtke <m.radtke@uib.de> Tue, 02 Jul 2019 14:20:00 +0200
----

[[opsi-4.2-releasenotes-misc-changelogs-opsi-server]]
=== Changelog `opsi-server`

[source,changelog]
----
opsi-server (4.2.0.51-1) stable; urgency=medium

  * Improvement:  New default opsi.conf

 -- uib GmbH <info@uib.de>  Wed, 28 Apr 2021 11:17:36 +0200

opsi-server (4.2.0.50-1) stable; urgency=medium

  * Feature:  Use new admingroup placeholder in acl.conf

 -- uib GmbH <info@uib.de>  Tue, 27 Apr 2021 16:58:59 +0200

opsi-server (4.2.0.48-1) stable; urgency=medium

  * Bugfix:  ucs depot join

 -- uib GmbH <info@uib.de>  Mon, 19 Apr 2021 16:45:53 +0200

opsi-server (4.2.0.47-1) stable; urgency=medium

  * Bugfix:  ucs join script check hostname in global.conf

 -- uib GmbH <info@uib.de>  Mon, 19 Apr 2021 14:36:42 +0200

opsi-server (4.2.0.45-1) stable; urgency=medium

  * Bugfix:  postrm

 -- uib GmbH <info@uib.de>  Mon, 22 Mar 2021 11:30:38 +0100

opsi-server (4.2.0.44-1) stable; urgency=medium

  * Bugfix:  ucs join script register depot

 -- uib GmbH <info@uib.de>  Thu, 18 Mar 2021 13:53:45 +0100

opsi-server (4.2.0.43-1) stable; urgency=medium

  * Improvement:  Use new @deprecated decorator

 -- uib GmbH <info@uib.de>  Wed, 17 Mar 2021 14:29:51 +0100

opsi-server (4.2.0.42-1) stable; urgency=medium

  * Improvement:  Change dependencies for ucs

 -- uib GmbH <info@uib.de>  Tue, 09 Mar 2021 09:46:59 +0100

opsi-server (4.2.0.41-1) stable; urgency=medium

  * Improvement:  Add opsi4ucs zu conflicts

 -- uib GmbH <info@uib.de>  Mon, 08 Mar 2021 12:31:24 +0100

opsi-server (4.2.0.40-1) stable; urgency=medium

  * Bugfix:  pam opsi-auth ucs template

 -- uib GmbH <info@uib.de>  Fri, 05 Mar 2021 15:11:35 +0100

opsi-server (4.2.0.36-1) stable; urgency=medium

  * Feature:  ucs support version 4.2.0.36

 -- uib GmbH <info@uib.de>  Wed, 03 Mar 2021 10:17:01 +0100

opsi-server (4.2.0.35-1) stable; urgency=medium

  * Improvement:  expert and full: provide opsi-depotserver

 -- uib GmbH <info@uib.de>  Sun, 21 Feb 2021 19:28:19 +0100

opsi-server (4.2.0.34-1) stable; urgency=medium

  * Enable and start mariadb, mysql and redis

 -- uib GmbH <info@uib.de>  Thu, 11 Feb 2021 15:24:57 +0100

opsi-server (4.2.0.28-1) stable; urgency=medium

  * Improvement:  subpackage-specific postinst script

 -- uib GmbH <info@uib.de>  Mon, 01 Feb 2021 11:55:08 +0100

opsi-server (4.2.0.14-1) stable; urgency=medium

  * Bugfix:  setGeneralConfig: Raise Exception if given objecId not found in Backend.
  * Bugfix:  setGeneralConfig: Raise Exception if given objecId not found in Backend.

 -- uib GmbH <info@uib.de>  Mon, 07 Sep 2020 12:08:40 +0200

opsi-server (4.2.0.10-1) stable; urgency=medium

  * Improvement:  keep fileadmingroup pcpatch on upgrade

 -- uib GmbH <info@uib.de>  Tue, 18 Aug 2020 14:05:17 +0200

opsi-server (4.2.0.8-1) stable; urgency=medium

  * Feature:  add preinst script to create opsi.conf while installing

 -- uib GmbH <info@uib.de>  Fri, 14 Aug 2020 11:46:25 +0200

opsi-server (4.2.0.7-1) stable; urgency=medium

  * Feature:  new default fileadmingroup is opsifileadmins

 -- uib GmbH <info@uib.de>  Tue, 11 Aug 2020 11:40:10 +0200

opsi-server (4.2.0.5-1) stable; urgency=medium

  * Feature:  Add dependency to grafana for opsi-server-full

 -- uib GmbH <info@uib.de>  Tue, 07 Jul 2020 17:31:22 +0200

opsi-server (4.2.0.4-1) stable; urgency=medium

  * Feature:  Add package opsi-server-full with full dependencies

 -- uib GmbH <info@uib.de>  Tue, 07 Jul 2020 16:16:34 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsiconfd]]
=== Changelog `opsiconfd`

[source,changelog]
----
opsiconfd (4.2.0.170-1) stable; urgency=medium

  * Bugfix:  Fix monitoring user authentication
  * Improvement:  Add node_name to redis log key

 -- uib GmbH <info@uib.de>  Tue, 18 May 2021 11:02:09 +0200

opsiconfd (4.2.0.169-1) stable; urgency=medium

  * Improvement:  Update python-opsi
  * Bugfix:  Use session-lifetime from config

 -- uib GmbH <info@uib.de>  Mon, 17 May 2021 13:43:52 +0200

opsiconfd (4.2.0.168-1) stable; urgency=medium

  * Improvement:  Always use the same server fqdn from config

 -- uib GmbH <info@uib.de>  Fri, 07 May 2021 12:08:58 +0200

opsiconfd (4.2.0.166-1) stable; urgency=medium

  * Feature:  Show ca and cert expiry on status page
  * Feature:  Warn if common name of CA changes
  * Feature:  Start webgui application

 -- uib GmbH <info@uib.de>  Wed, 05 May 2021 13:11:26 +0200

opsiconfd (4.2.0.164-1) stable; urgency=medium

  * Improvement:  Add missing newline in config file

 -- uib GmbH <info@uib.de>  Thu, 29 Apr 2021 13:16:47 +0200

opsiconfd (4.2.0.163-1) stable; urgency=medium

  * Feature:  Add configuration --ssl-ca-subject-cn

 -- uib GmbH <info@uib.de>  Thu, 29 Apr 2021 12:36:40 +0200

opsiconfd (4.2.0.162-1) stable; urgency=medium

  * Improvement:  Implement force-stop
  * Feature:  Add config --worker-stop-timeout and it for systemd
  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Wed, 28 Apr 2021 14:38:09 +0200

opsiconfd (4.2.0.161-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Tue, 27 Apr 2021 15:56:26 +0200

opsiconfd (4.2.0.160-1) stable; urgency=medium

  * Feature:  Limitation of the log records in redis streams
  * Improvement:  Improve zeroconf registration

 -- uib GmbH <info@uib.de>  Fri, 23 Apr 2021 18:11:04 +0200

opsiconfd (4.2.0.159-1) stable; urgency=medium

  * Improvement:  Refactor zeroconf

 -- uib GmbH <info@uib.de>  Thu, 22 Apr 2021 00:28:48 +0200

opsiconfd (4.2.0.158-1) stable; urgency=medium

  * Improvement:  Update python packages
  * Feature:  Run mysql update in setup tasks

 -- uib GmbH <info@uib.de>  Wed, 21 Apr 2021 18:37:37 +0200

opsiconfd (4.2.0.157-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Fri, 16 Apr 2021 16:03:43 +0200

opsiconfd (4.2.0.156-1) stable; urgency=medium

  * Bugfix:  Fix monitoring path

 -- uib GmbH <info@uib.de>  Thu, 15 Apr 2021 08:24:20 +0200

opsiconfd (4.2.0.155-1) stable; urgency=medium

  * Feature:  Monitor redis memory usage

 -- uib GmbH <info@uib.de>  Wed, 14 Apr 2021 13:52:26 +0200

opsiconfd (4.2.0.154-1) stable; urgency=medium

  * Bugfix:  check disk if hostid != fqdn

 -- uib GmbH <info@uib.de>  Sun, 11 Apr 2021 20:00:14 +0200

opsiconfd (4.2.0.153-1) stable; urgency=medium

  * Bugfix:  some fixes monitoring
  * Improvement:  Update python opsi
  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 08 Apr 2021 13:16:19 +0000

opsiconfd (4.2.0.152-1) stable; urgency=medium

  * Feature:  Add actions "status" and "restart"

 -- uib GmbH <info@uib.de>  Tue, 06 Apr 2021 12:30:18 +0200

opsiconfd (4.2.0.151-1) stable; urgency=medium

  * Improvement:  Show certificate serail number on admin interface and remove subjectKeyIdentifier
  * Feature:  Auto recreate server cert on runtime

 -- uib GmbH <info@uib.de>  Tue, 30 Mar 2021 15:48:07 +0200

opsiconfd (4.2.0.150-1) stable; urgency=medium

  * Improvement:  Cleanup file headers
  * Improvement:  Update python packages
  * Feature:  adminpage: show num server/clients
  * Bugfix:  Fix opsiconfd reload with running log-viewer
  * Improvement:  Add ipv6 addresses to cert alternative names

 -- uib GmbH <info@uib.de>  Mon, 29 Mar 2021 20:53:10 +0200

opsiconfd (4.2.0.148-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Thu, 25 Mar 2021 23:41:09 +0100

opsiconfd (4.2.0.147-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 25 Mar 2021 22:59:48 +0100

opsiconfd (4.2.0.146-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Wed, 24 Mar 2021 08:10:46 +0100

opsiconfd (4.2.0.145-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Tue, 23 Mar 2021 23:46:21 +0000

opsiconfd (4.2.0.144-1) stable; urgency=medium

  * Bugfix:  Determine correct arbiter pid
  * Improvement:  Check if another opsiconfd arbiter is running
  * Improvement:  Add opsi CA download link on info page
  * Improvement:  Update python packages
  * Improvement:  adminpage: mv config -> info; add ssl info
  * Bugfix:  Fix worker reloading
  * Improvement:  Install opsi ca into system store

 -- uib GmbH <info@uib.de>  Tue, 23 Mar 2021 18:12:34 +0100

opsiconfd (4.2.0.143-1) stable; urgency=medium

  * Improvement:  Improve help text for --ssl-ciphers

 -- uib GmbH <info@uib.de>  Thu, 18 Mar 2021 10:34:59 +0100

opsiconfd (4.2.0.142-1) stable; urgency=medium

  * Feature:  Log warning if client calls deprecated method

 -- uib GmbH <info@uib.de>  Wed, 17 Mar 2021 14:41:30 +0100

opsiconfd (4.2.0.141-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Tue, 16 Mar 2021 12:19:38 +0100

opsiconfd (4.2.0.140-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Mon, 15 Mar 2021 19:00:50 +0100

opsiconfd (4.2.0.139-1) stable; urgency=medium

  * Bugfix:  Fix redis reconnect

 -- uib GmbH <info@uib.de>  Mon, 15 Mar 2021 12:34:35 +0100

opsiconfd (4.2.0.138-1) stable; urgency=medium

  * Improvement:  Set default executor-workers to 10

 -- uib GmbH <info@uib.de>  Sat, 13 Mar 2021 15:17:38 +0100

opsiconfd (4.2.0.137-1) stable; urgency=medium

  * Bugfix:  Fix ipv6 listen with one worker

 -- uib GmbH <info@uib.de>  Sat, 13 Mar 2021 12:28:35 +0100

opsiconfd (4.2.0.136-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Sat, 13 Mar 2021 09:52:49 +0100

opsiconfd (4.2.0.135-1) stable; urgency=medium

  * Improvement:  Improve worker memory usage
  * Improvement:  Do not use libjemalloc by default

 -- uib GmbH <info@uib.de>  Fri, 12 Mar 2021 22:29:48 +0100

opsiconfd (4.2.0.134-1) stable; urgency=medium

  * Improvement:  Use jemalloc by default
  * Improvement:  If jemalloc is configured but not available, log an error but continue
  * Improvement:  Measure worker memory usage over an interval of a hour
  * Improvement:  Update python packages
  * Feature:  Set default executor workers to 8
  * Improvement:  Always use the supervisor

 -- uib GmbH <info@uib.de>  Thu, 11 Mar 2021 11:19:03 +0100

opsiconfd (4.2.0.133-1) stable; urgency=medium

  * Improvement:  Improve log viewer

 -- uib GmbH <info@uib.de>  Mon, 08 Mar 2021 12:05:55 +0100

opsiconfd (4.2.0.132-1) stable; urgency=medium

  * Feature:  New config --restart-worker-mem to restart workers with high mem usage
  * Feature:  Implement a worker supervisor
  * Improvement:  Update python packages
  * Feature:  Memory profiling with objgraph

 -- uib GmbH <info@uib.de>  Sat, 06 Mar 2021 08:04:45 +0100

opsiconfd (4.2.0.128-1) stable; urgency=medium

  * Feature:  Improve log viewer
  * Bugfix:  Add jsonrpc metrics to retention
  * Bugfix:  Fix rentention aggregation
  * Feature:  Implement opsiconfd log-viewer
  * Improvement:  ca key file only accessible by root
  * Improvement:  Add full context on logging
  * Feature:  Change ssl handling and defaults

 -- uib GmbH <info@uib.de>  Fri, 26 Feb 2021 10:57:43 +0100

opsiconfd (4.2.0.126-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 18 Feb 2021 15:31:15 +0100

opsiconfd (4.2.0.125-1) stable; urgency=medium

  * Improvement:  new config parameter grafana-data-source-url
  * Improvement:  Lower memory usage

 -- uib GmbH <info@uib.de>  Thu, 18 Feb 2021 09:51:58 +0000

opsiconfd (4.2.0.122-1) stable; urgency=medium

  * Bugfix:  Fix file permissions of dhcpd.conf
  * Feature:  admininterface memory profiler

 -- uib GmbH <info@uib.de>  Fri, 12 Feb 2021 10:07:06 +0100

opsiconfd (4.2.0.121-1) stable; urgency=medium

  * Feature:  Allow to run opsiconfd with jemalloc

 -- uib GmbH <info@uib.de>  Wed, 10 Feb 2021 16:14:23 +0100

opsiconfd (4.2.0.119-1) stable; urgency=medium

  * Improvement:  Align timeseries timestamps for grafana 7.4 stacking

 -- uib GmbH <info@uib.de>  Thu, 04 Feb 2021 17:47:27 +0100

opsiconfd (4.2.0.118-1) stable; urgency=medium

  * Improvement:  Change ssl file permissions

 -- uib GmbH <info@uib.de>  Thu, 04 Feb 2021 11:32:18 +0100

opsiconfd (4.2.0.116-1) stable; urgency=medium

  * Improvement:  Create group shadow, PAM libcrypto workaround for red hat 8

 -- uib GmbH <info@uib.de>  Wed, 03 Feb 2021 00:13:29 +0100

opsiconfd (4.2.0.115-1) stable; urgency=medium

  * Feature:  Store CA and server key encrypted
  * Improvement:  Store CA key encrypted

 -- uib GmbH <info@uib.de>  Tue, 02 Feb 2021 18:05:26 +0100

opsiconfd (4.2.0.112-1) stable; urgency=medium

  * Improvement:  Speed up redis time series using redis pipe and ON_DUPLICATE SUM
  * Feature:  Cleanup log file dir
  * Improvement:  Set logfile permissions

 -- uib GmbH <info@uib.de>  Sun, 31 Jan 2021 13:18:04 +0100

opsiconfd (4.2.0.110-1) stable; urgency=medium

  * Improvement:  Rework metrics storage
  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Fri, 29 Jan 2021 16:57:59 +0100

opsiconfd (4.2.0.107-1) stable; urgency=medium

  * Bugfix:  Limit memory usage on WebDAV file sending
  * Bugfix:  Fix avg_http_response_bytes statistics
  * Bugfix:  Fix closing of log files
  * Feature:  Export workbench via WebDAV, depot rw
  * Improvement:  WebDAV speedup by wsgi zero-copy

 -- uib GmbH <info@uib.de>  Tue, 26 Jan 2021 17:03:27 +0100

opsiconfd (4.2.0.106-1) stable; urgency=medium

  * Bugfix:  Add missing content-length header

 -- uib GmbH <info@uib.de>  Thu, 21 Jan 2021 14:24:54 +0100

opsiconfd (4.2.0.103-1) stable; urgency=medium

  * Feature:  Publish opsi config service with zeroconf

 -- uib GmbH <info@uib.de>  Sat, 16 Jan 2021 13:37:05 +0100

opsiconfd (4.2.0.101-1) stable; urgency=medium

  * Improvement:  Sort config dictionary

 -- uib GmbH <info@uib.de>  Sun, 10 Jan 2021 21:41:53 +0100

opsiconfd (4.2.0.99-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 24 Dec 2020 10:40:32 +0100

opsiconfd (4.2.0.98-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Tue, 15 Dec 2020 11:39:05 +0100

opsiconfd (4.2.0.97-1) stable; urgency=medium

  * Feature:  Implement msgpack-rpc

 -- uib GmbH <info@uib.de>  Sun, 06 Dec 2020 12:12:16 +0100

opsiconfd (4.2.0.96-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Fri, 04 Dec 2020 16:53:45 +0100

opsiconfd (4.2.0.95-1) stable; urgency=medium

  * Improvement:  Improve config file migration and defaults
  * Feature:  Allow to download opsi ca
  * Feature:  Reverse proxy support

 -- uib GmbH <info@uib.de>  Thu, 03 Dec 2020 08:33:52 +0100

opsiconfd (4.2.0.94-1) stable; urgency=medium

  * Improvement:  Improved ipv6 handling

 -- uib GmbH <info@uib.de>  Tue, 01 Dec 2020 21:59:18 +0100

opsiconfd (4.2.0.91-1) stable; urgency=medium

  * Improvement:  Rework admin page

 -- uib GmbH <info@uib.de>  Sun, 29 Nov 2020 10:12:44 +0100

opsiconfd (4.2.0.88-1) stable; urgency=medium

  * Improvement:  grafana autologin

 -- uib GmbH <info@uib.de>  Mon, 23 Nov 2020 11:38:41 +0100

opsiconfd (4.2.0.87-1) stable; urgency=medium

  * Bugfix:  Correct date in log viewer
  * Feature:  opsiconfd devcontainer

 -- uib GmbH <info@uib.de>  Mon, 16 Nov 2020 12:05:12 +0100

opsiconfd (4.2.0.86-1) stable; urgency=medium

  * Feature:  Add subject alternative names and ips to cert

 -- uib GmbH <info@uib.de>  Fri, 13 Nov 2020 15:47:40 +0100

opsiconfd (4.2.0.82-1) stable; urgency=medium

  * Improvement:  Correct rights on dhcpd.conf

 -- uib GmbH <info@uib.de>  Mon, 09 Nov 2020 14:55:45 +0100

opsiconfd (4.2.0.81-1) stable; urgency=medium

  * Improvement:  Remove remote-fs.target from Requires in unit file

 -- uib GmbH <info@uib.de>  Wed, 04 Nov 2020 12:00:41 +0100

opsiconfd (4.2.0.80-1) stable; urgency=medium

  * Improvement:  do not depend on remote-fs.target

 -- uib GmbH <info@uib.de>  Tue, 03 Nov 2020 15:32:44 +0100

opsiconfd (4.2.0.79-1) stable; urgency=medium

  * Improvement:  Allow systemctl daemon-reload to fail

 -- uib GmbH <info@uib.de>  Mon, 02 Nov 2020 11:38:51 +0100

opsiconfd (4.2.0.78-1) stable; urgency=medium

  * Improvement:  start opsiconfd after mysql, mariadb and redis if installed

 -- uib GmbH <info@uib.de>  Fri, 30 Oct 2020 14:21:55 +0100

opsiconfd (4.2.0.75-1) stable; urgency=medium

  * Improvement:  Set permissions on ssl dir

 -- uib GmbH <info@uib.de>  Thu, 29 Oct 2020 13:49:07 +0100

opsiconfd (4.2.0.73-1) stable; urgency=medium

  * Improvement:  Improve log viewer

 -- uib GmbH <info@uib.de>  Wed, 28 Oct 2020 15:03:11 +0100

opsiconfd (4.2.0.72-1) stable; urgency=medium

  * Feature:  Create and keep opsi CA, check certificate expiry

 -- uib GmbH <info@uib.de>  Wed, 28 Oct 2020 14:47:45 +0100

opsiconfd (4.2.0.70-1) stable; urgency=medium

  * Feature:  jsonrpc method getProductOrdering now cached in redis

 -- uib GmbH <info@uib.de>  Tue, 27 Oct 2020 15:15:15 +0100

opsiconfd (4.2.0.64-1) stable; urgency=medium

  * Feature:  allow to configure setup tasks to skip

 -- uib GmbH <info@uib.de>  Thu, 01 Oct 2020 12:54:17 +0200

opsiconfd (4.2.0.62-1) stable; urgency=medium

  * Feature:  SSL cipher suites configurable
  * Feature:  opsiconfd monitoring

 -- uib GmbH <info@uib.de>  Tue, 29 Sep 2020 08:34:13 +0200

opsiconfd (4.2.0.61-1) stable; urgency=medium

  * Improvement:  speed up redis session handling

 -- uib GmbH <info@uib.de>  Sat, 26 Sep 2020 14:08:14 +0200

opsiconfd (4.2.0.58-1) stable; urgency=medium

  * Feature:  Log Server-Timing with info level
  * Bugfix:  fix grafana refresh interval

 -- uib GmbH <info@uib.de>  Thu, 24 Sep 2020 22:57:30 +0200

opsiconfd (4.2.0.57-1) stable; urgency=medium

  * Improvement:  Change default grafana dashboard refresh interval to 60s
  * Improvement:  Log warning if no available connections in redis connection pool

 -- uib GmbH <info@uib.de>  Thu, 24 Sep 2020 18:34:34 +0200

opsiconfd (4.2.0.52-1) stable; urgency=medium

  * Improvement:  change defaults for max-auth-failures and auth-failures-interval

 -- uib GmbH <info@uib.de>  Tue, 22 Sep 2020 11:55:08 +0200

opsiconfd (4.2.0.51-1) stable; urgency=medium

  * Feature:  deliver correct client domain not default domain with getDomain

 -- uib GmbH <info@uib.de>  Tue, 22 Sep 2020 10:57:59 +0200

opsiconfd (4.2.0.50-1) stable; urgency=medium

  * Feature:  implement lz4 compression / decompression
  * Feature:  implement zlib and gzip compression of jsonrpc responses

 -- uib GmbH <info@uib.de>  Sun, 13 Sep 2020 13:47:34 +0200

opsiconfd (4.2.0.48-1) stable; urgency=medium

  * Feature:  Allow to specify networks which are allowed to connect

 -- uib GmbH <info@uib.de>  Fri, 11 Sep 2020 17:25:52 +0200

opsiconfd (4.2.0.47-1) stable; urgency=medium

  * Improvement:  init client backend on worker start to speed up first request
  * Improvement:  speed up session handling

 -- uib GmbH <info@uib.de>  Fri, 11 Sep 2020 12:58:46 +0200

opsiconfd (4.2.0.39-1) stable; urgency=medium

  * Improvement:  set default log format in log viewer

 -- uib GmbH <info@uib.de>  Thu, 27 Aug 2020 16:18:42 +0200

opsiconfd (4.2.0.35-1) stable; urgency=medium

  * Improvement:  always initalize backends on --setup

 -- uib GmbH <info@uib.de>  Wed, 26 Aug 2020 11:56:40 +0200

opsiconfd (4.2.0.34-1) stable; urgency=medium

  * Improvement:  update python packages

 -- uib GmbH <info@uib.de>  Tue, 25 Aug 2020 20:01:47 +0200

opsiconfd (4.2.0.33-1) stable; urgency=medium

  * Improvement:  speed up big webdav uploads by 25x

 -- uib GmbH <info@uib.de>  Tue, 25 Aug 2020 08:29:46 +0200

opsiconfd (4.2.0.32-1) stable; urgency=medium

  * Improvement:  Log a warning if a worker disappears
  * Bugfix:  update python-opsi to fix librsync segementation faults on debian 10

 -- uib GmbH <info@uib.de>  Mon, 24 Aug 2020 10:14:35 +0200

opsiconfd (4.2.0.31-1) stable; urgency=medium

  * Improvement:  change default for grafana-external-url

 -- uib GmbH <info@uib.de>  Fri, 21 Aug 2020 09:53:01 +0200

opsiconfd (4.2.0.29-1) stable; urgency=medium

  * Improvement:  update python-opsi, sqlalchemy and opsi-dev-tools

 -- uib GmbH <info@uib.de>  Thu, 20 Aug 2020 16:23:11 +0200

opsiconfd (4.2.0.28-1) stable; urgency=medium

  * Bugfix:  fix file permissions on setup
  * Improvement:  remove obsolete /etc/logrotate.d/opsiconfd in postinst

 -- uib GmbH <info@uib.de>  Wed, 19 Aug 2020 16:05:41 +0200

opsiconfd (4.2.0.22-1) stable; urgency=medium

  * Bugfix:  fix rpc backend_exit

 -- uib GmbH <info@uib.de>  Wed, 12 Aug 2020 13:03:53 +0200

opsiconfd (4.2.0.21-1) stable; urgency=medium

  * Improvement:  always setup opsiconfd user and groups on startup

 -- uib GmbH <info@uib.de>  Tue, 11 Aug 2020 16:26:52 +0200

opsiconfd (4.2.0.20-1) stable; urgency=medium

  * Feature:  Update ip address and lastseen in backend

 -- uib GmbH <info@uib.de>  Mon, 10 Aug 2020 11:45:54 +0200

opsiconfd (4.2.0.18-1) stable; urgency=medium

  * Feature:  Allow to filter logs with --log-filter
  * Improvement:  rpc interface moved to admin page
  * Feature:  redis interface on adminpage
  * Feature:  adminpage show list of blocked clients / sort RPC table
  * Feature:  admininterface show rpc info

 -- uib GmbH <info@uib.de>  Wed, 22 Jul 2020 12:29:30 +0200

opsiconfd (4.2.0.17-1) stable; urgency=medium

  * Feature:  auto setup grafana on startup
  * Feature:  Show defaults in --help output

 -- uib GmbH <info@uib.de>  Wed, 15 Jul 2020 22:53:16 +0200

opsiconfd (4.2.0.16-1) stable; urgency=medium

  * Feature:  new admin interface

 -- uib GmbH <info@uib.de>  Wed, 15 Jul 2020 14:19:12 +0200

opsiconfd (4.2.0.14-1) stable; urgency=medium

  * Bugfix:  Fix websockets patch

 -- uib GmbH <info@uib.de>  Thu, 09 Jul 2020 17:32:51 +0200

opsiconfd (4.2.0.13-1) stable; urgency=medium

  * Bugfix:  Assert that functions to patch are unchanged

 -- uib GmbH <info@uib.de>  Thu, 09 Jul 2020 17:17:00 +0200

opsiconfd (4.2.0.12-1) stable; urgency=medium

  * Feature:  Send correct Server header

 -- uib GmbH <info@uib.de>  Thu, 09 Jul 2020 16:31:53 +0200

opsiconfd (4.2.0.11-1) stable; urgency=medium

  * Feature:  opsiconfd admin web interface

 -- uib GmbH <info@uib.de>  Thu, 09 Jul 2020 09:27:40 +0200

opsiconfd (4.2.0.9-1) stable; urgency=medium

  * Bugfix:  Update to python-opsi 4.2.0.35 which fixes usage of opsipxeconfd backend

 -- uib GmbH <info@uib.de>  Thu, 09 Jul 2020 12:50:38 +0200

opsiconfd (4.2.0.8-1) stable; urgency=medium

  * Bugfix:  Fix websocket error responses

 -- uib GmbH <info@uib.de>  Wed, 08 Jul 2020 07:57:50 +0200

opsiconfd (4.2.0.7-1) stable; urgency=medium

  * Feature:  Improved signal handling for single process environments

 -- uib GmbH <info@uib.de>  Tue, 07 Jul 2020 17:17:55 +0200

opsiconfd (4.2.0.6-1) stable; urgency=medium

  * Feature:  opsiconfd will now reload config file on SIGHUP
  * Bugfix:  Fix timezone handling for metrics

 -- uib GmbH <info@uib.de>  Tue, 07 Jul 2020 15:54:38 +0200

opsiconfd (4.2.0.5-1) stable; urgency=medium

  * Bugfix:  fix cookie header parsing

 -- uib GmbH <info@uib.de>  Sat, 04 Jul 2020 10:17:58 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsi-utils]]
=== Changelog `opsi-utils`

[source,changelog]
----
opsi-utils (4.2.0.100-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 20 May 2021 07:59:47 +0200

opsi-utils (4.2.0.99-1) stable; urgency=medium

  * Improvement:  incremented version to 4.2.0.99, updated python-opsi to 4.2.0.195 (version comparation fix)

 -- uib GmbH <info@uib.de>  Wed, 19 May 2021 11:39:57 +0000

opsi-utils (4.2.0.98-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Mon, 17 May 2021 13:49:24 +0200

opsi-utils (4.2.0.97-1) stable; urgency=medium

  * Improvement:  incremented version number
  * Improvement:  updated python-opsi to 4.2.0.193
  * Improvement:  Update opsi-dev-tools

 -- uib GmbH <info@uib.de>  Wed, 12 May 2021 17:03:55 +0200

opsi-utils (4.2.0.96-1) stable; urgency=medium

  * Bugfix:  Correct already running check

 -- uib GmbH <info@uib.de>  Tue, 11 May 2021 17:04:58 +0200

opsi-utils (4.2.0.95-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Thu, 06 May 2021 16:45:44 +0200

opsi-utils (4.2.0.94-1) stable; urgency=medium

  * Improvement:  Update opsi-dev-tools

 -- uib GmbH <info@uib.de>  Fri, 30 Apr 2021 12:55:23 +0200

opsi-utils (4.2.0.92-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Wed, 28 Apr 2021 14:41:22 +0200

opsi-utils (4.2.0.91-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Tue, 27 Apr 2021 15:57:41 +0200

opsi-utils (4.2.0.90-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Wed, 21 Apr 2021 18:36:00 +0200

opsi-utils (4.2.0.89-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Wed, 21 Apr 2021 17:25:47 +0200

opsi-utils (4.2.0.88-1) stable; urgency=medium

  * Improvement:  Update python packages
  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Fri, 16 Apr 2021 16:04:09 +0200

opsi-utils (4.2.0.87-1) stable; urgency=medium

  * Improvement:  Update python packages
  * Improvement:  Cleanup file headers
  * Improvement:  Code cleanup

 -- uib GmbH <info@uib.de>  Wed, 14 Apr 2021 23:51:33 +0200

opsi-utils (4.2.0.86-1) stable; urgency=medium

  * Improvement:  New version
  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 08 Apr 2021 12:42:44 +0200

opsi-utils (4.2.0.85-1) stable; urgency=medium

  * Improvement:  Update opsi-dev-tools
  * Improvement:  Update headers
  * Improvement:  New version

 -- uib GmbH <info@uib.de>  Wed, 07 Apr 2021 15:12:20 +0200

opsi-utils (4.2.0.84-1) stable; urgency=medium

  * Improvement:  Update python packages
  * Improvement:  New version

 -- uib GmbH <info@uib.de>  Thu, 01 Apr 2021 09:13:53 +0200

opsi-utils (4.2.0.83-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Fri, 26 Mar 2021 01:40:40 +0100

opsi-utils (4.2.0.82-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Thu, 25 Mar 2021 23:39:23 +0100

opsi-utils (4.2.0.81-1) stable; urgency=medium

  * Improvement:  New version

 -- uib GmbH <info@uib.de>  Thu, 25 Mar 2021 23:01:49 +0100

opsi-utils (4.2.0.80-1) stable; urgency=medium

  * Improvement:  incremented version number
  * Feature:  added --repo-remove feature to opsi-package-manager to clean files...
  * Feature:  added --repo-remove feature to opsi-package-manager to clean files from local repositories

 -- uib GmbH <info@uib.de>  Fri, 19 Mar 2021 11:25:47 +0100

opsi-utils (4.2.0.79-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Wed, 17 Mar 2021 16:26:08 +0100

opsi-utils (4.2.0.78-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Tue, 16 Mar 2021 12:24:47 +0100

opsi-utils (4.2.0.77-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Mon, 15 Mar 2021 18:59:56 +0100

opsi-utils (4.2.0.76-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Mon, 15 Mar 2021 18:11:47 +0100

opsi-utils (4.2.0.75-1) stable; urgency=medium

  * Improvement:  Update python-opsi
  * Bugfix:  Fix creation of client user home

 -- uib GmbH <info@uib.de>  Sat, 13 Mar 2021 09:49:44 +0100

opsi-utils (4.2.0.74-1) stable; urgency=medium

  * Improvement:  New version
  * Improvement:  Update python packages
  * Improvement:  Change log level

 -- uib GmbH <info@uib.de>  Fri, 12 Mar 2021 23:21:20 +0100

opsi-utils (4.2.0.73-1) stable; urgency=medium

  * Bugfix:  Correct conflict to opsi4ucs

 -- uib GmbH <info@uib.de>  Tue, 09 Mar 2021 09:48:11 +0100

opsi-utils (4.2.0.72-1) stable; urgency=medium

  * Feature:  Add opsi4ucs to conflicts

 -- uib GmbH <info@uib.de>  Mon, 08 Mar 2021 15:11:41 +0100

opsi-utils (4.2.0.71-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Mon, 01 Mar 2021 13:02:55 +0100

opsi-utils (4.2.0.70-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Fri, 26 Feb 2021 21:00:18 +0100

opsi-utils (4.2.0.69-1) stable; urgency=medium

  * Improvement:  New version
  * Improvement:  Update python-opsi
  * Bugfix:  Fix -u --username

 -- uib GmbH <info@uib.de>  Fri, 26 Feb 2021 19:26:58 +0100

opsi-utils (4.2.0.68-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Mon, 22 Feb 2021 14:58:09 +0100

opsi-utils (4.2.0.67-1) stable; urgency=medium

  * Bugfix:  Fix session load/store

 -- uib GmbH <info@uib.de>  Fri, 19 Feb 2021 10:54:56 +0100

opsi-utils (4.2.0.66-1) stable; urgency=medium

  * Improvement:  update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 18 Feb 2021 15:30:26 +0100

opsi-utils (4.2.0.65-1) stable; urgency=medium

  * Bugfix:  Fix for empty HOME env

 -- uib GmbH <info@uib.de>  Thu, 18 Feb 2021 14:19:54 +0100

opsi-utils (4.2.0.64-1) stable; urgency=medium

  * Improvement:  Update python-opsi to 4.2.0.141
  * Improvement:  Code cleanup
  * Improvement:  Merge branch 'v4.2' of gitlab.uib.gmbh:uib/opsi-utils into v4.2
  * Improvement:  Use new default pylintrc for old projects
  * Improvement:  incremented version number
  * Improvement:  changed logging format (stderr) to DEFAULT_COLORED_FORMAT

 -- uib GmbH <info@uib.de>  Thu, 18 Feb 2021 10:49:14 +0100

opsi-utils (4.2.0.63-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 04 Feb 2021 11:21:26 +0100

opsi-utils (4.2.0.62-1) stable; urgency=medium

  * Improvement:  postinst exit 0

 -- uib GmbH <info@uib.de>  Thu, 04 Feb 2021 11:21:26 +0100

opsi-utils (4.2.0.61-1) stable; urgency=medium

  * Improvement:  Red Hat 8 libcrypto.so.1.1 OPENSSL_1_1_1b workaround

 -- uib GmbH <info@uib.de>  Thu, 04 Feb 2021 10:13:23 +0100

opsi-utils (4.2.0.58-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Fri, 15 Jan 2021 12:28:31 +0100

opsi-utils (4.2.0.56-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Mon, 28 Dec 2020 15:31:11 +0100

opsi-utils (4.2.0.55-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Mon, 28 Dec 2020 13:19:41 +0100

opsi-utils (4.2.0.54-1) stable; urgency=medium

  * Improvement:  Check if user pcpatch is a local user on task setPcpatchPassword

 -- uib GmbH <info@uib.de>  Mon, 28 Dec 2020 09:48:00 +0100

opsi-utils (4.2.0.53-1) stable; urgency=medium

  * Improvement:  Update python-opsi

 -- uib GmbH <info@uib.de>  Thu, 24 Dec 2020 10:41:32 +0100

opsi-utils (4.2.0.50-1) stable; urgency=medium

  * Improvement:  Enable JSONRPC compression in opsi-admin and opsi-package-manager

 -- uib GmbH <info@uib.de>  Fri, 11 Dec 2020 17:40:45 +0100

opsi-utils (4.2.0.46-1) stable; urgency=medium

  * Improvement:  Update python-opsi to 4.2.0.104
  * Improvement:  Error if no mode provided

 -- uib GmbH <info@uib.de>  Wed, 09 Dec 2020 13:56:14 +0100

opsi-utils (4.2.0.44-1) stable; urgency=medium

  * Improvement:  improve logging

 -- uib GmbH <info@uib.de>  Wed, 11 Nov 2020 09:14:16 +0100

opsi-utils (4.2.0.41-1) stable; urgency=medium

  * Improvement:  Set default log level to warning
  * Improvement:  Check if client from host-file exists in backend

 -- uib GmbH <info@uib.de>  Thu, 05 Nov 2020 12:40:46 +0100

opsi-utils (4.2.0.38-1) stable; urgency=medium

  * Bugfix:  Fix setting pcpatch password
  * Improvement:  update python-opsi

 -- uib GmbH <info@uib.de>  Fri, 30 Oct 2020 12:40:20 +0100

opsi-utils (4.2.0.27-1) stable; urgency=medium

  * Feature:  added new script opsi-wakeup-clients

 -- uib GmbH <info@uib.de>  Thu, 03 Sep 2020 13:02:27 +0200

opsi-utils (4.2.0.24-1) stable; urgency=medium

  * Bugfix:  fix opsi-makepackage useer input

 -- uib GmbH <info@uib.de>  Thu, 27 Aug 2020 19:52:49 +0200

opsi-utils (4.2.0.20-1) stable; urgency=medium

  * Improvement:  update python packages

 -- uib GmbH <info@uib.de>  Wed, 26 Aug 2020 10:41:13 +0200

opsi-utils (4.2.0.19-1) stable; urgency=medium

  * Bugfix:  fix delta upload
  * Bugfix:  update python-opsi to fix librsync segementation faults on debian 10

 -- uib GmbH <info@uib.de>  Mon, 24 Aug 2020 12:28:13 +0200

opsi-utils (4.2.0.18-1) stable; urgency=medium

  * Bugfix:  Fix verbose output

 -- uib GmbH <info@uib.de>  Fri, 21 Aug 2020 12:34:03 +0200

opsi-utils (4.2.0.10-1) stable; urgency=medium

  * Feature:  implement opsi-setup --version

 -- uib GmbH <info@uib.de>  Sat, 15 Aug 2020 09:40:35 +0200

opsi-utils (4.2.0.9-1) stable; urgency=medium

  * Bugfix:  fix locale install
  * Bugfix:  fix translation

 -- uib GmbH <info@uib.de>  Fri, 14 Aug 2020 23:04:51 +0200

opsi-utils (4.2.0.8-1) stable; urgency=medium

  * Bugfix:  fix locale install
  * Bugfix:  fix translation

 -- uib GmbH <info@uib.de>  Fri, 14 Aug 2020 23:04:51 +0200

opsi-utils (4.2.0.7-1) stable; urgency=medium

  * Bugfix:  fix locale install
  * Bugfix:  fix translation

 -- uib GmbH <info@uib.de>  Fri, 14 Aug 2020 23:04:51 +0200

opsi-utils (4.2.0.6-1) stable; urgency=medium

  * Bugfix:  fix translation

 -- uib GmbH <info@uib.de>  Wed, 12 Aug 2020 16:59:29 +0200

opsi-utils (4.2.0.5-1) stable; urgency=medium

  * Bugfix:  fix translation

 -- uib GmbH <info@uib.de>  Wed, 12 Aug 2020 16:59:29 +0200

opsi-utils (4.2.0.4-1) stable; urgency=medium

  * Bugfix:  fix translation

 -- uib GmbH <info@uib.de>  Wed, 12 Aug 2020 16:59:29 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-python-opsi]]
=== Changelog `python-opsi`

[source,changelog]
----
python-opsi (4.2.0.196-1) stable; urgency=medium

  * Bugfix:  Fix streaming download

 -- uib GmbH <info@uib.de>  Thu, 20 May 2021 07:58:09 +0200

python-opsi (4.2.0.194-1) stable; urgency=medium

  * Bugfix:  Escape colon (bind param) in sql query

 -- uib GmbH <info@uib.de>  Mon, 17 May 2021 13:40:42 +0200

python-opsi (4.2.0.186-1) stable; urgency=medium

  * Bugfix:  Fix ACL group reading

 -- uib GmbH <info@uib.de>  Thu, 29 Apr 2021 17:28:37 +0200

python-opsi (4.2.0.183-1) stable; urgency=medium

  * Feature:  Handle AD nested groups (one level)
  * Feature:  Allow placeholders {admingroup} and {fileadmingroup} in acl.conf

 -- uib GmbH <info@uib.de>  Tue, 27 Apr 2021 15:51:42 +0200

python-opsi (4.2.0.180-1) stable; urgency=medium

  * Improvement:  Auto correct dispatch configuration

 -- uib GmbH <info@uib.de>  Tue, 20 Apr 2021 12:49:47 +0200

python-opsi (4.2.0.178-1) stable; urgency=medium

  * Feature:  Implement transaction per rpc method, use sqlalchemy with SQLite

 -- uib GmbH <info@uib.de>  Fri, 16 Apr 2021 13:12:58 +0200

python-opsi (4.2.0.175-1) stable; urgency=medium

  * Improvement:  Update python packages

 -- uib GmbH <info@uib.de>  Wed, 07 Apr 2021 10:55:13 +0200

python-opsi (4.2.0.173-1) stable; urgency=medium

  * Improvement:  Improve logging

 -- uib GmbH <info@uib.de>  Wed, 31 Mar 2021 13:49:40 +0200

python-opsi (4.2.0.171-1) stable; urgency=medium

  * Bugfix:  Fix address without scheme

 -- uib GmbH <info@uib.de>  Mon, 29 Mar 2021 16:49:51 +0200

python-opsi (4.2.0.170-1) stable; urgency=medium

  * Bugfix:  Fix urlsplit
  * Bugfix:  Fix url regex

 -- uib GmbH <info@uib.de>  Mon, 29 Mar 2021 15:32:54 +0200

python-opsi (4.2.0.167-1) stable; urgency=medium

  * Bugfix:  Fix repository

 -- uib GmbH <info@uib.de>  Fri, 26 Mar 2021 01:22:04 +0100

python-opsi (4.2.0.161-1) stable; urgency=medium

  * Feature:  Add new JSONRPCBackend

 -- uib GmbH <info@uib.de>  Wed, 24 Mar 2021 13:38:57 +0100

python-opsi (4.2.0.158-1) stable; urgency=medium

  * Improvement:  Set depot user (pcpatch) shell to /bin/false

 -- uib GmbH <info@uib.de>  Mon, 22 Mar 2021 11:11:41 +0100

python-opsi (4.2.0.157-1) stable; urgency=medium

  * Feature:  Add deprecated decorator
  * Improvement:  configure-mysql retry connection

 -- uib GmbH <info@uib.de>  Wed, 17 Mar 2021 13:40:30 +0100

python-opsi (4.2.0.156-1) stable; urgency=medium

  * Bugfix:  Fix follow symlinks on package file generation

 -- uib GmbH <info@uib.de>  Tue, 16 Mar 2021 11:15:42 +0100

python-opsi (4.2.0.155-1) stable; urgency=medium

  * Improvement:  Lock sqlachemy to 1.3.x

 -- uib GmbH <info@uib.de>  Mon, 15 Mar 2021 18:56:47 +0100

python-opsi (4.2.0.154-1) stable; urgency=medium

  * Feature:  introduced cookie-based session handling in opsi-package-updater

 -- uib GmbH <info@uib.de>  Mon, 15 Mar 2021 11:49:18 +0100

python-opsi (4.2.0.153-1) stable; urgency=medium

  * Improvement:  Auto correct ipv6 loopback address
  * Bugfix:  Fix opsi.conf group parsing

 -- uib GmbH <info@uib.de>  Mon, 15 Mar 2021 07:42:35 +0100

python-opsi (4.2.0.152-1) stable; urgency=medium

  * Improvement:  Retry mysql connect with tcp/ip if socket fails
  * Feature:  Allow to set admingroup in /etc/opsi/opsi.conf
  * Improvement:  Set mysql session autoflush to true

 -- uib GmbH <info@uib.de>  Sat, 13 Mar 2021 09:47:54 +0100

python-opsi (4.2.0.151-1) stable; urgency=medium

  * Improvement:  Update python packages
  * Improvement:  refactor MySQL-Backend

 -- uib GmbH <info@uib.de>  Wed, 10 Mar 2021 22:58:43 +0100

python-opsi (4.2.0.139-1) stable; urgency=medium

  * Improvement:  Speed up getting groupnames for large sets

 -- uib GmbH <info@uib.de>  Wed, 10 Feb 2021 00:55:45 +0100

python-opsi (4.2.0.138-1) stable; urgency=medium

  * Bugfix:  do not delete AuditSoftware referenced by AuditSoftwareToLicensePool

 -- uib GmbH <info@uib.de>  Thu, 04 Feb 2021 18:16:16 +0100

python-opsi (4.2.0.135-1) stable; urgency=medium

  * Feature:  added deployment of opsi-client-agent to macos
  * Feature:  added deployment of opsi-client-agent to macos

 -- uib GmbH <info@uib.de>  Fri, 29 Jan 2021 16:01:52 +0000

python-opsi (4.2.0.131-1) stable; urgency=medium

  * Feature:  Add new method accessControl_getUserGroups

 -- uib GmbH <info@uib.de>  Fri, 22 Jan 2021 16:19:23 +0100

python-opsi (4.2.0.130-1) stable; urgency=medium

  * Bugfix:  Fix opsi json interface page

 -- uib GmbH <info@uib.de>  Thu, 21 Jan 2021 10:52:50 +0100

python-opsi (4.2.0.118-1) stable; urgency=medium

  * Bugfix:  Fix package update

 -- uib GmbH <info@uib.de>  Mon, 28 Dec 2020 13:18:22 +0100

python-opsi (4.2.0.114-1) stable; urgency=medium

  * Improvement:  Auto recreate defective sqlite db

 -- uib GmbH <info@uib.de>  Sat, 19 Dec 2020 16:51:05 +0100

python-opsi (4.2.0.104-1) stable; urgency=medium

  * Improvement:  Implement serverVersion and lz4 compression

 -- uib GmbH <info@uib.de>  Wed, 09 Dec 2020 11:05:02 +0100

python-opsi (4.2.0.102-1) stable; urgency=medium

  * Feature:  Allow to rename opsi configserver on restore
  * Improvement:  Improve logging, cleanup

 -- uib GmbH <info@uib.de>  Fri, 04 Dec 2020 11:48:43 +0100

python-opsi (4.2.0.99-1) stable; urgency=medium

  * Improvement:  validate attributes and filter keys

 -- uib GmbH <info@uib.de>  Fri, 27 Nov 2020 18:05:06 +0100

python-opsi (4.2.0.94-1) stable; urgency=medium

  * Improvement:  Multi process dhcpd locking

 -- uib GmbH <info@uib.de>  Tue, 10 Nov 2020 16:32:57 +0100

python-opsi (4.2.0.92-1) stable; urgency=medium

  * Improvement:  Always use encoding utf8 for log files

 -- uib GmbH <info@uib.de>  Fri, 30 Oct 2020 13:29:12 +0100

python-opsi (4.2.0.91-1) stable; urgency=medium

  * Feature:  Included opsi-deploy-client-agent in python-opsi

 -- uib GmbH <info@uib.de>  Tue, 27 Oct 2020 09:17:13 +0100

python-opsi (4.2.0.89-1) stable; urgency=medium

  * Feature:  added feature to parse control.yml file to direct the installation using yaml format.
  * Feature:  Added parsing control.yml file as alternative to control

 -- uib GmbH <info@uib.de>  Wed, 14 Oct 2020 17:51:24 +0200

python-opsi (4.2.0.87-1) stable; urgency=medium

  * Bugfix:  Fix handling of url encoded webdav filenames

 -- uib GmbH <info@uib.de>  Thu, 08 Oct 2020 10:05:39 +0200

python-opsi (4.2.0.78-1) stable; urgency=medium

  * Bugfix:  Fix caching of large files

 -- uib GmbH <info@uib.de>  Tue, 29 Sep 2020 14:53:59 +0200

python-opsi (4.2.0.77-1) stable; urgency=medium

  * Bugfix:  Fix repo syncing for other webdav servers than opsiconfd 4.1
  * Bugfix:  Fix ldap auth module for multi threadind

 -- uib GmbH <info@uib.de>  Tue, 29 Sep 2020 11:39:49 +0200

python-opsi (4.2.0.70-1) stable; urgency=medium

  * Bugfix:  fix session grant

 -- uib GmbH <info@uib.de>  Fri, 11 Sep 2020 09:02:55 +0200

python-opsi (4.2.0.64-1) stable; urgency=medium

  * Improvement:  use meberOf attribute if present

 -- uib GmbH <info@uib.de>  Thu, 27 Aug 2020 16:04:25 +0200

python-opsi (4.2.0.61-1) stable; urgency=medium

  * Improvement:  speed up initial MySQL connection
  * Bugfix:  fix hostControl_start

 -- uib GmbH <info@uib.de>  Thu, 27 Aug 2020 11:32:49 +0200

python-opsi (4.2.0.59-1) stable; urgency=medium

  * Bugfix:  fix translation for opsi-backup

 -- uib GmbH <info@uib.de>  Wed, 26 Aug 2020 10:32:35 +0200

python-opsi (4.2.0.58-1) stable; urgency=medium

  * Improvement:  improve ldap auth logging

 -- uib GmbH <info@uib.de>  Tue, 25 Aug 2020 19:59:30 +0200

python-opsi (4.2.0.55-1) stable; urgency=medium

  * Bugfix:  fix logging in productProperty_getObjects MySQL backend

 -- uib GmbH <info@uib.de>  Thu, 20 Aug 2020 16:19:28 +0200

python-opsi (4.2.0.48-1) stable; urgency=medium

  * Bugfix:  Fix smb mount on linux

 -- uib GmbH <info@uib.de>  Fri, 14 Aug 2020 15:40:06 +0200

python-opsi (4.2.0.44-1) stable; urgency=medium

  * Feature:  opsifileadmins is now the new default file admin group for fresh installs

 -- uib GmbH <info@uib.de>  Tue, 11 Aug 2020 11:28:21 +0200

python-opsi (4.2.0.37-1) stable; urgency=medium

  * Improvement:  Test MySQL connection pool after creation

 -- uib GmbH <info@uib.de>  Wed, 15 Jul 2020 12:51:11 +0200

python-opsi (4.2.0.34-1) stable; urgency=medium

  * Feature:  support MySQL strict mode

 -- uib GmbH <info@uib.de>  Thu, 09 Jul 2020 09:13:38 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsi-linux-support]]
=== Changelog `opsi-linux-support`

[source,changelog]
----
opsi-linux-support (4.2.0.2-1) stable; urgency=medium

  * Improvement:  do not fail if reload fails
  * Bugfix:  fix package dependency syntax
  * Improvement:  improve postinst script

 -- uib GmbH <info@uib.de>  Wed, 01 Jul 2020 08:55:30 +0200

opsi-linux-support (4.2.0.2-1) stable; urgency=medium

  * Improvement:  change package type to meta

 -- uib GmbH <info@uib.de>  Wed, 07 Oct 2020 17:40:44 +0200

opsi-linux-support (4.2.0.1-1) stable; urgency=medium

  * Bugfix:  add missing packages
  * Improvement:  update packaging

 -- uib GmbH <info@uib.de>  Mon, 05 Oct 2020 13:21:38 +0200

opsi-linux-support (4.2.0.0-1) stable; urgency=medium

  * Improvement:  remove dependency to paramiko
  * Improvement:  do not fail if reload fails
  * Bugfix:  fix package dependency syntax
  * Improvement:  improve postinst script

 -- uib GmbH <info@uib.de>  Tue, 08 Sep 2020 09:42:31 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsi-windows-support]]
=== Changelog `opsi-windows-support`

[source,changelog]
----
 opsi-windows-support (4.2.0.2-1) stable; urgency=medium

  * Improvement:  change package type to meta

 -- uib GmbH <info@uib.de>  Wed, 07 Oct 2020 17:39:39 +0200

opsi-windows-support (4.2.0.1-1) stable; urgency=medium

  * Bugfix:  add missing packages
  * Improvement:  remove unneeded packages
  * Improvement:  update packaging

 -- uib GmbH <info@uib.de>  Mon, 05 Oct 2020 13:21:14 +0200

opsi-windows-support (4.2.0.0-1) stable; urgency=medium

  * Bugfix:  fix package dependency syntax

 -- uib GmbH <info@uib.de>  Tue, 08 Sep 2020 09:46:11 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsi-tftp-hpa]]
=== Changelog `opsi-tftp-hpa`

[source,changelog]
----
opsi-tftp-hpa (5.2.8-53) stable; urgency=medium

  * Set default blocksize to 1024

 -- Jan Schneider <j.schneider@uib.de>  Thu, 05 Nov 2020 15:51:18 +0100

opsi-tftp-hpa (5.2.8-52) stable; urgency=medium

  * removing tcp_wrapper-devel from spec file

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 05 Feb 2020 22:22:37 +0100

opsi-tftp-hpa (5.2.8-51) testing; urgency=medium

  * corrected RPM licensing

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 30 Aug 2019 08:23:27 +0200

opsi-tftp-hpa (5.2.8-50) testing; urgency=medium

  * removed change of TFTPROOT when on UCS system

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 06 Aug 2019 07:44:20 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsipxeconfd]]
=== Changelog `opsipxeconfd`

[source,changelog]
----
opsipxeconfd (4.2.0.17-1) stable; urgency=medium

  * Improvement:  move patch to opsi-server package

 -- uib GmbH <info@uib.de>  Thu, 24 Sep 2020 10:27:52 +0200

opsipxeconfd (4.2.0.15-1) stable; urgency=medium

  * Bugfix:  fix tftp root path in config file
  * Improvement:  update python packages

 -- uib GmbH <info@uib.de>  Mon, 14 Sep 2020 12:08:06 +0200

opsipxeconfd (4.2.0.13-1) stable; urgency=medium

  * Improvement:  remove obsolete /etc/logrotate.d/opsipxeconfd in postinst
  * Improvement:  update packages

 -- uib GmbH <info@uib.de>  Thu, 20 Aug 2020 16:25:30 +0200

opsipxeconfd (4.2.0.12-1) stable; urgency=medium

  * Bugfix:  chmod all .so files

 -- uib GmbH <info@uib.de>  Sun, 16 Aug 2020 16:40:12 +0200

opsipxeconfd (4.2.0.11-1) stable; urgency=medium

  * Improvement:  reduce package size
  * Bugfix:  fixed extended pxeconfigwriter test
  * Bugfix:  fixed opsipxeconfd start
  * Improvement:  run init in separate process in contextmanager

 -- uib GmbH <info@uib.de>  Sun, 16 Aug 2020 16:11:35 +0200

opsipxeconfd (4.2.0.10-1) stable; urgency=medium

  * Feature:  added logging context
  * Bugfix:  fixed import of opsipxeconfd from opsipxeconfdinit
  * Bugfix:  added install-x64 file and debug output
  * Bugfix:  increase sleep time after startup
  * Bugfix:  fixed parser creation
  * Bugfix:  allowed for 0 commands to be supplied

 -- uib GmbH <info@uib.de>  Wed, 29 Jul 2020 13:09:13 +0200

opsipxeconfd (4.2.0.9-1) stable; urgency=medium

  * Improvement:  Backport-Release from opsi 4.1 based on opsipxeconfd version: (4.1.1.20-3)
  * Improvement:  Backport-Release from opsi 4.1 based on opsipxeconfd version: (4.1.1.20-3)

 -- uib GmbH <info@uib.de>  Fri, 10 Jul 2020 11:46:54 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsi-script]]
=== Changelog `opsi-script`

[source,changelog]
----
opsi-winst/opsi-script (4.12.4.17) stable; urgency=low

 * change getFileBom to fileHasBom(<filename>) : boolean

-- d.oertel <d.oertel@uib.de> Wed, 31 Mar 2021 15:00

opsi-winst/opsi-script (4.12.4.16) stable; urgency=low

 * can now handle *.opsiscript files with bom
 * call of execwith section with /encoding parameter (by j.laajili)
 * new string function: getOSarchitecture (x86_32 / x86_64/ arm_64)
 * new boolean function: runningInWAnMode (true if opsiserver = localhost) default=false

-- d.oertel <d.oertel@uib.de> Fri, 26 Feb 2021 15:00

opsi-winst/opsi-script (4.12.4.15) stable; urgency=low

 * new function asConfidentialList(<list>) : stringlist
 * new GUI Interface implementation
 * some additional try excet in osjson and load testfile variants
 * osGUIControl: unify skin directories to 'skin' with fallback to custom\winstskin at windows
 * standard out file at windows now opsi-script.exe
 * locale is now opsi-script.po (also at windows)
 * winstxx.exe only as symbolic links to opsi-script.exe (for backward compatibility)
 * osparser: executesection: shellinanIcon: logleveloffset=0

-- d.oertel <d.oertel@uib.de> Fri, 12 Feb 2021 15:00

opsi-winst/opsi-script (4.12.4.14) stable; urgency=low

 * redesign of TXStringlist file in and out encoding  (by j.laajili)
 * call of patches section with /encoding parameter (by j.laajili)
 * call of patchTextFile section with /encoding parameter  (by j.laajili)
 * new boolean function: fileorfolderExists(<file name>, [<access arch>]) (by j.laajili)
 * osregistry: open Registry with KEY:READ instead of KEY_ALL_ACCESS. Thanks to Jens Boettge. ; fixes  #4625

-- d.oertel <d.oertel@uib.de> Fri, 29 Jan 2021 15:00

opsi-winst/opsi-script (4.12.4.13) stable; urgency=low

* osfunc: new: TUibIniFile.ReadRawSection (by j.laajili)
* new function getSectionFromIniFile based on ReadRawSection (by j.laajili)
* osxmlsections: fix for xml2 delnode

-- d.oertel <d.oertel@uib.de> Mon, 25 Jan 2021 15:00

opsi-winst/opsi-script (4.12.4.12) stable; urgency=low

* repair center batchgui on screen
* osregex: another empty string regex test
* license functions: opsiserviceuser if possible
* linux: shellBatch implemented as shellInAnIcon
* macos: osfunclin: getmyipbytarget: use path to ip command
* macos: runningWithGui also working for macos
* update opsi-script-lib
* update ssl libraries to 1.0.2u

-- d.oertel <d.oertel@uib.de> Wed, 16 Dec 2020 15:00

opsi-winst/opsi-script (4.12.4.11) stable; urgency=low

* files: copy: deny-list with '.DS_Store'
* files: on 'permission denied' call handle.exe if existing in opsi-script directory
* dosInAnIcon: if win7 and no new Arguments then call runAndCaptureOut

-- d.oertel <d.oertel@uib.de> Mon, 14 Dec 2020 15:00

opsi-winst/opsi-script (4.12.4.10) experimental; urgency=low

* macos: modify locale path for opsi-script-gui.app
* macos / linux: oscheck_gui_startable: kill opsi-laz-gui-test if not terminated
* osregex: filter empty input to avoid execeptions

-- d.oertel <d.oertel@uib.de> Thu, 26 Nov 2020 15:00


opsi-winst/opsi-script (4.12.4.9) experimental; urgency=low

* GetSectionFromIniFile: remove encoding transformation (windows only)

-- j.werner <j.werner@uib.de> Wed, 25 Nov 2020 17:39


opsi-winst/opsi-script (4.12.4.8) experimental; urgency=low

* isRegexMatch: checks if string is NOT empty before exec is executed
catchs exceptions

-- j.werner <j.werner@uib.de> Tue, 24 Nov 2020 14:55


opsi-winst/opsi-script (4.12.4.6) experimental; urgency=low

* import osprocesses
* call of opsi-laz-gui-test in extra log: ogdatei.StandardMainLogPath+'opsi-script-gui-test.log'

-- d.oertel <d.oertel@uib.de> Wed, 04 Nov 2020 15:00

opsi-winst/opsi-script (4.12.4.5) experimental; urgency=low

* the one and only project file is now opsi-script.lpi
you hav to switch zhe build mode for differen archtictures (win / mac / lin) (gui)
* the opsi-script nogui version is now opsi-script
* the opsi-script gui version is now opsi-script-gui
* opsi-script tests via opsi-laz-gui-test if a gui can be used
and if yes calls opsi-script-gui (via execv)

-- d.oertel <d.oertel@uib.de> Wed, 04 Nov 2020 15:00

opsi-winst/opsi-script (4.12.4.3) experimental; urgency=low

  * macos: integrate to opsiscript and opsiscriptnogui project (Remove mac project files)
  * new unit osstartprocess_cp (from osfunc, will be used in opsi-script-pilot)
  * more logging on alldelete
  * repair del -c
  * try to remove dirs also with copy_delay
  * new del option -r (retryOnReboot) default false (Windows only) If -r is set a missed delete action will be retried on Reboot. In this case normally a 'reboot after this script' flag will be set. By using the -c option setting this flag will be supressed The option -c (continue) make only sense in combination with -r
  * section name now as header of showoutput
  * startprocess_cp fix (jan werner)

  -- d.oertel d.oertel@uib.de Wed, 23 Sep 2020 15:00

opsi-winst/opsi-script (4.12.4.2) experimental; urgency=low

  * macos: try to read mountpoint from opsiclientd.conf default to /var/opsisetupadmin/opsi_depot

  -- d.oertel d.oertel@uib.de Tue, 15 Sep 2020 15:00

opsi-winst/opsi-script (4.12.4.0) experimental; urgency=low

  * includes changes from github merge request "Feature / Implementation parity between WinBatch, DosBatch and ExecWith"
    * DosBatch-Sections to be executed with elevated privileges like WinBatch could be using /RunElevated
    * /Run*-Parameters for ExecWith
    * Output catching, /showouput and getOutStreamFromSection support for WinBatch
  * compiled with lazarus 2.0.10
  * fix for /showoutput at win64
  * fix for runningonuefi if w10 release >= 2004
  * osparser: execDosBatch: additional parameters now allowed for shellInAnIcon &co:
     /runElevated
     /TimeoutSeconds <number>
     /WaitForProcessEnding <string>
     /LetThemGo

-- j.werner <j.werner@uib.de> Thu, 30 Jul 2020 17:54

opsi-winst/opsi-script (4.12.3.18) experimental; urgency=low

  * UTF8String replaced by String
  * AnsiToUTF8() removed accordingly
  * compiled with lazarus 2.0.10

-- j.werner <j.werner@uib.de> Thu, 30 Jul 2020 16:56

opsi-winst/opsi-script (4.12.3.17) stable; urgency=low

  * osfunc: StartProcess_cp: log message: 'Started process' now in utf8 encoding
  * osfunc: StartProcess_cp: use filename and parameters
  * compiled with lazarus 2.0.10

-- d.oertel <d.oertel@uib.de> Thu, 23 Jul 2020 15:00

opsi-winst/opsi-script (4.12.3.16) stable; urgency=low

  * oswebservice:sendlog: Log that using default if getLogsize failed
  * osfuncwin: some logprog in WinIsUefi
  * osfuncwin:  getW10Release
  * osfuncwin: WinIsUefi: fix uefi detection if w10 release >= 2004
  * osparser: good bye to cmd64.exe
  * osfunc: alldelete: change loglevel for not deleted files

-- d.oertel <d.oertel@uib.de> Fri, 19 Jun 2020 15:00

opsi-winst/opsi-script (4.12.3.15) experimental; urgency=low

  * oswebservice: avoid double /rpc in service url;
  * osfunclin: better getProfilesDirListLin
  * osparser: doTextpatch: Do not crash on not creatable files
  * osprocessess: ProcessIsRunning: more info in warning

-- d.oertel <d.oertel@uib.de> Tue, 09 Jun 2020 15:00

opsi-winst/opsi-script (4.12.3.14) experimental; urgency=low

  * osparser: new flag: cmd64checked to avoid repeated checks for cmd64.exe
  * osmain: bool var runSilent used in cli parameter check and to call
    FBatchOberflaeche.setVisible(True/False);
  * osbatchgui: start FBatchOberflaeche visible=false ; fixes #4485

-- Detlef Oertel <d.oertel@uib.de>  Thu, 04 Jun 2020:15:00:00 +0200

opsi-winst/opsi-script (4.12.3.13) experimental; urgency=low

  * osmain: bootmode: now using opsiclientagentconf
  * linux: osprocesses: ProcessIsRunning: look for exact match in 15 char shortcmd
  * osfunclin: os_shutdown()
  * osmain: (linux) try to direct reboot or shutdown

-- Detlef Oertel <d.oertel@uib.de>  thu, 12 Mar 2020:15:00:00 +0200

----

[[opsi-4.2-releasenotes-misc-changelogs-opsi-linux-bootimage]]
=== Changelog `opsi-linux-bootimage`

[source,changelog]
----
opsi-linux-bootimage (20210519-1) testing; urgency=low

  * updated grubx64.efi with TFTP patch

 -- Mathias Radtke <m.radtke@uib.de> Wed, 19 May 2021 11:25:00 +0200

opsi-linux-bootimage (20210518-3) testing; urgency=low

  * corrected error on patching grub.cfg

 -- Mathias Radtke <m.radtke@uib.de> Tue, 18, May 2021 12:17:00 +0200

opsi-linux-bootimage (20210518-2) testing; urgency=medium

  * updating current grub.cfg to work with new grub

 -- Mathias Radtke <m.radtke@uib.de> Tue, 18, May 2021 10:19:00 +0200

opsi-linux-bootimage (20210518-1) testing; urgency=medium

  * updated grub.cfg

 -- Mathias Radtke <m.radtke@uib.de> Tue, 18, May 2021 08:22:00 +0200

opsi-linux-bootimage (20210512-1) testing; urgency=medium

  * updated python-opsi
  * included new grub with higher blocksize
 
 -- Mathias Radtke <m.radtke@uib.de> Wed, 12 May 2021 14:15:00 +0100

opsi-linux-bootimage (20210426-1) testing; urgency=medium

  * updated python opsi
  * PATCHA_IN provides more variables

 -- Mathias Radtke <m.radtke@uib.de> Mon, 26 Apr 2021 15:15:00 +0100

opsi-linux-bootimage (20210413-1) testing; urgency=medium

  * updated python-opsi
  * kernel 5.11.8

 -- Mathias Radtke <m.radtke@uib.de> Tue, 13 Apr 2021 11:41:00 +0200

opsi-linux-bootimage (20210326-1) testing; urgency=medium

  * updated python-opsi
  * added rtc driver
  * nvme-cli added

 -- Mathias Radtke <m.radtke@uib.de> Thu, 25 Mar 2021 12:21:00 +0100

opsi-linux-bootimage (20210305-1) testing; urgency=medium

  * kernel 5.10.20
  * using default resov.conf instead of systemd stub resolver

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 05 Mar 2021 14:23:27 +0100

opsi-linux-bootimage (20210209-1) testing; urgency=medium

  * kernel 5.10.14
  * updated python-opsi
  * patcha now support multi line replacement

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 09 Feb 2021 10:16:23 +0100

opsi-linux-bootimage (20210201-1) testing; urgency=medium

  * no more sfdisk downgrades
  * updated python-opsi

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 01 Feb 2021 10:30:45 +0100

opsi-linux-bootimage (20210119-1) testing; urgency=medium

  * using WebDav when it is set in protocol

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 19 Jan 2021 09:30:40 +0100

opsi-linux-bootimage (20210118-1) testing; urgency=medium

  * kernel 5.10.7
  * removed ntl_nic from to be removed firmware

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 18 Jan 2021 09:52:07 +0100

opsi-linux-bootimage (20201120-1) testing; urgency=medium

  * corrected build process
  * corrected Microsoft Dock Patch

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 20 Nov 2020 14:26:35 +0100

opsi-linux-bootimage (20201118-1) testing; urgency=medium

  * removed wifi related code

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 18 Nov 2020 14:27:58 +0100

opsi-linux-bootimage (20201106-1) testing; urgency=medium

  * kernel 5.9.6
  * removed rngd
  * fixed secure boot check

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 06 Nov 2020 10:35:06 +0100

opsi-linux-bootimage (20201007-1) testing; urgency=medium

  * manually adding shred binary
  * added pycryptodome
  * kernel 5.8.13

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 07 Oct 2020 08:34:14 +0200

opsi-linux-bootimage (20200915-1) testing; urgency=medium

  * updated Microsoft surface dock patch

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 15 Sep 2020 10:05:27 +0200

opsi-linux-bootimage (20200908-1) testing; urgency=medium

  * kernel 5.8.5
  * deativated lidswitch on closed notebooks

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 08 Sep 2020 15:34:30 +0200

opsi-linux-bootimage (20200827-2) testing; urgency=medium

  * corrected opsi image startup on boot

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 27 Aug 2020 16:40:32 +0200

opsi-linux-bootimage (20200827-1) testing; urgency=medium

  * added crypt to hidden imports in binary build process

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 26 Aug 2020 14:58:12 +0200

opsi-linux-bootimage (20200824-1) testing; urgency=medium

  * postinst/spec: corrected usage of fileadmins group

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 24 Aug 2020 10:27:41 +0200

opsi-linux-bootimage (20200821-1) testing; urgency=medium

  * pre/postinst: fixed error on non existing 32bit config files

 -- Mathias Radtke <m.radtke@uib.de>  Fri, 21 Aug 2020 10:49:39 +0200

opsi-linux-bootimage (20200819-1) testing; urgency=medium

  * pre/postinst: removed 32bit legacy stuff

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 19 Aug 2020 14:20:12 +0200

opsi-linux-bootimage (20200818-3) testing; urgency=medium

  * spec: removed some leftover legacy stuff

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 18 Aug 2020 13:19:56 +0200

opsi-linux-bootimage (20200818-2) testing; urgency=medium

  * spec: removed legacy 32bit files

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 18 Aug 2020 11:27:10 +0200

opsi-linux-bootimage (20200818-1) testing; urgency=medium

  * fixed more errors due to non available 32bit bootimage

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 18 Aug 2020 10:00:00 +0200

opsi-linux-bootimage (20200817-2) testing; urgency=medium

  * fixed error in automated build process

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 17 Aug 2020 16:10:00 +0200

opsi-linux-bootimage (20200817-1) testing; urgency=medium

  * python3
  * ubuntu 20.04 as base

 -- Mathias Radtke <m.radtke@uib.de>  Mon, 17 Aug 2020 14:08:07 +0200

opsi-linux-bootimage (20200814-1) testing; urgency=medium

  * opsi 4.2 modifications

 -- Jan Schneider <j.schneider@uib.de>  Fri, 14 Aug 2020 15:35:00 +0200

opsi-linux-bootimage (20200624-1) testing; urgency=medium

  * added p7zip-full
  * kernel 5.7.5

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 24 Jun 2020 09:32:50 +0200

opsi-linux-bootimage (20200506-1) testing; urgency=medium

  * Ignoring clientconfig.depot.protocol = webdav; fallback to cifs
  * when bootimage creates a new client which is in uefi mode, the uefi
    setting in opsi backend is added
  * when bootimage creates a new client with manually added append parameters,
    those parameters are added to the clients opsi-linux-bootimage.append
    parameter
  * grub.cfg now contains more entries for manually starting a client with
    specific append parameters

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 06 May 2020 11:26:00 +0200

opsi-linux-bootimage (20200416-1) testing; urgency=medium

  * kernel 5.6.4
  * rpm: corrected signed kernel linking error

 -- Mathias Radtke <m.radtke@uib.de>  Thu, 16 Apr 2020 10:40:00 +0200

opsi-linux-bootimage (20200407-2) testing; urgency=medium

  rpm: corrected replacing directories on SLES/OpenSUSE*

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 07 Apr 2020 16:28:00 +0200

opsi-linux-bootimage (20200407-1) testing; urgency=medium

  * updated grub to 2.02+dfsg1-20
  * updated grub regexp.mod
  * added grub http.mod
  * kernel 5.6.2

 -- Mathias Radtke <m.radtke@uib.de>  Tue, 07 Apr 2020 11:57:00 +0200

opsi-linux-bootimage (20200205-1) testing; urgency=medium

  * intel lpss modules are now modular

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 05 Feb 2020 16:00:52 +0100

opsi-linux-bootimage (20200203-1) testing; urgency=medium

  * kernel 5.4.15
  * fixed error when using secure boot module on SLES/openSUSE opsi server
  * opsi.init: addeed possibility to use easypass bootimage append parameter
    to change root password

 -- Mathias Radtke <m.radtke@uib.de>  Wed, 29 Jan 2020 16:20:29 +0100

----
